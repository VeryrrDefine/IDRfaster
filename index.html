<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.25, maximum-scale=4.0, user-scalable=yes" />
        
        <link href="style.css" rel="stylesheet" type="text/css" />
		
		<style>
		
		.slicetext {
		  animation: corrupted_text 0.5s cubic-bezier(0.37, 0, 0.63, 1) infinite;
		  font-size: 24px;
		}

		@keyframes corrupted_text {

		  0%,
		  100% {
			text-shadow: -7px -7px 7px #5555ff, 4px 4px 4px #ff5555;
			color: white;
		  }

		  25% {
			text-shadow: -7px 7px 7px #5555ff, 4px -4px 4px #ff5555;
			color: #eeddff;
		  }

		  50% {
			text-shadow: 7px 7px 7px #5555ff, -4px -4px 4px #ff5555;
			color: white;
		  }

		  75% {
			text-shadow: 7px -7px 7px #5555ff, -4px 4px 4px #ff5555;
			color: #ffddee;
		  }
		}
		.ftsz1 {
			margin: 4px 2px;
			font-size: 12px;
			color: #ffffff;
		}

		.ftsz2 {
			margin: 4px 2px;
			font-size: 16px;
			color: #ffffff;
		}

		.ftsz3 {
			margin: 4px 2px;
			font-size: 24px;
			color: #ffffff;
		}

		.ftsz4 {
			margin: 4px 2px;
			font-size: 32px;
			color: #ffffff;
		}

		.ftsz5 {
			margin: 4px 2px;
			font-size: 48px;
			color: #ffffff;
		}

		.ftsz6 {
			margin: 4px 2px;
			font-size: 64px;
			color: #ffffff;
		}
		
		.pagebt {
			background-color: black;
			height: 50px;
			width: 100%;
			border: 4px solid white;
			color: white;
			padding: 10px;
			text-align: center;
			font-size: 16px;
			opacity: 1;
		}
		
		.pagebt:hover {
			opacity: 0.5;
		}
		
		.spagebt {
			background-color: black;
			height: 30px;
			width: 80px;
			border: 2px solid white;
			color: white;
			padding: 5px;
			text-align: center;
			font-size: 9px;
			opacity: 1;
		}
		
		.spagebt:hover {
			opacity: 0.5;
		}
		
		.ach {
			background-color: black;
			height: 70px;
			width: 70px;
			border: 1px solid white;
			color: white;
			font-size: 11px;
		}
		
		.button-wrapper {
		    position: relative;
		    display: inline-block;
			color: white;
			font-size: 12px;
		}

		.hover-box {
			position: absolute;
			top: -50px; /* Adjust this to position the box correctly */
			left: 0;
			width: 100%; /* Adjust this to match the button width */
			background-color: black;
			padding: 10px;
			border: 1px solid #ccc;
			display: none; /* Initially hide the box */
		}

		.button-wrapper:hover .hover-box {
			display: block; /* Show the box on hover */
		}
		
		@keyframes flash-red {
			0%, 100% {
				background-color: black;
			}
			50% {
				background-color: red;
			}
		}
		
		.news {
			border: 2px solid white;
			color: white;
			background: black;
			float: center;
			width: 90%;
			height: 18px;
			overflow: hidden;
		}
		
		.newstext {
			position: absolute;
			font-size: 12px;
			color: white;
			top: 25%;
			left: 100%;
			white-space: nowrap;
		}
		
		
		.buymaxjd {
			background-color: black;
			height: 30px;
			width: 200px;
			border: 2px solid white;
			color: white;
			padding: 4px;
			text-align: center;
			font-size: 12px;
			float: center;
		}
		
		.buyjd {
			background-color: black;
			height: 30px;
			width: 200px;
			border: 2px solid white;
			color: white;
			padding: 4px;
			text-align: center;
			font-size: 12px;
			float: right;
		}
		
		.autobuybt {
			background-color: black;
			height: 30px;
			width: 100px;
			border: 2px solid white;
			color: white;
			padding: 4px;
			text-align: center;
			font-size: 12px;
			float: right;
		}
		
		.boostbt {
			background-color: black;
			height: 150px;
			width: 200px;
			border: 3px solid white;
			color: white;
			padding: 10px;
			text-align: center;
			font-size: 14px;
		}
		
		.autoboost {
			background-color: black;
			height: 30px;
			width: 200px;
			border: 2px solid white;
			color: white;
			padding: 4px;
			text-align: center;
			font-size: 12px;
		}
		
		.PL1bt {
			background-color: blue;
			height: 150px;
			width: 200px;
			border: 3px solid white;
			color: white;
			padding: 10px;
			text-align: center;
			font-size: 14px;
			float: center;
		}
		
		.PL2bt {
			background-color: purple;
			height: 150px;
			width: 200px;
			border: 3px solid white;
			color: white;
			padding: 10px;
			text-align: center;
			font-size: 14px;
			float: center;
		}
		
		.PL3bt {
			background-color: gold;
			height: 150px;
			width: 200px;
			border: 3px solid white;
			color: white;
			padding: 10px;
			text-align: center;
			font-size: 14px;
			float: center;
		}
		
		.slicebt {
			background-color: black;
			height: 150px;
			width: 200px;
			border: 5px solid white;
			color: white;
			padding: 10px;
			text-align: center;
			font-size: 14px;
			float: center;
		}
		
		.unlock_origin {
			background-color: black;
			height: 120px;
			width: 180px;
			border: 2px solid white;
			color: white;
			padding: 8px;
			text-align: center;
			font-size: 12px;
			float: center;
		}
		
		.PL2mlstbt {
			background-color: white;
			height: 150px;
			width: 200px;
			border: 5px solid purple;
			color: black;
			padding: 10px;
			text-align: center;
			font-size: 14px;
			float: center;
		}
		
		.gnbt {
			background-color: black;
			height: 100px;
			width: 400px;
			border: 3px solid gold;
			color: white;
			padding: 5px;
			text-align: center;
			font-size: 16px;
			float: center;
		}
		
		.permupg {
			background-color: black;
			height: 40px;
			width: 40px;
			border: 2px solid white;
			color: white;
			padding: 4px;
			font-size: 12px;
			float: center;
		}
		
		.chalpara {
			background-color: black;
			height: 120px;
			width: 200px;
			border: 2px solid white;
			padding: 5px;
			font-size: 12px;
			float: center;
			color: white;
		}
		
		.spill {
			text-shadow: 1px 1px 3px white, -1px -1px 3px white, 0 0 24px white
		}
		
		.reaction {
			height: 30px;
			width: 100%;
			color: white;
			background: linear-gradient(to right, blue 0%, blue 50%, orange 50%, orange 100%);
			float: center;
		}
		
		.reactbar {
			height: 100%;
			width: 100%;
			color: white;
			background: white;
			float: right;
		}
		
		@keyframes elements {
			0%, 100% {
				border-color: #ff0000;
				background-color: #006666;
			}
			33% {
				border-color: #00ff00;
				background-color: #660066;
			}
			66% {
				border-color: #0000ff;
				background-color: #666600;
			}
		}
		
		@keyframes bhbutton {
			0%, 100% {
				background-color: black;
				color: white;
			}
			40% {
				background-color: black;
				color: white;
			}
			50% {
				background-color: white;
				color: black;
			}
			90% {
				background-color: white;
				color: black;
			}
		}
		
		.exchal {
			width: 60px;
			height: 60px;
			color: white;
			border: 1px solid white;
			background-color: grey;
			font-size: 20px;
		}
		</style>
	</head>

	<body style="background-color: #000000; font-family: MonospaceTypewriter, monospace ">
		<script type="text/javascript" src="break_eternity.js"></script>
		
		<title>数据增量重制版(C2)</title>
		<br>
		
		<div style="width: 100%; height: 100%; overflow-y: auto; overflow-x: auto">
		<div style="width: 15%; height: 100%; overflow-y: auto; overflow-x: hidden; position: absolute; top: 0; left: 0%;">
			<button class="pagebt" onclick="chpage(1)">传输节点</button>
			<button class="pagebt" onclick="chpage(2)">层级</button>
			<button class="pagebt" onclick="chpage(3)">统计</button>
			<button class="pagebt" onclick="chpage(4)" style="background-color: blue;" id="PL1pbt">世界</button>
			<button class="pagebt" onclick="chpage(5)" style="background-color: purple;" id="PL2pbt">宇宙</button>
			<button class="pagebt" onclick="chpage(6)" style="background-color: gold;" id="PL3pbt">混沌</button>
			<button class="pagebt" onclick="chpage(7)" style="background-color: white; color: black;" id="PL4pbt">虚空</button>
			<button class="pagebt" onclick="chpage(8)" style="background-color: #ff0000; color: #00ffff;" id="PL5pbt">天理</button>
			<button class="pagebt" onclick="chpage(9)" style="background-color: green; " id="PL6pbt">现实</button>
			<button class="pagebt" onclick="chpage(10)" style="background-image: url('beyond.jpg');
			background-size: cover;
			background-position: center; color: black; font-weight: bold;" id="PL7pbt">超越</button>
			<button class="pagebt" onclick="chpage(11)" id="pagebt11">杂项</button>
		</div>
		<div style="width: 85%; height: 100%; overflow-y: auto; overflow-x: auto; position: absolute; top: 0; left: 15%;">
		<div align="center" class="news">
			<span class="newstext" id="newstext">这是一条不滚动新闻</span>
		</div>
		<p align="center" class="ftsz3"><span>你有</span><span id="data"></span><span>数据</span></p>
		<p align="center" class="ftsz2"><span>混沌以前全局速度：×</span><span id="PL3globalspeed"></span></p>
		<p align="center">
		</p>
		
		<div id="page1">
			<p align="center">
				<button class="spagebt" onclick="chspage(1)">传输节点</button>
				<button class="spagebt" onclick="chspage(2)" id="spagebt2_1">星辰节点</button>
				<button class="spagebt" onclick="chspage(3)" id="spagebt3_1">永久升级</button>
			</p>
			<div id="spage1_1">
				<table align="center">
					<td>
						<button class="autoboost" id="autoboostbt" onclick="chautoboost()"><span id="autoboostbts"></span></button>
					</td>
					<td>
						<button class="autoboost" id="autoboost2bt" onclick="chautoboost2()"><span id="autoboost2bts"></span></button>
					</td>
					<td>
						<button class="autoboost" id="autoboost3bt" onclick="chautoboost3()"><span id="autoboost3bts"></span></button>
					</td>
					<tr>
					<td>
						<button class="boostbt" id="boostbt" onclick="buyboost()"><span id="boostscaling"></span>跃迁<span id="boostnum"></span>
						<br/>重置数据和传输节点，但提升跃迁。<span id="boosteffect"></span><br/>成本：<span id="boostcost"></span>数据</button>
					</td>
					<td>
						<button class="boostbt" id="boost2bt" onclick="buyboost2()">二重跃迁<span id="boost2num"></span>
						<br/>重置跃迁，但提升二重跃迁。<span id="boost2effect"></span><br/>成本：<span id="boost2cost"></span>跃迁</button>
					</td>
					<td>
						<button class="boostbt" id="boost3bt" onclick="buyboost3()">三重跃迁<span id="boost3num"></span>
						<br/>重置二重跃迁，但提升三重跃迁。<span id="boost3effect"></span><br/>成本：<span id="boost3cost"></span>二重跃迁</button>
					</td>
				</table>
				
				<p class="ftsz3">
					<button class="buymaxjd" onclick="allmaxjd()">全部最大化</button>
					<button class="buymaxjd" onclick="export_save()">导出存档到剪贴板</button>
					<button class="buymaxjd" onclick="import_save()">导入存档</button>
				</p>
				
				<div id="algor">
					<p class="ftsz2" align="center">
						<button class="buymaxjd" onclick="hidenode()">隐藏/显示传输节点界面</button><br>
					</p>
					<p class="ftsz2" align="center">
						<span>你有 </span><span id="algornum"></span><span> 算法， </span><span id="algordata"></span><span> 算法数据。</span>
						<br>
						<span>算法数据使你获得了 +</span><span class="ftsz3" id="algoreffect"></span><span> 免费传输节点等级<br></span>
						<span class="ftsz3 spill" id="algordataspill"></span>
						<table align="center">
						<td><button class="boostbt" id="algorbt" onclick="buyalgor()">购买算法<br>价格：<span id="algorcost"></span>世界信息</button></td>
						<td><button class="boostbt" id="algorrebuy1bt" onclick="buyalgorrebuy(1)"><span id="algorrebuy1scal"></span>真空衰变<span id="algorrebuy1"></span><br>使节点购买倍数^<span id="algorrebuy1effect"></span><br>价格：<span id="algorrebuy1cost"></span>世界信息</button></td>
						<td><button class="boostbt" id="algorrebuy2bt" onclick="buyalgorrebuy(2)"><span id="algorrebuy2scal"></span>宇宙折叠<span id="algorrebuy2"></span><br>使算法数据指数+<span id="algorrebuy2effect"></span><br>价格：<span id="algorrebuy2cost"></span>世界信息</button></td>
						</table>
					</p>
				</div>
				
				<div id="normal_node">
					<p class="ftsz2" align="center">
						<span>节点升级效果：每级×</span><span id="buyjdeffect"></span>
					</p>
					
					<p class="ftsz3" id="unlockjd1">
						<span id="jdzs1">折算</span><span>1号传输节点 # 等级 </span><span id="jdbuy1"></span><span> # </span><span id="jdnum1"></span><span> × </span><span id="jdx1"></span>
						<button class="autobuybt" onclick="chautobuyjd(1)" id="autobuyjdbt1"><span id="autobuyjds1"></span></button>
						<button class="buyjd" onclick="buyjd(1)" id="jdbuybt1">花费<span id="jdcost1"></span>数据升级</button>
					</p>
					<p class="ftsz3" id="unlockjd2">
						<span id="jdzs2">折算</span><span>2号传输节点 # 等级 </span><span id="jdbuy2"></span><span> # </span><span id="jdnum2"></span><span> × </span><span id="jdx2"></span>
						<button class="autobuybt" onclick="chautobuyjd(2)" id="autobuyjdbt2"><span id="autobuyjds2"></span></button>
						<button class="buyjd" onclick="buyjd(2)" id="jdbuybt2">花费<span id="jdcost2"></span>数据升级</button>
					</p>
					<p class="ftsz3" id="unlockjd3">
						<span id="jdzs3">折算</span><span>3号传输节点 # 等级 </span><span id="jdbuy3"></span><span> # </span><span id="jdnum3"></span><span> × </span><span id="jdx3"></span>
						<button class="autobuybt" onclick="chautobuyjd(3)" id="autobuyjdbt3"><span id="autobuyjds3"></span></button>
						<button class="buyjd" onclick="buyjd(3)" id="jdbuybt3">花费<span id="jdcost3"></span>数据升级</button>
					</p>
					<p class="ftsz3" id="unlockjd4">
						<span id="jdzs4">折算</span><span>4号传输节点 # 等级 </span><span id="jdbuy4"></span><span> # </span><span id="jdnum4"></span><span> × </span><span id="jdx4"></span>
						<button class="autobuybt" onclick="chautobuyjd(4)" id="autobuyjdbt4"><span id="autobuyjds4"></span></button>
						<button class="buyjd" onclick="buyjd(4)" id="jdbuybt4">花费<span id="jdcost4"></span>数据升级</button>
					</p>
					<p class="ftsz3" id="unlockjd5">
						<span id="jdzs5">折算</span><span>5号传输节点 # 等级 </span><span id="jdbuy5"></span><span> # </span><span id="jdnum5"></span><span> × </span><span id="jdx5"></span>
						<button class="autobuybt" onclick="chautobuyjd(5)" id="autobuyjdbt5"><span id="autobuyjds5"></span></button>
						<button class="buyjd" onclick="buyjd(5)" id="jdbuybt5">花费<span id="jdcost5"></span>数据升级</button>
					</p>
					<p class="ftsz3" id="unlockjd6">
						<span id="jdzs6">折算</span><span>6号传输节点 # 等级 </span><span id="jdbuy6"></span><span> # </span><span id="jdnum6"></span><span> × </span><span id="jdx6"></span>
						<button class="autobuybt" onclick="chautobuyjd(6)" id="autobuyjdbt6"><span id="autobuyjds6"></span></button>
						<button class="buyjd" onclick="buyjd(6)" id="jdbuybt6">花费<span id="jdcost6"></span>数据升级</button>
					</p>
					<p class="ftsz3" id="unlockjd7">
						<span id="jdzs7">折算</span><span>7号传输节点 # 等级 </span><span id="jdbuy7"></span><span> # </span><span id="jdnum7"></span><span> × </span><span id="jdx7"></span>
						<button class="autobuybt" onclick="chautobuyjd(7)" id="autobuyjdbt7"><span id="autobuyjds7"></span></button>
						<button class="buyjd" onclick="buyjd(7)" id="jdbuybt7">花费<span id="jdcost7"></span>数据升级</button>
					</p>
					<p class="ftsz3" id="unlockjd8">
						<span id="jdzs8">折算</span><span>8号传输节点 # 等级 </span><span id="jdbuy8"></span><span> # </span><span id="jdnum8"></span><span> × </span><span id="jdx8"></span>
						<button class="autobuybt" onclick="chautobuyjd(8)" id="autobuyjdbt8"><span id="autobuyjds8"></span></button>
						<button class="buyjd" onclick="buyjd(8)" id="jdbuybt8">花费<span id="jdcost8"></span>数据升级</button>
					</p>
				</div>
			</div>
			<div id="spage2_1" align="center">
				<p align="center">
					<button class="boostbt" id="dimbt" onclick="buydim()">维度<span id="dim"></span><br/>提升星辰节点指数^x，并给予1星辰<br/>价格：<span id="dimcost"></span>宇宙信息</button>
				</p>
				<p class="ftsz2">
					<span>你拥有</span><span id="star"></span><span>星辰</span><br>
					<span style="color: lightblue;" id="stareffect"></span><br>
				</p>
				<p class="ftsz3" align="left"><span id="snzs1">折算</span>
				    <span>1号星辰节点 # 等级 </span><span id="snbuy1"></span><span> # </span><span id="snnum1"></span><span> × </span><span id="snx1"></span>
					<button class="buyjd" onclick="buysn(1)" id="snbuybt1">花费<span id="sncost1"></span>星辰升级</button>
				</p>
				<p class="ftsz3" align="left"><span id="snzs2">折算</span>
				    <span>2号星辰节点 # 等级 </span><span id="snbuy2"></span><span> # </span><span id="snnum2"></span><span> × </span><span id="snx2"></span>
					<button class="buyjd" onclick="buysn(2)" id="snbuybt2">花费<span id="sncost2"></span>星辰升级</button>
				</p>
				<p class="ftsz3" align="left"><span id="snzs3">折算</span>
				    <span>3号星辰节点 # 等级 </span><span id="snbuy3"></span><span> # </span><span id="snnum3"></span><span> × </span><span id="snx3"></span>
					<button class="buyjd" onclick="buysn(3)" id="snbuybt3">花费<span id="sncost3"></span>星辰升级</button>
				</p>
				<p class="ftsz3" align="left"><span id="snzs4">折算</span>
				    <span>4号星辰节点 # 等级 </span><span id="snbuy4"></span><span> # </span><span id="snnum4"></span><span> × </span><span id="snx4"></span>
					<button class="buyjd" onclick="buysn(4)" id="snbuybt4">花费<span id="sncost4"></span>星辰升级</button>
				</p>
				<p class="ftsz3" align="left"><span id="snzs5">折算</span>
				    <span>5号星辰节点 # 等级 </span><span id="snbuy5"></span><span> # </span><span id="snnum5"></span><span> × </span><span id="snx5"></span>
					<button class="buyjd" onclick="buysn(5)" id="snbuybt5">花费<span id="sncost5"></span>星辰升级</button>
				</p>
				<p class="ftsz3" align="left"><span id="snzs6">折算</span>
				    <span>6号星辰节点 # 等级 </span><span id="snbuy6"></span><span> # </span><span id="snnum6"></span><span> × </span><span id="snx6"></span>
					<button class="buyjd" onclick="buysn(6)" id="snbuybt6">花费<span id="sncost6"></span>星辰升级</button>
				</p>
				<p class="ftsz3" align="left"><span id="snzs7">折算</span>
				    <span>7号星辰节点 # 等级 </span><span id="snbuy7"></span><span> # </span><span id="snnum7"></span><span> × </span><span id="snx7"></span>
					<button class="buyjd" onclick="buysn(7)" id="snbuybt7">花费<span id="sncost7"></span>星辰升级</button>
				</p>
				<p class="ftsz3" align="left"><span id="snzs8">折算</span>
				    <span>8号星辰节点 # 等级 </span><span id="snbuy8"></span><span> # </span><span id="snnum8"></span><span> × </span><span id="snx8"></span>
					<button class="buyjd" onclick="buysn(8)" id="snbuybt8">花费<span id="sncost8"></span>星辰升级</button>
				</p>
			</div>
			<div id="spage3_1" align="center">
				<div id="permupgeffect"></div>
				<div id="permupg"></div>
			</div>
		</div>
		<div id="page2">
			<p align="center">
				<button class="spagebt" onclick="chspage(1)">重置层级</button>
				<button class="spagebt" onclick="chspage(2)" id="spagebt2_2">挑战</button>
				<button class="spagebt" onclick="chspage(3)" id="spagebt3_2" style="box-shadow: 0px 0px 10px white">奇异挑战</button>
			</p>
			<div id="spage1_2" align="center">
				<table align="center">
					<td style="width: 500px; float: center;">
						<span class="ftsz3">你拥有 </span><span class="ftsz4" id="PL1info"></span><span class="ftsz3"> 世界信息</span>
						<br/>
						<button class="PL1bt" onclick="buyPL1()">世界重置：重置之前的所有内容，但获得世界信息。<br/>+ <span id="PL1infoget"></span> 世界信息。<br/>需要e80数据</button>
					</td>
					<td style="width: 500px; float: center;" id="PL2bt">
						<span class="ftsz3">你拥有 </span><span class="ftsz4" id="PL2info"></span><span class="ftsz3"> 宇宙信息</span>
						<br/>
						<button class="PL2bt" onclick="buyPL2()">宇宙重置：重置之前的所有内容，但获得宇宙信息。<br/>+ <span id="PL2infoget"></span> 宇宙信息。<br/>需要e7000世界信息</button>
					</td>
					<tr>
					<td style="width: 500px; float: center;" id="PL3bt">
						<span class="ftsz3">你拥有 </span><span class="ftsz4" id="PL3info"></span><span class="ftsz3"> 混沌信息</span>
						<br/>
						<button class="PL3bt" onclick="buyPL3()">混沌重置：重置之前的所有内容，但获得混沌信息。<br/>+ <span id="PL3infoget"></span> 混沌信息。<br/>需要e10000宇宙信息</button>
					</td>
				</table>
			</div>
			<div id="spage2_2" align="center">
				<p class="ftsz2"><span>挑战复杂度纪录：</span><span id="chalcompmax"></span>
				<br><span style="color: lightblue;" id="chalcompeffect"></span>
				<br><span>当前参数复杂度：</span><span id="chalcompnow"></span>
				<br><br>说明<br>你可以自由调整挑战参数，需要上一个层级的参数被选择，才能选择下一个层级。
				<br>任何挑战参数都会对游戏内容加以更改，使游戏变得更难的参数增加复杂度，反之亦然。
				<br>在挑战中进行宇宙重置以完成挑战，完成的挑战的复杂度越高，就能获得越多的奖励。
				<br></p>
				<button class="chalpara" style="height: 50px" onclick="resetchalpara()">重置挑战参数</button>
				<button class="chalpara" style="height: 50px" onclick="openchal()" id="openchal">开始/结束挑战</button>
				<div id="challenge_detail"></div>
			</div>
			<div id="spage3_2" align="center">
				<p class="ftsz2">奇异挑战<br>奇异挑战是系统事先预设的挑战，拥有普通挑战中没有的特殊参数。
				<br>奇异挑战可以完成多次，目标会逐渐增长。完成更多次的奇异挑战可以获得更高的奖励。
				<br>达成目标后点击挑战图标即可完成挑战。</p>
				<button class="chalpara" style="height: 30px" onclick="closeexchal()" id="closeexchal">退出奇异挑战</button>
				<div id="exchal_detail"></div>
			</div>
		</div>
		<div id="page3">
			<p align="center">
				<button class="spagebt" onclick="chspage(1)">节点软上限</button>
				<button class="spagebt" onclick="chspage(2)">跃迁</button>
				<button class="spagebt" onclick="chspage(3)">二重跃迁</button>
				<button class="spagebt" onclick="chspage(4)" id="spagebt4_3">三重跃迁</button>
			</p>
			<div id="spage1_3" align="center">
				<p class="ftsz2">
					<span>一阶软上限：开始于购买倍数 × </span><span id="jdscs1"></span><span> 指数弱化 × <span id="jdscx1"></span><br/>
					<span>二阶软上限：开始于购买倍数 × </span><span id="jdscs2"></span><span> 指数弱化 × <span id="jdscx2"></span><br/>
					<span>三阶软上限：开始于购买倍数 × </span><span id="jdscs3"></span><span> 指数弱化 × <span id="jdscx3"></span><br/>
					<span>四阶软上限：开始于购买倍数 × </span><span id="jdscs4"></span><span> 指数弱化 × <span id="jdscx4"></span><br/>
					<span>五阶软上限：开始于倍数 × e</span><span id="jdscs5"></span><span> 双指数弱化 × <span id="jdscx5"></span><br/>
					<span>六阶软上限：开始于倍数 × e</span><span id="jdscs6"></span><span> 双指数弱化 × <span id="jdscx6"></span><br/>
					<span>七阶软上限：开始于倍数 × e</span><span id="jdscs7"></span><span> 双指数弱化 × <span id="jdscx7"></span><br/>
					<span>八阶软上限：开始于倍数 × e</span><span id="jdscs8"></span><span> 双指数弱化 × <span id="jdscx8"></span><br/>
				</p>
			</div>
			<div id="spage2_3" align="center"><span class="ftsz2" style="color: red;">超过10跃迁之后，跃迁将超级折算！当前强度：^</span><span class="ftsz2" id="boostscalingeffect" style="color: red;"></span><br>
												<span class="ftsz2" id="boosteffectlist"></span></div>
			<div id="spage3_3" align="center"><span class="ftsz2" id="boost2effectlist"></span></div>
			<div id="spage4_3" align="center"><span class="ftsz2" id="boost3effectlist"></span></div>
		</div>
		<div id="page4">
			<p align="center">
				<button class="spagebt" onclick="chspage(1)">世界升级</button>
				<button class="spagebt" onclick="chspage(2)" id="spagebt2_4">位面切片</button>
				<button class="spagebt" onclick="chspage(3)">本源</button>
			</p>
			<div id="spage1_4" align="center">
				<table align="center">
					<td>
						<button class="PL1bt" onclick="buyPL1ug(1)" id="PL1ug1">
							升级节点不消耗资源。你可以自动升级节点。
							<br/>
							成本：1世界信息
						</button>
					</td>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(2)" id="PL1ug2">
							节点的一阶软上限弱化40%。
							<br/>
							成本：2世界信息
						</button>
					</td>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(3)" id="PL1ug3">
							跃迁增幅节点产能，当前：×<span id="PL1ug3effect"></span>
							<br/>
							成本：6世界信息
						</button>
					</td>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(4)" id="PL1ug4">
							跃迁超级折算弱化50%。
							<br/>
							成本：40世界信息
						</button>
					</td>
					<tr>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(5)" id="PL1ug5">
							跃迁不重置任何东西。解锁自动跃迁。
							<br/>
							成本：2500世界信息
						</button>
					</td>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(6)" id="PL1ug6">
							节点一阶软上限弱化50%、二至三阶软上限弱化40%。
							<br/>
							成本：10000世界信息
						</button>
					</td>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(7)" id="PL1ug7">
							节点一至二阶软上限延迟1.5次方出现。
							<br/>
							成本：30000世界信息
						</button>
					</td>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(8)" id="PL1ug8">
							世界信息公式变得更好。解锁位面切片。
							<br/>
							成本：50000世界信息
						</button>
					</td>
				</table>
			</div>
			<div id="spage2_4" align="center">
				<span class="slicetext">你拥有</span><span class="slicetext" id="slice"></span><span class="slicetext">位面切片</span>
				<br/>
				<span class="slicetext">它们使传输节点产能变为</span><span class="slicetext" id="slice_effect"></span><span class="slicetext">倍</span>
				<br/>
				<span class="ftsz2">在 1.000e64 位面切片将解锁自动升级。世界重置不会重置位面切片。</span>
				<table>
					<td>
						<button class="slicebt" id="slicebt1" onclick="buysliceupg(1)">
							位面切片获取量×(1.5^等级)<br/>
							等级：<span id="sliceupglevel1"></span><br/>
							需要：<span class="slicetext" id="sliceupgcost1"></span>位面切片
						</button>
					</td>
					<td>
						<button class="slicebt" id="slicebt2" onclick="buysliceupg(2)">
							位面切片效果指数+(0.05×等级)<br/>
							等级：<span id="sliceupglevel2"></span><br/>
							需要：<span class="slicetext" id="sliceupgcost2"></span>位面切片
						</button>
					</td>
					<td>
						<button class="slicebt" id="slicebt3" onclick="buysliceupg(3)">
							二重跃迁成本-(等级)<br/>
							等级：<span id="sliceupglevel3"></span><br/>
							需要：<span class="slicetext" id="sliceupgcost3"></span>位面切片
						</button>
					</td>
					<td>
						<button class="slicebt" id="slicebt4" onclick="buysliceupg(4)">
							传输节点产能^(1+0.005×等级)<br/>
							等级：<span id="sliceupglevel4"></span><br/>
							需要：<span class="slicetext" id="sliceupgcost4"></span>位面切片
						</button>
					</td>
					<tr>
					<td>
						<button class="slicebt" id="slicebt5" onclick="buysliceupg(5)">解锁自动二重跃迁，二重跃迁不重置任何东西<br/>需要：<span class="slicetext" id="sliceupgcost5"></span>位面切片</button>
					</td>
					<td>
						<button class="slicebt" id="slicebt6" onclick="buysliceupg(6)">世界信息公式变得更好<br/>需要：<span class="slicetext" id="sliceupgcost6"></span>位面切片</button>
					</td>
					<td>
						<button class="slicebt" id="slicebt7" onclick="buysliceupg(7)">节点一至三重软上限延迟1.5次方出现<br/>需要：<span class="slicetext" id="sliceupgcost7"></span>位面切片</button>
					</td>
					<td>
						<button class="slicebt" id="slicebt8" onclick="buysliceupg(8)">解锁宇宙重置<br/>需要：<span class="slicetext" id="sliceupgcost8"></span>位面切片</button>
					</td>
				</table>
				<span class="ftsz3" style="color: red;">位面切片软上限在 1e7、5e8、1e135</span>
			</div>
			<div id="spage3_4" align="center">
				<button class="unlock_origin" onclick="unlock_origin()" id="uunlock_origin">
					解锁本源<br/>
					价格：1e130世界信息
				</button>
				<div id="unlock_origin" align="center">
					<p align="center" class="ftsz4">你有 <span id="origin_data"></span> 本源数据</p>
					<p align="center" class="ftsz2" style="color: lightblue;"><span id="origin_effect"></span></p>
					<button class="PL1bt" onclick="buyoriginupg(1)" id="originupg1">
						本源数据获取速度+1<br>等级：<span id="originupglevel1"></span>/100.0<br>价格：<span id="originupgcost1"></span>
					</button>
					<button class="PL1bt" onclick="buyoriginupg(2)" id="originupg2">
						本源数据获取速度+3<br>等级：<span id="originupglevel2"></span>/100.0<br>价格：<span id="originupgcost2"></span>
					</button>
					<br>
					<button class="PL1bt" onclick="buyoriginupg(3)" id="originupg3">
						本源数据获取速度×1.5<br>等级：<span id="originupglevel3"></span>/30.00<br>价格：<span id="originupgcost3"></span>
					</button>
					<button class="PL1bt" onclick="buyoriginupg(4)" id="originupg4">
						本源数据获取速度×2.5<br>等级：<span id="originupglevel4"></span>/30.00<br>价格：<span id="originupgcost4"></span>
					</button>
					<button class="PL1bt" onclick="buyoriginupg(5)" id="originupg5">
						本源数据获取速度×5<br>等级：<span id="originupglevel5"></span><br>价格：<span id="originupgcost5"></span>
					</button>
				</div>
			</div>
		</div>
		<div id="page5">
			<p align="center">
				<button class="spagebt" onclick="chspage(1)">多宇宙</button>
				<button class="spagebt" onclick="chspage(2)" id="spagebt2_5">熵</button>
				<button class="spagebt" onclick="chspage(3)">升级</button>
				<button class="spagebt" onclick="chspage(4)" id="spagebt4_5"
				style="box-shadow: 0 0 4px #ff0,0 0 2px #ff0,0 0 8px #ff0,0 0 12px #ff0;">神星</button>
			</p>
			<div id="spage1_5">
				<p class="ftsz3" align="center">
					<span>你已经经过了</span><span id="PL2tms" style="color: purple;"></span><span>次宇宙重置</span>
				</p>
				<table align="center">
					<td><button class="PL2mlstbt" id="PL2mlst0">1宇宙重置<br/>永久自动位面切片升级</button></td>
					<td><button class="PL2mlstbt" id="PL2mlst1">2宇宙重置<br/>重置时世界升级全部处于已购买状态</button></td>
					<td><button class="PL2mlstbt" id="PL2mlst2">4宇宙重置<br/>重置时位面切片一次性升级全部处于已购买状态，自动化本源</button></td>
					<td><button class="PL2mlstbt" id="PL2mlst3">7宇宙重置<br/>世界重置将不重置任何东西</button></td>
					<tr>
					<td><button class="PL2mlstbt" id="PL2mlst4">10宇宙重置<br/>跃迁超级折算弱化25%</button></td>
					<td><button class="PL2mlstbt" id="PL2mlst5">15宇宙重置<br/>取消位面切片在 5.000e8 的软上限</button></td>
					<td><button class="PL2mlstbt" id="PL2mlst6">25宇宙重置<br/>解锁三重跃迁</button></td>
					<td><button class="PL2mlstbt" id="PL2mlst7">35宇宙重置<br/>解锁熵</button></td>
				</table>
			</div>
			<div id="spage2_5" align="center">
				<button class="PL2bt" style="width: 800px; height: 120px" onclick="openentropy()" id="openentropy">
					开始/结束收集熵<br>
					你将进行宇宙重置，并使传输节点的指数^0.9。
				</button>
				<table align="center" class="ftsz2">
					<td style="width: 400px; height: 200px;">
						<span>你有 </span><span id="ent0"></span><span> 熵_I</span><br>
						<span>熵_I的获取基于世界信息</span><br>
						<span style="color: lightblue;" id="entropyeffect0"></span>
					</td>
					<td style="width: 400px; height: 200px;">
						<span>你有 </span><span id="ent1"></span><span> 熵_II</span><br>
						<span>熵_II的获取基于跃迁数量</span><br>
						<span style="color: lightblue;" id="entropyeffect1"></span>
					</td>
					<tr>
					<td style="width: 400px; height: 200px;">
						<span>你有 </span><span id="ent2"></span><span> 熵_III</span><br>
						<span>熵_III的获取基于位面切片</span><br>
						<span style="color: lightblue;" id="entropyeffect2"></span>
					</td>
					<td style="width: 400px; height: 200px;">
						<span>你有 </span><span id="ent3"></span><span> 熵_IV</span><br>
						<span>熵_IV的获取基于数据</span><br>
						<span style="color: lightblue;" id="entropyeffect3"></span>
					</td>
				</table>
			</div>
			<div id="spage3_5" align="center">
				<table align="center" class="ftsz2">
					<td><button class="PL2bt" onclick="buyPL2upg(1)" id="PL2upg1">
						每秒获得1000%重置时可获得数量的世界信息<br>
						价格：1e12宇宙信息
					</button></td>
					<td><button class="PL2bt" onclick="buyPL2upg(2)" id="PL2upg2">
						自动购买三重跃迁，三重跃迁不重置任何东西<br>
						价格：1e13宇宙信息
					</button></td>
					<td><button class="PL2bt" onclick="buyPL2upg(3)" id="PL2upg3">
						自动获得0.1%重置时可获得数量的宇宙信息，解锁神星<br>
						价格：1e32宇宙信息
					</button></td>
					<td><button class="PL2bt" onclick="buyPL2upg(4)" id="PL2upg4">
						解锁永久升级（在节点选项卡内）<br>
						价格：1e75宇宙信息
					</button></td>
				</table>
			</div>
			<div id="spage4_5" align="center">	
				<p class="ftsz3"><span>你拥有 </span><span style="color: gold;" id="godstar"></span><span> 神星</span></p>
				<span class="ftsz2" style="color: lightblue;" id="godstareffect"></span>
				<br>
				<button class="gnbt" style="border-color: white;" onclick="buymaxgn()" id="buymaxgn">最大化购买神子</button>
				<table>
					<td><button class="gnbt" style="border-color: white;" onclick="unlockgn(1)" id="unlockgn1">需求：1e1.000e6数据</button>
					<button class="gnbt" style="border-color: white;" onclick="buygn(1)" id="gnbt1">一重神子 ~ <span id="gn1"></span><br>×<span id="gnx1"></span><br>价格: <span id="gnc1"></span>宇宙信息</button></td>
					<td><button class="gnbt" style="border-color: red;" onclick="unlockgn(2)" id="unlockgn2">需求：1e2.000e6数据</button>
					<button class="gnbt" style="border-color: red;" onclick="buygn(2)" id="gnbt2">二重神子 ~ <span id="gn2"></span><br>×<span id="gnx2"></span><br>价格: <span id="gnc2"></span>宇宙信息</button></td>
					<tr>
					<td><button class="gnbt" style="border-color: orange;" onclick="unlockgn(3)" id="unlockgn3">需求：1e3.000e6数据</button>
					<button class="gnbt" style="border-color: orange;" onclick="buygn(3)" id="gnbt3">三重神子 ~ <span id="gn3"></span><br>×<span id="gnx3"></span><br>价格: <span id="gnc3"></span>宇宙信息</button></td>
					<td><button class="gnbt" style="border-color: yellow;" onclick="unlockgn(4)" id="unlockgn4">需求：1e4.000e6数据</button>
					<button class="gnbt" style="border-color: yellow;" onclick="buygn(4)" id="gnbt4">四重神子 ~ <span id="gn4"></span><br>×<span id="gnx4"></span><br>价格: <span id="gnc4"></span>宇宙信息</button></td>
					<tr>
					<td><button class="gnbt" style="border-color: green;" onclick="unlockgn(5)" id="unlockgn5">需求：1e5.000e6数据</button>
					<button class="gnbt" style="border-color: green;" onclick="buygn(5)" id="gnbt5">五重神子 ~ <span id="gn5"></span><br>×<span id="gnx5"></span><br>价格: <span id="gnc5"></span>宇宙信息</button></td>
					<td><button class="gnbt" style="border-color: blue;" onclick="unlockgn(6)" id="unlockgn6">需求：1e6.000e6数据</button>
					<button class="gnbt" style="border-color: blue;" onclick="buygn(6)" id="gnbt6">六重神子 ~ <span id="gn6"></span><br>×<span id="gnx6"></span><br>价格: <span id="gnc6"></span>宇宙信息</button></td>
					<tr>
					<td><button class="gnbt" style="border-color: purple;" onclick="unlockgn(7)" id="unlockgn7">需求：1e7.000e6数据</button>
					<button class="gnbt" style="border-color: purple;" onclick="buygn(7)" id="gnbt7">七重神子 ~ <span id="gn7"></span><br>×<span id="gnx7"></span><br>价格: <span id="gnc7"></span>宇宙信息</button></td>
					<td><button class="gnbt" style="border-color: gold;" onclick="unlockgn(8)" id="unlockgn8">需求：1e8.000e6数据</button>
					<button class="gnbt" style="border-color: gold;" onclick="buygn(8)" id="gnbt8">八重神子 ~ <span id="gn8"></span><br>×<span id="gnx8"></span><br>价格: <span id="gnc8"></span>宇宙信息</button></td>
				</table>
			</div>
		</div>
		<div id="page6">
			<p align="center">
				<button class="spagebt" onclick="chspage(1)">混沌效果</button>
				<button class="spagebt" onclick="chspage(2)" id="spagebt2_6">反应堆</button>
				<button class="spagebt" onclick="chspage(3)" id="spagebt3_6" style="animation: elements 2s linear infinite;">元素</button>
				<button class="spagebt" onclick="chspage(4)" id="spagebt4_6" style="animation: bhbutton 5s linear infinite;">黑洞</button>
				<button class="spagebt" onclick="chspage(5)" id="spagebt5_6">数据压制</button>
			</p>
			<div id="spage1_6">
				<p class="ftsz3" align="center" id="autochaos">
					<button class="boostbt" onclick="let x = prompt('到达 X 混沌信息后混沌重置，若要关闭自动混沌输入-1', '');
					if(x == '-1'){player.autochaos = false;}else{player.autochaos = true; player.autochaosgoal = N(x);}" id="autochaosbutton">更改自动混沌设置</button>
				</p>
				<p class="ftsz3" align="center">
					<span>你进行了 </span><span style="color: gold;" id="PL3tms"></span><span> 次混沌重置</span><br>
					<span>你总共有 </span><span style="color: gold;" id="PL3infottl"></span><span> 混沌信息</span><br>
					<span class="ftsz2" style="color: lightblue;" id="PL3infoeffect"></span>
				</p>
			</div>
			<div id="spage2_6" align="center">
				<p class="ftsz2">你有<span id="chaosshard"></span>混沌碎片，<span id="chaosmass"></span>混沌质量<br></p>
				<span class="ftsz2" style="color: lightblue;" id="chaosmasseffect"></span>
				<button class="chalpara" onclick="addacce()">增加反应堆加速度</button>
				<button class="chalpara" onclick="subacce()">减少反应堆加速度</button>
				<br>
				<p class="ftsz2">反应堆加速度：<span id="reactpara0"></span>/<span id="reactparalim0"></span></p>
				<div class="reaction"><div class="reactbar" id="reactbar0"></div></div>
				<p class="ftsz2">反应堆热功率：<span id="reactpara1"></span>/<span id="reactparalim1"></span></p>
				<div class="reaction"><div class="reactbar" id="reactbar1"></div></div>
				<p class="ftsz2" style="color: red;">反应堆温度：<span id="reactpara2"></span>/<span id="reactparalim2"></span>，超限后反应失败。</p>
				<div class="reaction" style="background: red;"><div class="reactbar" id="reactbar2"></div></div>
				<p class="ftsz2">反应进度：<span id="reactpara3"></span>/<span id="reactparalim3"></span>，超限后获得<span id="reactgoal">混沌碎片</span></p>
				<div class="reaction" style="background: orange;"><div class="reactbar" id="reactbar3"></div></div>
			</div>
			<div id="spage3_6" align="center">
				<button class="chalpara" onclick="startelements()" id="startelements"></button>
				<br>
				<span class="ftsz2" id="elementseffect" style="color: lightblue;"></button>
			</div>
			<div id="spage4_6" align="center">
				<p class="ftsz3">当前虚空：#<span id="PL4tms"></span></p>
				<p class="ftsz2">奇点凝聚进度：<span id="singnow"></span>/<span id="singcap"></span></p>
				<br>
				<p class="ftsz2">黑洞关闭时可基于数据提升黑洞，黑洞开启时持续减弱黑洞并获得加成。黑洞小于1时自动关闭。<br>
				黑洞开启时基于黑洞大小凝聚奇点，进度满后将到达下一个虚空。</p>
				<br>
				<p class="ftsz2">黑洞(<span id="blackhole"></span>)</p>
				<button class="chalpara" id="bhbutton" onclick="cbh()">开启/关闭黑洞</button><br>
				<span class="ftsz2" style="color: lightblue;" id="bheffect"></span>
			</div>
			<div id="spage5_6" align="center">
				<p class="ftsz3">当前你有 <span style="color: silver;" id="suppdata"></span> 压制数据</p>
				<p class="ftsz3">压制数据生产了 <span style="color: silver;"id="colldata"></span> 折叠数据</p>
				<span class="ftsz2" style="color: lightblue;" id="colleffect"></span>
				<button class="chalpara" style="height: 160px; width: 80%; border-color: silver; box-shadow: 0px 0px 10px silver;" id="opensupp" onclick="opensupp()">
					<span class="ftsz3" style="color: silver">开启/关闭数据压制<br></span>
					<span class="ftsz3" id="suppget">+0 压制数据<br></span>
					<span id="suppweaken">启动数据压制之后，黑洞失效，强制开启奇异挑战1~4，但传输节点指数^1.5。</span>
				</button>
				<div style="width: 80%" id="suppupg_detail"></div>
			</div>
		</div>
		<div id="page7">
		</div>
		<div id="page8">
		</div>
		<div id="page9">
		</div>
		<div id="page10">
		</div>
		<div id="page11">
			<p align="center">
				<button class="spagebt" onclick="chspage(1)">成就</button>
				<button class="spagebt" onclick="chspage(2)">关于游戏</button>
				<button class="spagebt" onclick="chspage(3)">统计与推荐</button>
			</p>
			<div id="spage1_11" align="center">
				<table>
					<td><div class="button-wrapper"><button class="ach" id="ach0">0<br>你得从某个地方开始</button><div class="hover-box">达到1跃迁</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach1">1<br>总共八个</button><div class="hover-box">达到8跃迁</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach2">2<br>凑齐了</button><div class="hover-box">获得8号传输节点</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach3">3<br>回到原点</button><div class="hover-box">达到1二重跃迁</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach4">4<br>root古戈尔</button><div class="hover-box">达到1.000e50数据</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach5">5<br>疯狂的涨价</button><div class="hover-box">触发跃迁超级折算</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach6">6<br>连续袭击</button><div class="hover-box">达到2二重跃迁</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach7">7<br>看看这里吧！</button><div class="hover-box">查看统计界面</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach8">8<br>第一座墙</button><div class="hover-box">达到1.000e75数据</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach9">9<br>当离别开出花</button><div class="hover-box">达到1.000e80数据</div></div></td>
					<tr>
					<td><div class="button-wrapper"><button class="ach" id="ach10">10<br>致命打击</button><div class="hover-box">世界重置</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach11">11<br>您可以获得50个跃迁？！</button><div class="hover-box">达到50跃迁</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach12">12<br>撕裂世界</button><div class="hover-box">解锁位面切片</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach13">13<br>无限 0</button><div class="hover-box">达到1.797e308数据</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach14">14<br>无限 I</button><div class="hover-box">达到1.797e308世界信息</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach15">15<br>世界之原初</button><div class="hover-box">解锁本源</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach16">16<br>本源过载</button><div class="hover-box">达到1.000e40本源数据</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach17">17<br>上千</button><div class="hover-box">达到1.000e1000世界信息</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach18">18<br>免费赠送 II</button><div class="hover-box">查看世界界面</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach19">19<br>伸出新长的枝娅</button><div class="hover-box">达到1.000e7000世界信息</div></div></td>
					<tr>
					<td><div class="button-wrapper"><button class="ach" id="ach20">20<br>进度离你而去</button><div class="hover-box">宇宙重置</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach21">21<br>无限 II</button><div class="hover-box">达到1.797e308宇宙信息</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach22">22<br>继续叠加</button><div class="hover-box">达到1三重跃迁</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach23">23<br>强干扰</button><div class="hover-box">收集熵</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach24">24<br>这是什么？</button><div class="hover-box">解锁神星</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach25">25<br>升级槽不紧缺了</button><div class="hover-box">解锁永久升级</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach26">26<br>超级效率</button><div class="hover-box">达到1.000e7节点升级效果</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach27">27<br>更强的干扰</button><div class="hover-box">完成1次挑战</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach28">28<br>末日</button><div class="hover-box">触发真空衰变</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach29">29<br>那冬去春又来</button><div class="hover-box">达到1.000e10000宇宙信息</div></div></td>
					<tr>
					<td><div class="button-wrapper"><button class="ach" id="ach30">30<br>生于混沌</button><div class="hover-box">混沌重置</div></div></td>
					<td><div class="button-wrapper"><button class="ach" id="ach31">31<br>无限 III</button><div class="hover-box">达到1.797e308混沌信息</div></div></td>
				</table>
			</div>
			<div id="spage2_11" align="center">
				<p class="ftsz2">
					<span class="ftsz4">数据增量重制版 - Incremental Data Rewritten</span>
					<br>
					<span class="ftsz3">作者：seanxlx<br>当前版本：C2<br></span>
					<br>
					<span class="ftsz2">
						版本更新记录：
						<br>
						C2 - 混沌更新第二弹<br>
						增加了混沌层级的部分内容。<br>
						Endgame: 至少ee36数据。
						<br>
						C-News - 新闻更新<br>
						增加了滚动新闻。
						<br><br>
						C1 - 混沌更新<br>
						增加了混沌层级的部分内容。<br>
						Endgame: 10~ (看你的耐心) 混沌碎片。
						<br><br>
					</span>
				</p>
			</div>
			<div id="spage3_11" align="center">
				<p class="ftsz3">
					你有<span id="data2"></span>数据<br>
					<span class="ftsz2"id="datashow"></span>
				</p>
				<table align="center">
					<td></td>
					<td><button class="buymaxjd" onclick="window.open('https://0i00000000a7.github.io/IDR-savebank/', '_blank');">访问存档银行</button></td>
					<td></td>
					<tr>
					<td><button class="buymaxjd" onclick="window.open('https://dlsdl.github.io/wind_spirit_creation/', '_blank');">风灵作成</button></td>
					<td><button class="buymaxjd" onclick="window.open('https://0i00000000a7.github.io/points-incremental-rewritten/', '_blank');">点数增量重制版</button></td>
					<td><button class="buymaxjd" onclick="window.open('https://g1tyx.github.io/antimatter-dimensions/new/', '_blank');">反物质维度</button></td>
					<tr>
					<td><button class="buymaxjd" onclick="window.open('https://g8hh.github.io/incremental-mass-rewritten/', '_blank');">质量增量重制版</button></td>
					<td><button class="buymaxjd" onclick="window.open('https://liuliu66686.github.io/The-Periodic-Elements-Incemental-Tree/TMTR/index.html', '_blank');">元素周期增量树</button></td>
					<td><button class="buymaxjd" onclick="window.open('https://g8hh.github.io/c0v1d-modding-tree/', '_blank');">病毒树</button></td>
					<tr>
					<td><button class="buymaxjd" onclick="window.open('https://www.minecraft.net/zh-hans', '_blank');">我的世界</button></td>
					<td><button class="buymaxjd" onclick="window.open('https://mrredshark77.github.io/shark-incremental/', '_blank');">鲨鱼增量</button></td>
					<td><button class="buymaxjd" onclick="window.open('https://ys.mihoyo.com/?utm_source=adbdsem&from_channel=adbdsem#/', '_blank');">原神</button></td>
				</table>
			</div>
		</div>
		</div>
		
		</div>
		
		<script>
var page = 1;
var subpage = 1;
var sbc = [255, 255, 255];
var sbct = [-3, -2, -1];

function cnw(type)
{
	cnw_now = type;
}

var nowpage = 1;
var subpage = 1;
var get_PL1info = new Decimal(0);
var player;

function N(num)
{
	return new Decimal(num);
}

function init()
{
	player =
	{
		//start
		data: N(10),
		buyjd: [N(0), N(0), N(0), N(0), N(0), N(0), N(0), N(0)],
		jdnum: [N(0), N(0), N(0), N(0), N(0), N(0), N(0), N(0)],
		boost: N(0),
		boost2: N(0),
		
		//world
		PL1info: N(0),
		PL1unlock: false,
		PL1upg: [false, false, false, false, false, false, false, false],
		autobuyjd: [false, false, false, false, false, false, false, false],
		autoboost: false,
		autoboost2: false,
		slice: N(0),
		sliceupg_rep: [N(0), N(0), N(0), N(0)],
		sliceupg: [false, false, false, false],
		unlock_origin: false,
		origin_data: N(0),
		origin_upg: [N(0), N(0), N(0), N(0), N(0)],
		
		//universe
		PL2info: N(0),
		PL2unlock: false,
		PL2tms: N(0),
		buysn: [N(0), N(0), N(0), N(0), N(0), N(0), N(0), N(0)],
		star_node: [N(0), N(0), N(0), N(0), N(0), N(0), N(0), N(0)],
		star: N(0),
		dimension: N(0),
		boost3: N(0),
		autoboost3: false,
		entropy: [N(0), N(0), N(0), N(0)],
		openentropy: false,
		PL2upg: [false, false, false, false],
		godstar: N(0),
		godnode: [N(0), N(0), N(0), N(0), N(0), N(0), N(0), N(0)],
		buygn: [N(0), N(0), N(0), N(0), N(0), N(0), N(0), N(0)],
		gnunlock: [false, false, false, false, false, false, false, false],
		permupg: [],
		chalcomp: N(0),
		chalcomp_temp: N(0),
		openchal: false,
		chalpara: [false],
		algor: N(0),
		algordata: N(0),
		hidenode: false,
		algorrebuy: [N(0), N(0)],
		
		//chaos
		PL3info: N(0),
		PL3infottl: N(0),
		PL3unlock: false,
		PL3tms: N(0),
		chaosshard: N(0),
		chaosmass: N(0),
		reactpara: [N(0), N(0), N(0), N(0)],
		openelements: false,
		elements: 0,
		autochaos: false,
		autochaosgoal: N(0),
		blackhole: N(0),
		openbh: false,
		sing: N(0),
		exchal: [],
		openexchal: 0,
		colldata: N(0),
		opensupp: false,
		suppdata: N(0),
		suppupg: [],
		
		//void
		PL4tms: N(0),
		
		//theorem
		
		//reality
		
		//beyond
		
		//otherwise
		ach: [],
	};
}

var PL1upgcost = [N(1), N(2), N(6), N(40), N(2500), N(10000), N(30000), N(50000)];
var PL2upgcost = [N(1e12), N(1e13), N(1e32), N(1e75)];
var sliceupgcost = [N(5), N(6), N(7), N(8), N(300), N(15000), N(1e10), N(1e111)];
var insupgcostb = [N(300), N(50), N(300), N(50), N(300), N(50)];
var insupgcostx = [N(100), N(6), N(100), N(6), N(100), N(6)];

function chpage(p)
{
	page = p;
	subpage = 1;
}

function chspage(p)
{
	subpage = p;
}

function hard_reset()
{
	init();
	data_print();
}

//NOTATION ------------------------------------------------------------------------------------------------------------------------------------
//NOTATION ------------------------------------------------------------------------------------------------------------------------------------
var decimalOne = N(1);
var decimalZero = N(0);
function exponentialFormat(num, precision, mantissa = true) {
    let e = num.log10().floor()
    let m = num.div(Decimal.pow(10, e))
    if (m.toStringWithDecimalPlaces(precision) == 10) {
        m = decimalOne
        e = e.add(1)
    }
    e = (e.gte(1e6) ? format(e, 3) : (e.gte(10000) ? commaFormat(e, 0) : e.toStringWithDecimalPlaces(0)))
    if (mantissa)
        return m.toStringWithDecimalPlaces(precision) + "e" + e
    else return "e" + e
}

function commaFormat(num, precision) {
    if (num === null || num === undefined) return "NaN"
    if (num.mag < 0.001) return (0).toFixed(precision)
    let init = num.toStringWithDecimalPlaces(precision)
    let portions = init.split(".")
    //portions[0] = portions[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,")
    if (portions.length == 1) return portions[0]
    return portions[0] + "." + portions[1]
}


function regularFormat(num, precision) {
    if (num === null || num === undefined) return "NaN"
    if (num.mag < 0.0001) return (0).toFixed(precision)
    if (num.mag < 0.1 && precision !==0) precision = Math.max(precision, 4)
    return num.toStringWithDecimalPlaces(precision)
}

function fixValue(x, y = 0) {
    return x || new Decimal(y)
}

function sumValues(x) {
    x = Object.values(x)
    if (!x[0]) return decimalZero
    return x.reduce((a, b) => Decimal.add(a, b))
}

function format(decimal, precision = 3, small) {
    small = small || 0
    decimal = new Decimal(decimal)
    if (isNaN(decimal.sign) || isNaN(decimal.layer) || isNaN(decimal.mag)) {
        player.hasNaN = true;
        return "NaN"
    }
    if (decimal.sign < 0) return "-" + format(decimal.neg(), precision)
    if (decimal.mag == Number.POSITIVE_INFINITY) return "Infinity"
    if (decimal.gte("eeee1000")) {
        var slog = decimal.slog()
        if (slog.gte(1e6)) return "F" + format(slog.floor())
        else return Decimal.pow(10, slog.sub(slog.floor())).toStringWithDecimalPlaces(3) + "F" + commaFormat(slog.floor(), 0)
    }
    else if (decimal.gte("1e1000000")) return exponentialFormat(decimal, 2, false)
    else if (decimal.gte("1e10000")) return exponentialFormat(decimal, 2)
    else if (decimal.gte(1e6)) return exponentialFormat(decimal, 3)
    else if (decimal.gte(1e3)) return commaFormat(decimal, 0)
    else if (decimal.gte(0.0001) || !small) return regularFormat(decimal, precision)
    else if (decimal.eq(0)) return (0).toFixed(precision)

    decimal = invertOOM(decimal)
    let val = ""
    if (decimal.lt("1e1000")){
        val = exponentialFormat(decimal, precision)
        return val.replace(/([^(?:e|F)]*)$/, '-$1')
    }
    else   
        return format(decimal, precision) + "⁻¹"

}

function notation(decimal, precision = 3)
{
	return format(decimal, precision);
}

function formatWhole(decimal) {
    decimal = new Decimal(decimal)
    if (decimal.gte(1e9)) return format(decimal, 2)
    if (decimal.lte(0.99) && !decimal.eq(0)) return format(decimal, 2)
    return format(decimal, 0)
}

function formatTime(s) {
    if (s < 60) return format(s) + "s"
    else if (s < 3600) return formatWhole(Math.floor(s / 60)) + "m " + format(s % 60) + "s"
    else if (s < 86400) return formatWhole(Math.floor(s / 3600)) + "h " + formatWhole(Math.floor(s / 60) % 60) + "m " + format(s % 60) + "s"
    else if (s < 31536000) return formatWhole(Math.floor(s / 86400) % 365) + "d " + formatWhole(Math.floor(s / 3600) % 24) + "h " + formatWhole(Math.floor(s / 60) % 60) + "m " + format(s % 60) + "s"
    else return formatWhole(Math.floor(s / 31536000)) + "y " + formatWhole(Math.floor(s / 86400) % 365) + "d " + formatWhole(Math.floor(s / 3600) % 24) + "h " + formatWhole(Math.floor(s / 60) % 60) + "m " + format(s % 60) + "s"
}

function toPlaces(x, precision, maxAccepted) {
    x = new Decimal(x)
    let result = x.toStringWithDecimalPlaces(precision)
    if (new Decimal(result).gte(maxAccepted)) {
        result = new Decimal(maxAccepted - Math.pow(0.1, precision)).toStringWithDecimalPlaces(precision)
    }
    return result
}

// Will also display very small numbers
function formatSmall(x, precision=2) { 
    return format(x, precision, true)    
}

function invertOOM(x){
    let e = x.log10().ceil()
    let m = x.div(Decimal.pow(10, e))
    e = e.neg()
    x = new Decimal(10).pow(e).times(m)

    return x
}

//NOTATION ------------------------------------------------------------------------------------------------------------------------------------
//NOTATION ------------------------------------------------------------------------------------------------------------------------------------

function transformToDecimal(object)
{
	for (i in object) {
		if (typeof (object[i]) == "string" && !isNaN(new Decimal(object[i]).mag)) object[i] = new Decimal(object[i]);
		if (typeof (object[i]) == "object" && !isNaN(new Decimal(object[i]).mag)) transformToDecimal(object[i]);
		if (new Decimal(object[i]).gte("F1e308")) object[i] = new Decimal(1);
	}
}

function data_print()
{
	localStorage.IDRgamesave = btoa(JSON.stringify(player));
}

function data_input()
{
	if (!localStorage.IDRgamesave) return;
	player = JSON.parse(atob(localStorage.IDRgamesave));
	transformToDecimal(player);
}

async function jtb(text) {
  try {
    await navigator.clipboard.writeText(text);
    console.log('Text copied to clipboard');
  } catch (err) {
    console.error('Failed to copy text: ', err);
  }
}

function export_save()
{
	jtb(btoa(JSON.stringify(player)));
}

function import_save()
{
	let userInput = prompt("导入：", "输入存档");
	if (userInput != null && userInput !== "") {
		player = JSON.parse(atob(userInput));
		transformToDecimal(player);
		data_print();
		location.reload();
	} else {
	}
}

function getjdscs(i)
{
	let base = [N(1024), N(1e10), N(1e50), N('e400'), N(180000), N(1e7), N(2e8), N(2e10)];
	if(getexchalopen().includes(6)) return base;
	
	if(player.boost.gte(55)) base[2] = base[2].pow(1.5);
	if(player.boost.gte(315)) base[3] = base[3].pow(1.25);
	if(player.boost2.gte(250)) base[3] = base[3].pow(2);
	if(player.PL1upg[6]) for(let j = 0;j < 2;j++) base[j] = base[j].pow(1.5);
	if(player.sliceupg[2]) for(let j = 0;j < 3;j++) base[j] = base[j].pow(1.5);
	if(player.permupg.includes(15)) base[4] = base[4].mul(1.1);
	if(player.godstar.gte(3e6)) base[4] = base[4].pow(N(1).add(player.godstar.div(3e6).add(1).log10().add(10).log10().log10().min(0.025)));
	//delete
	if(player.boost3.gte(3)) {base[0] = N(Infinity); base[0].layer = Infinity;}
	if(player.boost3.gte(12)) {base[1] = N(Infinity); base[1].layer = Infinity;}
	if(player.boost3.gte(13)) {base[2] = N(Infinity); base[2].layer = Infinity;}
	return base;
}

function getjdscx(i)
{
	let base = [N(1), N(4), N(99), N(999), N(1 / 9), N(1 / 6), N(1 / 3), N(1 / 7)];
	if(getexchalopen().includes(6))
	{
		for(let i = 0;i < 8;i++) base[i] = N(1).div(base[i].add(1));
		return base;
	}
	
	if(player.boost.gte(15)) base[0] = base[0].mul(0.75);
	if(player.boost.gte(20)) base[0] = base[0].mul(0.4);
	if(player.boost.gte(21)) base[1] = base[1].mul(N(1).div(player.boost.add(1).root(15)));
	if(player.boost2.gte(2)) base[0] = base[0].mul(N(1).div(player.boost.add(1).root(5)));
	if(player.boost2.gte(48)) for(let j = 0;j < 3;j++) base[j] = base[j].mul(N(1).div(player.boost2.root(10)));
	if(player.boost2.gte(119)) for(let j = 1;j < 4;j++) base[j] = base[j].mul(0.3);
	if(player.PL1upg[1]) base[0] = base[0].mul(0.6);
	if(player.PL1upg[5]) base[0] = base[0].mul(0.5);
	if(player.PL1upg[5]) base[1] = base[1].mul(0.6);
	if(player.PL1upg[5]) base[2] = base[2].mul(0.6);
	if(player.permupg.includes(1)) base[4] = base[4].mul(0.8);
	if(player.boost2.gte(470)) base[3] = base[3].mul(0.7);
	if(player.permupg.includes(28)) base[3] = base[3].mul(0.5);
	if(player.permupg.includes(40)) base[6] = base[6].mul(0.6);
	//delete
	if(player.permupg.includes(51)) {base[4] = N(0);}
	for(let i = 0;i < 8;i++) base[i] = N(1).div(base[i].add(1));
	return base;
}

function getjdprice()
{
	let base = [N(10), N(1000), N(1e5), N(1e7), N(1e9), N(1e11), N(1e13), N(1e15)];
	let basex = [N(10), N(100), N(1000), N(1e4), N(1e5), N(1e6), N(1e7), N(1e8)];
	let jdprice = base;
	for(let i = 0;i < 8;i++) jdprice[i] = jdprice[i].mul(basex[i].pow(player.buyjd[i]));
	return jdprice;
}

function getbuyjdeffect()
{
	let base = N(2);
	if(getexchalopen().includes(7)) return N(1);
	//mul
	if(player.PL2unlock && !player.permupg.includes(17)) base = base.mul(player.star.add(10).log10().pow(0.5));
	else if(player.PL2unlock && player.permupg.includes(17)) base = base.mul(player.star.add(2).log(2));
	if(player.permupg.includes(2)) base = base.mul(player.PL2info.add(1).log10().mul(1.5).root(1.75).max(1));
	if(player.godstar.gte(1e21)) base = base.mul(player.godstar.div(1e15).sub(999999).root(5).max(1).min(30000));
	if(player.permupg.includes(21)) base = base.mul(player.dimension.add(2).div(2).root(1.2));
	if(player.PL3info.gte(250000)) base = base.mul(player.PL3infottl.sub(250000).add(1).root(2));
	//pow
	if(player.permupg.includes(29)) base = base.pow(N(1).add(player.algorrebuy[0].add(player.permupg.includes(57) ? player.algorrebuy[1].mul(0.5) : 0).mul(0.05)));
	if(player.exchal[5].gte(1)) base = base.pow(exchal[5].effect());
	//dil
	return base;
}

function getjdx()
{
	let base = [N(1), N(1), N(1), N(1), N(1), N(1), N(1), N(1)];
	for(let i = 0;i < 8;i++)
	{
		let scs = getjdscs(i);
		let scx = getjdscx(i);
		base[i] = base[i].mul(getbuyjdeffect().pow(player.buyjd[i].add(player.permupg.includes(24) ? getalgoreffect() : 0)));
		for(let j = 0;j < 4;j++)
		{
			if(base[i].gte(scs[j]))
			{
				base[i] = scs[j].mul(base[i].div(scs[j]).pow(scx[j]));
			}
		}
		//mult
		if(player.boost2.gte(1)) base[i] = base[i].mul(3);
		if(player.boost2.gte(3)) base[i] = base[i].mul(player.boost2.add(1).mul(1.25).pow(3.5));
		if(player.boost2.gte(12)) base[i] = base[i].mul(player.PL1info.add(1).mul(0.5).pow(0.25).min('e100000'));
		if(player.boost.gte(9) && !player.boost.gte(52)) base[i] = base[i].mul(player.boost);
		if(player.boost.gte(52)) base[i] = base[i].mul(player.boost.pow(2));
		if(player.boost3.gte(8)) base[i] = base[i].mul(N(2).pow(player.boost.pow(1.35)).min('e5000'));
		if(player.boost3.gte(9)) base[i] = base[i].mul(player.PL2info.add(1).pow(45));
		if(player.PL1upg[2]) base[i] = base[i].mul(player.boost.add(1).pow(1.5));
		if(player.PL1upg[7]) base[i] = base[i].mul(getsliceeffect());
		if(player.origin_data.gte(1e5) && !(player.openchal && player.chalpara.includes(2))) base[i] = base[i].mul(player.origin_data.div(100).sub(1000).max(1).pow(20));
		if(player.entropy[2].gte(1)) base[i] = base[i].mul(N(100).pow(player.entropy[2].add(3).pow(4)).min('e8192'));
		if(player.PL2upg[2] && !player.permupg.includes(11)) base[i] = base[i].mul(N(10).pow(player.godstar.mul(60).root(1.8).min(N(2000).add(player.godstar.root(2.1))).min(N(10000).add(player.godstar.root(4))).min(N(20000).add(player.godstar.log10().mul(45)))).min('e1e12'));
		if(player.PL3infottl.gte(6.666)) base[i] = base[i].mul(player.PL3infottl.pow(100));
		//pow
		if(player.boost.gte(65)) base[i] = base[i].pow(N(1).add(player.boost.root(10).div(15)));
		if(player.boost3.gte(4))
		{
			let power = player.PL2info.add(1).log10().div(40).add(1);
			if(power.gte(1.1)) power = N(1.1).mul(power.div(1.1).pow(0.4));
			base[i] = base[i].pow(power.min(1.3));
		}
		if(player.PL1upg[7]) base[i] = base[i].pow(N(1).add(player.sliceupg_rep[0].mul(0.005)));
		if(player.permupg.includes(8)) base[i] = base[i].pow(player.PL2info.add(1).log10().add(10).log10().root(4).min(1.4));
		if(player.PL2upg[2] && player.permupg.includes(11)) base[i] = base[i].pow(player.godstar.add(10).log10().add(10).log10().root(3));
		if(player.permupg.includes(12)) base[i] = base[i].pow(player.star.add(10).log10().add(10).log10().root(6));
		if(player.chalcomp.gte(1.5)) base[i] = base[i].pow(N(1).add(player.chalcomp.log(1.5).root(7).log(2)));
		if(player.PL3unlock) base[i] = base[i].pow(player.PL3infottl.add(10).log10().root(2));
		if(player.boost3.gte(52)) base[i] = base[i].pow(player.boost.add(1).log10().div(3).add(1).root(2));
		if(player.elements >= 5) base[i] = base[i].pow(1.9 - 0.1 * i);
		if(player.exchal[1].gte(1)) base[i] = base[i].pow(exchal[1].effect());
		if(player.colldata.gte(1e18)) base[i] = base[i].pow(player.colldata.div(1e18).root(1.5).iteratedlog(10, 0.75).add(0.75));
		if(player.colldata.gte(1e54)) base[i] = base[i].pow(player.colldata.mul(player.star.add(1).root(1000)).div(1e54).add(9).log10());
		//dil
		if(player.openentropy)
		{
			base[i] = N(10).pow(base[i].log10().pow(0.9)).max(1);
		}
		if(player.openchal && player.chalpara.includes(0)) base[i] = N(10).pow(base[i].log10().pow(0.4)).max(1);
		if(player.openchal && player.chalpara.includes(4)) base[i] = N(10).pow(base[i].log10().pow(1.7)).max(1);
		if(player.openchal && player.chalpara.includes(5)) base[i] = N(10).pow(base[i].log10().pow(1.3)).max(1);
		if(getexchalopen().includes(3)) base[i] = N(10).pow(base[i].log10().pow(0.5)).max(1);
		if(player.opensupp) base[i] = N(10).pow(base[i].log10().pow(1.5)).max(1);
		for(let j = 4;j < 8;j++)
		{
			if(base[i].gte(N(10).pow(scs[j])))
			{
				base[i] = (N(10).pow(scs[j])).mul(N(10).pow(base[i].log10().sub(scs[j]).pow(scx[j])));
			}
		}
	}
	return base;
}

function buyjd(num)
{
	num = num - 1;
	let costlist = getjdprice();
	let cost = costlist[num];
	if(player.data.gte(cost))
	{
		if(!player.PL1upg[0]) player.data = player.data.sub(cost);
		player.buyjd[num] = player.buyjd[num].add(1);
		player.jdnum[num] = player.jdnum[num].add(10);
	}
}

function buymaxjd(num)
{
	let jdunlock = [N(1), N(2), N(3), N(4), N(5), N(6), N(7), N(8)];
	num = num - 1;
	let base = [N(10), N(1000), N(1e5), N(1e7), N(1e9), N(1e11), N(1e13), N(1e15)];
	let basex = [N(10), N(100), N(1000), N(1e4), N(1e5), N(1e6), N(1e7), N(1e8)];
	let cost = getjdprice();
	if(player.data.gte(cost[num]) && player.boost.gte(jdunlock[num]))
	{
		let ans = player.data.div(base[num]).log(basex[num]).floor().add(1);
		if(!player.PL1upg[0]) player.data = player.data.sub(cost[num]);
		player.jdnum[num] = player.jdnum[num].add(ans.sub(player.buyjd[num]).mul(10));
		player.buyjd[num] = ans;
	}
}

function chautobuyjd(num)
{
	num = num - 1;
	player.autobuyjd[num] = !player.autobuyjd[num];
}

function allmaxjd()
{
	for(let i = 0;i < 8;i++) buymaxjd(i + 1);
}

function getboostzs1x()
{
	let base = N(1);
	if(player.boost.gte(16)) base = base.mul(0.5);
	if(player.boost2.gte(5)) base = base.mul(0.5);
	if(player.boost2.gte(11)) base = base.mul(0.9);
	if(player.boost2.gte(90)) base = base.mul(!player.boost2.gte(370) ? N(1).div(player.boost2.add(2).root(11)) : N(1).div(player.boost2.add(1).mul(2).root(10)));
	if(player.boost3.gte(1)) base = base.mul(0.7);
	if(player.PL1upg[3]) base = base.mul(0.5);
	if(player.PL2tms.gte(10)) base = base.mul(0.75);
	if(player.entropy[0].gte(1.75)) base = base.mul(N(1).div(player.entropy[0].root(2)));
	if(player.permupg.includes(3)) base = base.mul(0.75);
	base = base.add(1);
	return base;
}

function getboostcost()
{
	let base = N(10).pow(player.boost);
	if(player.boost.gte(10))
	{
		let zsx = getboostzs1x();
		base = N(10).pow(10).mul(N(10).pow(N(zsx).pow(player.boost.sub(10))));
	}
	return base;
}

function getboost2cost()
{
	let base = player.boost2.mul(4).add(16);
	if(player.PL1upg[7]) base = base.sub(player.sliceupg_rep[2]);
	if(player.boost3.gte(2)) base = base.sub(player.boost3.add(1).mul(2).pow(1.25));
	if(player.permupg.includes(16)) base = base.sub(player.godstar.add(1).log10().min(10000));
	return base;
}

function getboost3cost()
{
	let base = player.boost3.add(8).pow(2);
	return base;
}

var boosteffectlist = [N(1), N(2), N(3), N(4), N(5), N(6), N(7), N(8)
, N(9), N(15), N(16), N(20), N(21), N(52), N(55), N(65)
, N(67), N(95), N(120), N(315), N(888)];
var boosteffectnum = 21;

function getboosteffect(b)
{
	if(!b.gte(1))
	{
		return '在1跃迁，解锁1号传输节点。';
	}
	else if(!b.gte(2))
	{
		return '在2跃迁，解锁2号传输节点。';
	}
	else if(!b.gte(3))
	{
		return '在3跃迁，解锁3号传输节点。';
	}
	else if(!b.gte(4))
	{
		return '在4跃迁，解锁4号传输节点。';
	}
	else if(!b.gte(5))
	{
		return '在5跃迁，解锁5号传输节点。';
	}
	else if(!b.gte(6))
	{
		return '在6跃迁，解锁6号传输节点。';
	}
	else if(!b.gte(7))
	{
		return '在7跃迁，解锁7号传输节点。';
	}
	else if(!b.gte(8))
	{
		return '在8跃迁，解锁8号传输节点。';
	}
	else if(!b.gte(9))
	{
		return '在9跃迁，节点产能增加等同于跃迁数量的倍数。';
	}
	else if(!b.gte(15))
	{
		return '在15跃迁，传输节点的一阶软上限弱化25%。';
	}
	else if(!b.gte(16))
	{
		return '在16跃迁，使跃迁超级折算弱化50%。';
	}
	else if(!b.gte(20))
	{
		return '在20跃迁，传输节点的一阶软上限弱化60%。';
	}
	else if(!b.gte(21))
	{
		return '在21跃迁，跃迁弱化传输节点的二阶软上限，当前：×' + notation(N(1).div(player.boost.add(1).root(15)));
	}
	else if(!b.gte(52))
	{
		return '在52跃迁，9跃迁的效果改为增加等同于跃迁数量的平方的倍数';
	}
	else if(!b.gte(55))
	{
		return '在55跃迁，节点三阶软上限延迟1.5次方出现。';
	}
	else if(!b.gte(65))
	{
		return '在65跃迁，跃迁提高传输节点的指数。当前：+' + notation(player.boost.root(10).div(15));
	}
	else if(!b.gte(67))
	{
		return '在67跃迁，世界信息增幅位面切片获取量。当前：×' + notation(player.PL1info.add(10).log(2).root(1.5));
	}
	else if(!b.gte(95))
	{
		return '在95跃迁，位面切片增幅指数增加0.2。';
	}
	else if(!b.gte(120))
	{
		return '在120跃迁，本源数据产能×5。';
	}
	else if(!b.gte(315))
	{
		return '在315跃迁，节点四阶软上限延迟1.25次方出现。';
	}
	else if(!b.gte(888))
	{
		return '在888跃迁，位面切片增幅指数×1.125';
	}
	else return '';
}

var boost2effectlist = [N(1), N(2), N(3), N(5), N(10), N(11), N(12), N(25)
, N(34), N(48), N(90), N(119), N(250), N(370), N(470)];
var boost2effectnum = 15;

function getboost2effect(b)
{
	if(!b.gte(1))
	{
		return '在1二重跃迁，节点产能增加3倍。';
	}
	else if(!b.gte(2))
	{
		return '在2二重跃迁，跃迁弱化传输节点的一阶软上限。当前：×' + notation(N(1).div(player.boost.add(1).root(5)));
	}
	else if(!b.gte(3))
	{
		return '在3二重跃迁，二重跃迁增幅节点产能。当前：×' + notation(player.boost2.add(1).mul(1.25).pow(3.5));
	}
	else if(!b.gte(5))
	{
		return '在5二重跃迁，使跃迁超级折算弱化50%。';
	}
	else if(!b.gte(10))
	{
		return '在10二重跃迁，跃迁数量加成世界信息获取量。当前：×' + notation(player.boost.add(1).mul(1.5).pow(0.75));
	}
	else if(!b.gte(11))
	{
		return '在11二重跃迁，使跃迁超级折算弱化10%。';
	}
	else if(!b.gte(12))
	{
		return '在12二重跃迁，世界信息增幅节点产能。当前：×' + notation(player.PL1info.add(1).mul(0.5).pow(0.25).min('e100000'));
	}
	else if(!b.gte(25))
	{
		return '在25二重跃迁，位面切片产能×5000。';
	}
	else if(!b.gte(34))
	{
		return '在34二重跃迁，位面切片数量增幅本源数据获取。当前：×' + notation(N(1).add(player.slice.log(2).div(30)));
	}
	else if(!b.gte(48))
	{
		return '在48二重跃迁，二重跃迁弱化节点一至三阶软上限。当前：×' + notation(N(1).div(player.boost2.root(10)));
	}
	else if(!b.gte(90))
	{
		return '在90二重跃迁，二重跃迁弱化跃迁超级折算。当前：×' + notation(!player.boost2.gte(370) ? N(1).div(player.boost2.add(2).root(11)) : N(1).div(player.boost2.add(1).mul(2).root(10)));
	}
	else if(!b.gte(119))
	{
		return '在119二重跃迁，节点二至四阶软上限弱化70%。';
	}
	else if(!b.gte(250))
	{
		return '在250二重跃迁，节点四阶软上限延迟2次方出现。';
	}
	else if(!b.gte(370))
	{
		return '在370二重跃迁，90二重跃迁的效果公式变得更好。';
	}
	else if(!b.gte(470))
	{
		return '在470二重跃迁，节点四阶软上限弱化30%。';
	}
	else return '';
}

var boost3effectlist = [N(1), N(2), N(3), N(4), N(8), N(9), N(12), N(13)
, N(52)];
var boost3effectnum = 9;

function getboost3effect(b)
{
	if(!b.gte(1))
	{
		return '在1三重跃迁，跃迁超级折算弱化30%。';
	}
	else if(!b.gte(2))
	{
		return '在2三重跃迁，三重跃迁减少二重跃迁成本。当前：-' + notation(player.boost3.add(1).mul(2).pow(1.25));
	}
	else if(!b.gte(3))
	{
		return '在3三重跃迁，移除节点一阶软上限。';
	}
	else if(!b.gte(4))
	{
		return '在4三重跃迁，宇宙信息以指数增幅节点产能。当前：^' + notation(player.PL2info.add(1).log10().div(40).add(1).min(1.3));
	}
	else if(!b.gte(8))
	{
		return '在8三重跃迁，跃迁倍增节点产能。当前：×' + notation(N(2).pow(player.boost.pow(1.35)).min('e5000'));
	}
	else if(!b.gte(9))
	{
		return '在9三重跃迁，宇宙信息倍增节点产能。当前：×' + notation(player.PL2info.add(1).pow(45));
	}
	else if(!b.gte(12))
	{
		return '在12三重跃迁，移除节点二阶软上限。';
	}
	else if(!b.gte(13))
	{
		return '在13三重跃迁，移除节点三阶软上限。';
	}
	else if(!b.gte(52))
	{
		return '在52三重跃迁，跃迁以指数增幅节点产能。当前：^' + notation(player.boost.add(1).log10().div(3).add(1).root(2));
	}
	else return '';
}

function boostreset()
{
	player.data = N(10);
	for(let i = 0;i < 8;i++)
	{
		player.buyjd[i] = N(0);
		player.jdnum[i] = N(0);
	}
}

function boost2reset()
{
	boostreset();
	player.boost = N(0);
}

function boost3reset()
{
	boost2reset();
	player.boost2 = N(0);
}

function PL1reset()
{
	boost2reset();
	player.boost2 = N(0);
}

function PL2reset()
{
	PL1reset();
	player.PL1info = N(0);
	player.PL1upg = [true, false, false, false, true, false, false, true];
	player.slice = N(0);
	player.sliceupg = [true, false, false, true];
	player.sliceupg_rep = [N(0), N(0), N(0), N(0)];
	player.unlock_origin = false;
	player.origin_data = N(0);
	player.origin_upg = [N(0), N(0), N(0), N(0), N(0)];
	player.boost3 = N(0);
}

function PL3reset()
{
	PL2reset();
	player.PL2info = N(0);
	player.PL2tms = N(0);
	player.PL1upg = [false, false, false, false, false, false, false, false];
	player.sliceupg = [false, false, false, true];
	player.PL2upg = [false, false, false, true];
	player.star = N(0);
	player.star_node = [N(0), N(0), N(0), N(0), N(0), N(0), N(0), N(0)];
	player.buysn = [N(0), N(0), N(0), N(0), N(0), N(0), N(0), N(0)];
	player.dimension = N(0);
	player.entropy = [N(0), N(0), N(0), N(0)];
	player.godstar = N(0);
	player.godnode = [N(0), N(0), N(0), N(0), N(0), N(0), N(0), N(0)];
	player.buygn = [N(0), N(0), N(0), N(0), N(0), N(0), N(0), N(0)];
	let keep = [N(29)];
	if(player.permupg.includes(31)) {keep.push(10);keep.push(13);keep.push(14);keep.push(18);keep.push(21);keep.push(23);keep.push(24);keep.push(27);keep.push(29);}
	for(let i = 0;i < 30;i++) if(!keep.includes(i)) player.permupg = player.permupg.filter(item => item !== i);
	player.algor = N(0);
	player.algordata = N(0);
	player.algorrebuy = [N(0), N(0)];
	player.hidenode = false;
}

function buyboost()
{
	if(getexchalopen().includes(1)) return;
	let cost = getboostcost();
	if(player.data.gte(cost))
	{
		if(!player.PL1upg[4]) boostreset();
		player.boost = player.boost.add(N(1));
	}
}

function buymaxboost()
{
	if(getexchalopen().includes(1)) return;
	if(!player.PL1upg[4]) return;
	let zs1x = getboostzs1x();
	let ans = N(0);
	if(!player.data.gte(1e10))
	{
		ans = player.data.log(10).floor().add(1);
	}
	else
	{
		ans = ((player.data.div(1e10)).log10().log(zs1x)).floor().add(11);
	}
	
	if(ans.gte(player.boost))
	{
		player.boost = ans;
	}
}

function buyboost2()
{
	if(getexchalopen().includes(1)) return;
	let cost = getboost2cost();
	if(player.boost.gte(cost))
	{
		if(!player.sliceupg[0]) boost2reset();
		player.boost2 = player.boost2.add(N(1));
	}
}

function buymaxboost2()
{
	if(getexchalopen().includes(1)) return;
	let cost_sub = N(0);
	if(player.PL1upg[7]) cost_sub = cost_sub.add(player.sliceupg_rep[2]);
	if(player.boost3.gte(2)) cost_sub = cost_sub.add(player.boost3.add(1).mul(2).pow(1.25));
	if(player.permupg.includes(16)) cost_sub = cost_sub.add(player.godstar.add(1).log10().min(10000));
	let ans = player.boost.add(cost_sub).sub(16).div(4).floor().add(1);
	if(ans.gte(player.boost2))
	{
		player.boost2 = ans;
	}
}

function buyboost3()
{
	if(getexchalopen().includes(1)) return;
	let cost = getboost3cost();
	if(player.boost2.gte(cost))
	{
		if(!player.PL2upg[0]) boost3reset();
		player.boost3 = player.boost3.add(N(1));
	}
}

function buymaxboost3()
{
	if(getexchalopen().includes(1)) return;
	let ans = player.boost2.sqrt().sub(7).floor();
	if(ans.gte(player.boost3))
	{
		player.boost3 = ans;
	}
}

function chautoboost()
{
	if(player.PL1upg[4]) player.autoboost = !player.autoboost;
}

function chautoboost2()
{
	if(player.sliceupg[0]) player.autoboost2 = !player.autoboost2;
}

function chautoboost3()
{
	if(player.PL2upg[1]) player.autoboost3 = !player.autoboost3;
}

var PL1infoget = N(0), PL2infoget = N(0), PL3infoget = N(0);
function updatePLinfoget()
{
	if(player.data.gte(1e80))
	{
		if(player.sliceupg[1]) PL1infoget = player.data.root(8).div(1e10);
		else if(player.PL1upg[7]) PL1infoget = player.data.root(10).div(1e8);
		else PL1infoget = player.data.root(80).sub(9);
	}
	else PL1infoget = N(0);
	
	//mul
	if(player.boost2.gte(10)) PL1infoget = PL1infoget.mul(player.boost.add(1).mul(1.5).pow(0.75));
	if(player.permupg.includes(0)) PL1infoget = PL1infoget.mul(getsliceeffect().pow(0.4));
	if(player.origin_data.gte(1e90) && !(player.openchal && player.chalpara.includes(2))) PL1infoget = PL1infoget.mul(player.origin_data.div(1e80).pow(540).min('e220000'));
	//pow
	if(player.permupg.includes(22) && player.openentropy) PL1infoget = PL1infoget.mul(player.PL1info.add(1).pow(5).min('e35000'));
	if(player.permupg.includes(23)) PL1infoget = PL1infoget.pow(1.02);
	//dil
	if(player.openchal && player.chalpara.includes(3)) PL1infoget = N(10).pow(PL1infoget.add(1).log10().pow(0.4)).max(1);
	if(player.openchal && player.chalpara.includes(5)) PL1infoget = N(10).pow(PL1infoget.add(1).log10().pow(1.3)).max(1);
	if(player.openchal && player.chalpara.includes(6)) PL1infoget = N(10).pow(PL1infoget.add(1).log10().pow(1.7)).max(1);
	PL1infoget = PL1infoget.floor();
	
	if(player.PL1info.gte('e7000'))
	{
		if(player.permupg.includes(26)) PL2infoget = player.PL1info.root(3300).div(132.19);
		else PL2infoget = player.PL1info.root(3500).div(100);
	}
	else PL2infoget = N(0);
	if(player.permupg.includes(53)) PL2infoget = PL2infoget.pow(2);
	
	PL2infoget = PL2infoget.floor();
	
	if(player.PL2info.gte('e10000'))
	{
		if(player.elements >= 4) PL3infoget = player.PL2info.log10().root(2).div(10).sub(9);
		else PL3infoget = player.PL2info.log10().root(4).div(5).sub(1);
	}
	else PL3infoget = N(0);
	if(player.exchal[7].gte(1)) PL3infoget = PL3infoget.mul(exchal[7].effect());
	
	PL3infoget = PL3infoget.floor();
}

function buyPL1()
{
	if(player.data.gte(1e80))
	{
		if(!player.PL2tms.gte(7)) PL1reset();
		player.PL1info = player.PL1info.add(PL1infoget);
		player.PL1unlock = true;
	}
}

function buyPL2()
{
	if(player.PL1info.gte('e7000'))
	{
		PL2reset();
		let gettms = N(1);
		if(player.permupg.includes(30)) gettms = gettms.mul(5);
		player.PL2info = player.PL2info.add(PL2infoget);
		player.PL2unlock = true;
		player.PL2tms = player.PL2tms.add(gettms);
		
		if(player.PL2tms.gte(2)) player.PL1upg = [true, true, true, true, true, true, true, true];
		if(player.PL2tms.gte(4)) player.sliceupg = [true, true, true, true], player.unlock_origin = true;
	}
}

function buyPL3()
{
	if(player.PL2info.gte('e10000'))
	{
		PL3reset();
		player.PL3info = player.PL3info.add(PL3infoget);
		player.PL3infottl = player.PL3infottl.add(PL3infoget);
		player.PL3unlock = true;
		player.PL3tms = player.PL3tms.add(1);
		
		if(player.permupg.includes(32))
		{
			player.PL2tms = N(35);
			player.PL1upg = [true, true, true, true, true, true, true, true];
			player.sliceupg = [true, true, true, true], player.unlock_origin = true;
		}
		if(player.permupg.includes(41))
		{
			player.PL2upg = [true, true, true, true];
		}
	}
}

function buyPL1ug(i)
{
	i = i - 1;
	if(player.PL1info.gte(PL1upgcost[i]) && !player.PL1upg[i])
	{
		player.PL1info = player.PL1info.sub(PL1upgcost[i]);
		player.PL1upg[i] = true;
	}
}

function getsliceeffect()
{
	let p = N(0.5);
	//add
	if(player.PL1upg[7]) p = p.add(player.sliceupg_rep[1].mul(0.05));
	if(player.boost.gte(95)) p = p.add(0.2);
	if(player.origin_data.gte(1e45) && !(player.openchal && player.chalpara.includes(2))) p = p.add(player.origin_data.div(1e40).max(1).log10().div(10));
	//mult
	if(player.star.gte(1e70)) p = p.mul(player.star.add(10).div(1e70).max(1).root(7).min(3.5));
	if(player.boost.gte(888)) p = p.mul(1.125);
	if(player.origin_data.gte(1e56) && !(player.openchal && player.chalpara.includes(2))) p = p.mul(player.origin_data.log10().sub(55).root(2).max(1).min(2));
	if(player.permupg.includes(9)) p = p.mul(1.5);
	if(player.permupg.includes(42)) p = p.mul(player.algordata.add(10).log(10).mul(3).min(1000));
	if(player.chaosmass.gte(2e8)) p = p.mul(player.chaosmass.div(2).log10().sub(7).mul(50).sub(49));
	if(player.permupg.includes(44)) p = p.mul(player.slice.add(10).log10().mul(2).sub(1).root(6));
	if(player.star.gte('e730')) p = p.mul(player.star.div('e730').add(10).log10().root(4));
	//pow
	//delete
	if(getexchalopen().includes(3)) p = N(0.001);
	
	let effect = player.slice.pow(p).max(1);
	if(player.openchal && player.chalpara.includes(1)) effect = N(1);
	return effect;
}

function buysliceupg(num)
{
	num = num - 1;
	if(num < 4)
	{
		if(player.sliceupg_rep[num].gte(200)) return;
		let cost = sliceupgcost[num].pow(player.sliceupg_rep[num].add(1));
		if(player.slice.gte(cost))
		{
			player.slice = player.slice.sub(cost);
			player.sliceupg_rep[num] = player.sliceupg_rep[num].add(1);
		}
	}
	else
	{
		let cost = sliceupgcost[num];
		if(player.slice.gte(cost) && !player.sliceupg[num - 4])
		{
			player.slice = player.slice.sub(cost);
			player.sliceupg[num - 4] = true;
		}
	}
}

function unlock_origin()
{
	if(player.PL1info.gte(1e130) && !player.unlock_origin)
	{
		player.PL1info = player.PL1info.sub(1e130);
		player.unlock_origin = true;
	}
}

function getorigineffect()
{
	let e = '';
	if(player.openchal && player.chalpara.includes(2)) return '到达 Infinity 本源数据解锁本源第一效果<br>';
	if(player.origin_data.gte(100)) e = e + "位面切片获取速度×" + notation(player.origin_data.sub(100).max(1).pow(N(1.15).add(player.origin_data.gte(1e56) ? player.origin_data.log10().sub(55).root(3).sub(1).max(0) : 0)).div(100).max(1)) + "<br>";
	if(player.origin_data.gte(100000)) e = e + "传输节点产能×" + notation(player.origin_data.div(100).sub(1000).max(1).pow(20)) + "<br>";
	if(player.origin_data.gte(5e12)) e = e + "本源数据获取速度×" + notation(player.origin_data.div(1.25e12).log(4).max(1)) + "<br>";
	if(player.origin_data.gte(1e45)) e = e + '位面切片效果指数+' + notation(player.origin_data.div(1e40).max(1).log10().div(10)) + '<br>';
	if(player.origin_data.gte(1e56)) e = e + '位面切片效果指数×' + notation(player.origin_data.log10().sub(55).root(2).max(1).min(2)) + ', 本源第一效果公式中的指数+' + notation(player.origin_data.log10().sub(55).root(3).sub(1).max(0)) + '<br>';
	if(player.origin_data.gte(1e90)) e = e + '世界信息获取×' + notation(player.origin_data.div(1e80).pow(540).min('e220000')) + '<br>';
	
	if(!player.origin_data.gte(100)) e = e + "到达 100 本源数据解锁本源第一效果<br>";
	else if(!player.origin_data.gte(100000)) e = e + "到达 1.000e5 本源数据解锁本源第二效果<br>";
	else if(!player.origin_data.gte(5e12)) e = e + "到达 5.000e12 本源数据解锁本源第三效果<br>";
	else if(!player.origin_data.gte(1e45)) e = e + '到达 1.000e45 本源数据解锁本源第四效果<br>';
	else if(!player.origin_data.gte(1e56)) e = e + '到达 1.000e56 本源数据解锁本源第五效果<br>';
	else if(!player.origin_data.gte(1e90)) e = e + '到达 1.000e90 本源数据解锁本源第六效果<br>';
	
	return e;
}

function getoriginupgcost(num)
{
	let base = [N(1), N(10), N(100), N(1e4), N(1e6)];
	let basex = [N(1.15), N(1.35), N(8), N(20), N(30)];
	if(num == 0) return base[0].mul(basex[0].pow(player.origin_upg[0])).sub(1);
	else return base[num].mul(basex[num].pow(player.origin_upg[num]));
}

function buyoriginupg(num)
{
	num = num - 1;
	let cap = [N(100), N(100), N(30), N(30)];
	if(num != 4 && player.origin_upg[num].gte(cap[num])) return;
	if(player.origin_data.gte(getoriginupgcost(num)))
	{
		player.origin_data = player.origin_data.sub(getoriginupgcost(num));
		player.origin_upg[num] = player.origin_upg[num].add(1);
	}
}

function getdimscalx()
{
	let base = N(1);
	if(player.permupg.includes(5)) base = base.mul(0.7);
	if(player.permupg.includes(45)) base = base.mul(N(1).div(player.chaosmass.add(100).log(100).root(5)));
	if(player.elements >= 2) base = base.mul(N(1).div(player.algordata.add(10).log10().root(2)));
	base = base.add(1);
	return base;
}

function getdimcost()
{
	let cost = (N(10).pow(getdimscalx().pow(player.dimension))).div(10);
	return cost;
}

function buydim()
{
	if(player.PL2info.gte(getdimcost()))
	{
		player.PL2info = player.PL2info.sub(getdimcost());
		player.dimension = player.dimension.add(1);
		player.star = player.star.add(1);
	}
}

function buymaxdim()
{
	if(player.PL2info.gte(1))
	{
		let ans = player.PL2info.mul(10).log10().log(getdimscalx()).floor().add(1);
		if(ans.gte(player.dimension))
		{
			player.dimension = ans;
			player.star = player.star.add(ans);
		}
	}
}

function getstareffect()
{
	let e = '';
	if(!player.permupg.includes(17)) e = e + "节点升级效果×" + notation(player.star.add(10).log10().pow(0.5)) + "<br>";
	else e = e + '节点升级效果×' + notation(player.star.add(2).log(2)) + '<br>';
	if(player.star.gte(1e50)) e = e + '位面切片获取速度×' + notation(player.permupg.includes(6) ? player.star.add(1).root(4.5) : player.star.add(10).log10().pow(1.75)) + '<br>';
	if(player.star.gte(1e70)) e = e + '位面切片增幅指数×' + notation(player.star.add(10).div(1e70).max(1).root(7).min(3.5)) + '<br>';
	if(player.star.gte('e370')) e = e + '位面切片增幅指数×' + notation(player.star.div('e730').add(10).log10().root(4)) + '<br>';
	if(!player.star.gte(1e50)) e = e + '到达 1.000e50 星辰解锁星辰第二效果' + '<br>';
	else if(!player.star.gte(1e70)) e = e + '到达 1.000e70 星辰解锁星辰第三效果' + '<br>';
	else if(!player.star.gte('e730')) e = e + '到达 1.000e730 星辰解锁星辰第四效果' + '<br>';
	return e;
}

function getsnscs()
{
	let base = [N(16384), N(1e100), N('e1000'), N('e10000')];
	return base;
}

function getsnscx()
{
	let base = [N(4), N(24), N(1e5 - 1), N(1e25)];
	if(player.elements >= 8) base[2] = base[2].mul(0.002);
	for(let i = 0;i < 4;i++) base[i] = N(1).div(base[i].add(1));
	return base;
}

function getsncost(num)
{
	let base = [N(1), N(1e4), N(1e8), N(1e12), N(1e16), N(1e20), N(1e24), N(1e28)];
	let basex = [N(100), N(10000), N(1e6), N(1e10), N(1e16), N(1e25), N(1e36), N(1e50)];
	return base[num].mul(basex[num].pow(player.buysn[num]));
}

function buysn(num)
{
	num = num - 1;
	let cost = getsncost(num);
	if(player.star.gte(cost))
	{
		if(!player.permupg.includes(27))player.star = player.star.sub(cost);
		player.buysn[num] = player.buysn[num].add(1);
		player.star_node[num] = player.star_node[num].add(1);
	}
}

function buymaxsn()
{
	if(!player.star.gte(0.1)) return;
	let base = [N(1), N(1e4), N(1e8), N(1e12), N(1e16), N(1e20), N(1e24), N(1e28)];
	let basex = [N(100), N(10000), N(1e6), N(1e10), N(1e16), N(1e25), N(1e36), N(1e50)];
	for(let i = 0;i < 8;i++)
	{
		let ans = player.star.div(base[i]).log(basex[i]).floor().add(1);
		if(ans.gte(player.buysn[i]))
		{
			player.star_node[i] = player.star_node[i].add(ans.sub(player.buysn[i]));
			player.buysn[i] = ans;
		}
	}
}

function getsnx()
{
	let scs = getsnscs();
	let scx = getsnscx();
	let snx = [N(1), N(1), N(1), N(1), N(1), N(1), N(1), N(1)];
	for(let i = 0;i < 8;i++)
	{
		snx[i] = snx[i].mul(N(2).pow(player.buysn[i])).pow(player.dimension);
		//mult
		if(player.entropy[1].gte(1.4)) snx[i] = snx[i].mul(N(100).pow(player.entropy[1]));
		if(player.chaosmass.gte(100000)) snx[i] = snx[i].mul(player.chaosmass.sub(99999.99).mul(100).root(2));
		//pow
		if(player.colldata.gte(1e54)) snx[i] = snx[i].pow(player.colldata.mul(player.star.add(1).root(1000)).div(1e54).add(9).log10());
		//sc
		for(let j = 0;j < 4;j++)
		{
			if(snx[i].gte(scs[j]))
			{
				snx[i] = scs[j].mul(snx[i].div(scs[j]).pow(scx[j]));
			}
		}
	}
	return snx;
}

function openentropy()
{
	if(player.PL1info.gte('e7000'))
	{
		player.PL2info = player.PL2info.add(PL2infoget);
		player.PL2unlock = true;
		player.PL2tms = player.PL2tms.add(1);
	}
	PL2reset();
	if(player.PL2tms.gte(2)) player.PL1upg = [true, true, true, true, true, true, true, true];
	if(player.PL2tms.gte(4)) player.sliceupg = [true, true, true, true], player.unlock_origin = true;
	player.openentropy = !player.openentropy;
}

function getentropy()
{
	if(player.openentropy || player.permupg.includes(33))
	{
		player.entropy[0] = player.entropy[0].max(player.PL1info.add(1).log10().div(100).sub(25).pow(0.5)).min(N(5).add(player.entropy[2].gte(4) ? player.entropy[2].sub(4).mul(2) : 0));
		player.entropy[1] = player.entropy[1].max(player.boost.add(1).log(N(10).mul(
			player.entropy[2].gte(1.014) ? N(1).sub(player.entropy[2].mul(0.1)) : 1)).div(2)).min(5);
		player.entropy[2] = player.entropy[2].max(player.slice.add(1).log10().sub(3).div(140)).min(5);
		player.entropy[3] = player.entropy[3].max(player.data.add(1).log(N(10).mul(
			player.entropy[1].gte(1.5) ? N(1).sub(player.entropy[1].mul(0.18)) : 1)).add(1).log(N(10).mul(
			player.entropy[1].gte(1.5) ? N(1).sub(player.entropy[1].mul(0.18)) : 1)).pow(0.5).div(2)).min(5);
	}
}

function getentropyeffect(i)
{
	let e = '';
	if(i == 0)
	{
		if(player.entropy[0].gte(1.75)) e = e + '跃迁超级折算强度×' + notation(N(1).div(player.entropy[0].root(2))) + '<br>';
		if(!player.entropy[0].gte(1.75)) e = e + '到达 1.75 熵_I解锁熵_I第一效果<br>';
		return e;
	}
	if(i == 1)
	{
		if(player.entropy[1].gte(1.4)) e = e + '星辰节点产能×' + notation(N(100).pow(player.entropy[1])) + '<br>';
		if(player.entropy[1].gte(1.5)) e = e + '熵_IV获取公式中的对数×' + notation(N(1).sub(player.entropy[1].mul(0.1))) + '<br>';
		if(!player.entropy[1].gte(1.4)) e = e + '到达 1.40 熵_II解锁熵_II第一效果<br>';
		else if(!player.entropy[1].gte(1.5)) e = e + '到达 1.50 熵_II解锁熵_II第二效果<br>';
		return e;
	}
	if(i == 2)
	{
		if(player.entropy[2].gte(1)) e = e + '传输节点产能×' + notation(N(100).pow(player.entropy[2].add(3).pow(4)).min('e8192')) + '<br>';
		if(player.entropy[2].gte(1.014)) e = e + '熵_II获取公式中的对数×' + notation(N(1).sub(player.entropy[2].mul(0.18))) + '<br>';
		if(player.entropy[2].gte(4)) e = e + '熵_I获取上限+' + notation(player.entropy[2].sub(4).mul(2)) + '<br>';
		if(!player.entropy[2].gte(1)) e = e + '到达 1.00 熵_III解锁熵_III第一效果<br>';
		else if(!player.entropy[2].gte(1.014)) e = e + '到达 1.014 熵_III解锁熵_III第二效果<br>';
		else if(!player.entropy[2].gte(4)) e = e + '到达 4.00 熵_III解锁熵_III第三效果<br>';
		return e;
	}
	if(i == 3)
	{
		if(player.entropy[3].gte(1)) e = e + '本源数据获取速度×' + notation(N(1000).pow(player.entropy[3].pow(1.25))) + '<br>';
		if(player.entropy[3].gte(1.062)) e = e + '位面切片在 1.000e135 的软上限强度×' + notation(N(1).sub(player.entropy[3].mul(0.16)).max(0.2)) + '<br>';
		if(!player.entropy[3].gte(1)) e = e + '到达 1.00 熵_IV解锁熵_IV第一效果<br>';
		else if(!player.entropy[3].gte(1.062)) e = e + '到达 1.062 熵_IV解锁熵_IV第二效果<br>';
		return e;
	}
}

function buyPL2upg(i)
{
	i = i - 1;
	if(player.PL2info.gte(PL2upgcost[i]) && !player.PL2upg[i])
	{
		player.PL2info = player.PL2info.sub(PL2upgcost[i]);
		player.PL2upg[i] = true;
	}
}

function getgodstareffect()
{
	let e = '';
	if(!player.permupg.includes(11)) e = e + '传输节点产能×' + notation(N(10).pow(player.godstar.mul(60).root(1.8).min(N(2000).add(player.godstar.root(2.1))).min(N(10000).add(player.godstar.root(4))).min(N(20000).add(player.godstar.log10().mul(45)))).min('e1e12')) + '<br>';
	else e = e + '传输节点产能^' + notation(player.godstar.add(10).log10().add(10).log10().root(3)) + '<br>';
	if(player.godstar.gte(3e6)) e = e + '节点五阶软上限指数延迟^' + notation(N(1).add(player.godstar.div(3e6).add(1).log10().add(10).log10().log10().min(0.025))) + '<br>';
	if(player.godstar.gte(1e13)) e = e + '本源数据获取速度×' + notation(player.godstar.div(1e9).sub(9999).root(1.25).max(1).min('e1800')) + '<br>';
	if(player.godstar.gte(1e21)) e = e + '传输节点升级效果×' + notation(player.godstar.div(1e15).sub(999999).root(5).max(1).min(30000)) + '<br>';
	if(player.godstar.gte(1e140)) e = e + '位面切片获取速度×' + notation(player.godstar.div(1e120).root(4).div(100).sub(999).min(N(1e50).add(player.permupg.includes(50) ? player.godstar.log(1.0001).pow(1000) : 0))) + '<br>';
	if(!player.godstar.gte(3e6)) e = e + '到达 3.000e6 神星解锁神星第二效果<br>';
	else if(!player.godstar.gte(1e13)) e = e + '到达 1.000e13 神星解锁神星第三效果<br>';
	else if(!player.godstar.gte(1e21)) e = e + '到达 1.000e21 神星解锁神星第四效果<br>';
	else if(!player.godstar.gte(1e140)) e = e + '到达 1.000e140 神星解锁神星第五效果<br>';
	return e;
}

function unlockgn(num)
{
	num = num - 1;
	let cost = [N('e1e6'), N('e2e6'), N('e3e6'), N('e4e6'), N('e5e6'), N('e6e6'), N('e7e6'), N('e8e6')];
	if(player.data.gte(cost[num]))
	{
		player.data = player.data.sub(cost[num]);
		player.gnunlock[num] = true;
	}
}

function getbuygnx()
{
	let base = N(3);
	if(player.exchal[4].gte(1)) base = base.mul(exchal[4].effect());
	return base;
}

function getgnx()
{
	let base = [N(1), N(1), N(1), N(1), N(1), N(1), N(1), N(1)];
	for(let i = 0;i < 8;i++)
	{
		base[i] = base[i].mul(getbuygnx().pow(player.buygn[i]));
		if(player.permupg.includes(4)) base[i] = base[i].mul(player.PL2info.add(10).div(1e40).log10().max(1));
		if(player.permupg.includes(13)) base[i] = base[i].mul(N(1.1).pow(player.boost3));
		if(player.openchal && player.chalpara.includes(8)) base[i] = N(0);
		if(getexchalopen().includes(5)) base[i] = N(10).pow(base[i].log10().pow(0.25));
	}
	return base;
}

function getgnc()
{
	let x = [N(100), N(10000), N(1e6), N(1e8), N(1e10), N(1e12), N(1e14), N(1e16)];
	let base = [N(1e35), N(1e70), N(1e110), N(1e170), N(1e210), N(1e240), N(1e300), N('e370')];
	let basex = [N(100), N(10000), N(1e6), N(1e8), N(1e10), N(1e12), N(1e14), N(1e16)];
	for(let i = 0;i < 8;i++)
	{
		x[i] = (base[i].mul(basex[i].pow(player.buygn[i])));
	}
	return x;
}

function buygn(num)
{
	num = num - 1;
	let c = getgnc();
	c = c[num];
	if(player.PL2info.gte(c))
	{
		player.PL2info = player.PL2info.sub(c);
		player.buygn[num] = player.buygn[num].add(1);
		player.godnode[num] = player.godnode[num].add(1);
	}
}

function buymaxgn()
{
	if(!player.PL2info.gte(0.1)) return;
	for(let i = 0;i < 8;i++)
	{
		if(!player.gnunlock[i]) continue;
		let x = [N(100), N(10000), N(1e6), N(1e8), N(1e10), N(1e12), N(1e14), N(1e16)];
		let base = [N(1e35), N(1e70), N(1e110), N(1e170), N(1e210), N(1e240), N(1e300), N('e370')];
		let basex = [N(100), N(10000), N(1e6), N(1e8), N(1e10), N(1e12), N(1e14), N(1e16)];
		let ans = player.PL2info.div(base[i]).log(basex[i]).floor().add(1);
		if(ans.gte(player.buygn[i]))
		{
			player.godnode[i] = player.godnode[i].add(ans.sub(player.buygn[i]));
			player.buygn[i] = ans;
		}
	}
}

function getfreepermupg()
{
	let e = 0;
	if(player.PL3unlock) e += player.PL3tms.min(15) * 2;
	return e;
}

function getdisablepermupg(i)
{
	if(getexchalopen().includes(4))
	{
		if(i == 0 || i == 1 || i == 3 || i == 7 || i == 8 || i == 11 || i == 12 || i == 15 || i == 17 || i == 23 || i == 25 || i == 28) return true;
	}
	return false;
}

function getpermupgeffect(num)
{
	if(num == 0) return '位面切片效果增幅世界信息。当前：×' + notation(getsliceeffect().pow(0.4));
	else if(num == 1) return '节点五阶软上限弱化20%。';
	else if(num == 2) return '宇宙信息增幅节点升级效果。当前：×' + notation(player.PL2info.add(1).log10().mul(1.5).root(1.75).max(1));
	else if(num == 3) return '跃迁超级折算弱化25%。';
	else if(num == 4) return '宇宙信息增幅神子产能。当前：×' + notation(player.PL2info.div(1e40).add(10).log10().max(1));
	else if(num == 5) return '维度折算弱化30%。';
	else if(num == 6) return '重写星辰第二效果的公式。当前：×' + notation(player.star.add(1).root(4.5).div(player.star.add(10).log10().pow(1.75)));
	else if(num == 7) return '世界信息增幅本源数据产能。当前：×' + notation(player.PL1info.pow(25).add(1.05).log(1.05).pow(1.15));
	else if(num == 8) return '宇宙信息以指数增幅节点产能。当前：^' + notation(player.PL2info.add(1).log10().add(10).log10().root(4).min(1.4));
	else if(num == 9) return '位面切片增幅指数×1.5。';
	else if(num == 10) return '你可以最大化购买神子。';
	else if(num == 11) return '神星第一效果改为对指数加成。当前：^' + notation(player.godstar.add(10).log10().add(10).log10().root(3));
	else if(num == 12) return '星辰增幅传输节点。当前：^' + notation(player.star.add(10).log10().add(10).log10().root(6));
	else if(num == 13) return '每个三重跃迁使神子×1.1。当前：×' + notation(N(1.1).pow(player.boost3));
	else if(num == 14) return '解锁挑战。(在层级选项卡内)';
	else if(num == 15) return '节点五阶软上限延迟1.1次方出现。';
	else if(num == 16) return '神星减少二重跃迁成本。当前：-' + notation(player.godstar.add(1).log10().min(10000));
	else if(num == 17) return '重写星辰第一效果的公式。当前：×' + notation(player.star.add(2).log(2).div(player.star.add(10).log10().pow(0.5)));
	else if(num == 18) return '被动获得宇宙信息的比率×100。';
	else if(num == 19) return '解锁阶层4挑战参数。';
	else if(num == 20) return '阶层4挑战参数的复杂度权重增加0.2';
	else if(num == 21) return '维度倍增传输节点升级效果。当前：×' + notation(player.dimension.add(2).div(2).root(1.2));
	else if(num == 22) return '收集熵时世界信息获取量^6，但上限在×1e35000。';
	else if(num == 23) return '世界信息获取量^1.02。';
	else if(num == 24) return '解锁算法。(在传输节点子选项卡内)';
	else if(num == 25) return '算法底数+1。';
	else if(num == 26) return '宇宙信息获取公式变得更好。';
	else if(num == 27) return '你自动购买星辰节点和神子，它们不消耗任何东西。';
	else if(num == 28) return '节点四阶软上限弱化50%。';
	else if(num == 29) return '解锁两个新的算法可购买。解锁混沌重置。';
	else if(num == 30) return '获得5倍宇宙重置次数。';
	else if(num == 31) return '混沌重置后保留永久升级11、14、15、19、22、24、25、28。';
	else if(num == 32) return '混沌重置后有35次宇宙重置。';
	else if(num == 33) return '你在任何环境下都能获得熵。';
	else if(num == 34) return '基于当前游戏进度，可以免费购买永久升级。当前：免费自动购买前' + getfreepermupg() + '个永久升级。';
	else if(num == 35) return '大幅降低算法价格。';
	else if(num == 36) return '你自动购买维度和算法，它们不消耗任何东西。';
	else if(num == 37) return '数据增强算法数据获取。当前：×' + notation(player.data.add(10).log10().add(9).log10().div(2));
	else if(num == 38) return '你自动购买算法可购买，它们不消耗任何东西。';
	else if(num == 39) return '解锁自动混沌重置。';
	else if(num == 40) return '节点七阶软上限弱化40%。';
	else if(num == 41) return '混沌重置后保留宇宙升级。';
	else if(num == 42) return '算法数据增强位面切片增幅指数。当前：×' + notation(player.algordata.add(10).log(10).mul(3).min(1000));
	else if(num == 43) return '解锁反应堆。(在混沌选项卡内)';
	else if(num == 44) return '位面切片增强位面切片增幅指数。当前：×' + notation(player.slice.add(10).log10().mul(2).sub(1).root(6));
	else if(num == 45) return '混沌质量弱化维度折算。当前：×' + notation(N(1).div(player.chaosmass.add(100).log(100).root(5)));
	else if(num == 46) return '数据延迟算法数据溢出。当前：×' + notation(player.data.add(10).log10().add(9).log10().root(5));
	else if(num == 47) return '解锁阶层5挑战参数。';
	else if(num == 48) return '你可以用反应堆压缩元素。';
	else if(num == 49) return '位面切片获取量（软上限后）^1.5。';
	else if(num == 50) return '神星第五效果的上限变为软上限。';
	else if(num == 51) return '移除节点五阶软上限。';
	else if(num == 52) return '算法数据增幅算法底数。当前：+' + notation(player.algordata.add(1).log10().root(5).div(3));
	else if(num == 53) return '宇宙信息获取量^2。';
	else if(num == 54) return '算法底数+0.5。';
	else if(num == 55) return '释放黑洞(在混沌选项卡内)。';
	else if(num == 56) return '八重神子增幅算法底数。当前：+' + notation(player.godnode[7].add(1).log10().add(1).log10().root(4));
	else if(num == 57) return '每2个宇宙折叠使真空衰变+1。当前：+' + notation(player.algorrebuy[1].mul(0.5)) + '；每4个真空衰变使算法+1。当前：+' + notation(player.algorrebuy[0].mul(0.25));
	else if(num == 58) return '解锁奇异挑战1(在层级选项卡内)。';
	else if(num == 59) return '开启黑洞不消耗黑洞，关闭黑洞时黑洞的充能变得更强。';
	else return '无效升级';
}

var permupgnum = 60;
var permupgcost = [N(1e75), N(1e78), N(1e19), N(1e82), N(1e85), N(3e23), N(1e88), N(4.5e25), N(5e95), N(1e40)
, N(1e42), N(1e124), N(2e46), N(1e50), N(1e150), N(1e70), N(1e190), N(1e92), N(1e240), N(1e127)
, N(1e255), N(4.65), N(1e270), N(7), N(1e146), N(1e162), N('1.797e308'), N('e400'), N('e3680'), N('e5300')
, N(1), N(1), N(2), N(2), N(3), N(4), N(5), N(6), N(7), N(10000)
, N('e70000'), N('e120000'), N('e4.6e6'), N(9.7), N(4e9), N('e9.4e6'), N(400), N('e1.18e7'), N('e2.18e7'), N('e2.7e7')
, N('e1e8'), N('e2.5e8'), N(1e13), N('e6e8'), N('e2.1e9'), N(1e6), N('e5e9'), N('e2e10'), N('e3e11'), N(1e14)];
var permupgcosttype = [0, 0, 1, 0, 0, 1, 0, 1, 0, 1
, 1, 0, 1, 1, 0, 1, 0, 1, 0, 1
, 0, 2, 0, 2, 1, 1, 0, 0, 0, 0
, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3
, 0, 1, 0, 2, 4, 0, 3, 1, 0, 1
, 0, 0, 4, 1, 1, 3, 0, 1, 1, 3];
var permupgcosttypename = ['宇宙信息', '神星', '挑战复杂度纪录', '混沌信息', '混沌质量'];
var permupgcosttypeinternal = ['PL2info', 'godstar', 'chalcomp_temp', 'PL3info', 'chaosmass'];

function buypermupg(num)
{
	if(getdisablepermupg(num)) return;
	if(player.permupg.includes(num)) return;
	if(player[permupgcosttypeinternal[permupgcosttype[num]]].gte(permupgcost[num]))
	{
		player[permupgcosttypeinternal[permupgcosttype[num]]] = player[permupgcosttypeinternal[permupgcosttype[num]]].sub(permupgcost[num]);
		player.permupg.push(num);
	}
}

function permupgcanblock(num)
{
	if(num >= 15 && num < 29 && !player.permupg.includes(14)) return false;
	if(num == 29 && (!player.permupg.includes(14) && !player.PL3unlock)) return false;
	if(num >= 30 && !player.PL3unlock) return false;
	return true;
}

var mouseenterpermupg = -1;

function build_permupgui()
{
	let ui = '';
	if(mouseenterpermupg != -1)
	{
		ui = ui + '<span class="ftsz2">永久升级' + (mouseenterpermupg + 1) + '</span><br>';
		if(getdisablepermupg(mouseenterpermupg)) ui = ui + '<span style="color: red"><strike>';
		ui = ui + '<span style="color: lightblue">' + getpermupgeffect(mouseenterpermupg) + '</span><br>';
		if(getdisablepermupg(mouseenterpermupg)) ui = ui + '</strike></span>';
		ui = ui + '<span class="ftsz2">价格：' + notation(permupgcost[mouseenterpermupg]) + permupgcosttypename[permupgcosttype[mouseenterpermupg]] + '</span><br><br>';
	}
	else ui = ui + '<br><br><br><br>';
	document.getElementById('permupgeffect').innerHTML = ui;
	
	for(let i = 0;i < permupgnum;i++)
	{
		if(permupgcanblock(i)) document.getElementById('permupg' + i).style.display = 'block';
		else document.getElementById('permupg' + i).style.display = 'none';
		
		if(player.permupg.includes(i))
		{
			if(permupgcosttype[i] == 0) document.getElementById('permupg' + i).style['background-color'] = 'purple';
			else if(permupgcosttype[i] == 1) document.getElementById('permupg' + i).style['background-color'] = 'orange';
			else if(permupgcosttype[i] == 2) document.getElementById('permupg' + i).style['background-color'] = 'red';
			else if(permupgcosttype[i] == 3) document.getElementById('permupg' + i).style['background-color'] = 'gold';
			else if(permupgcosttype[i] == 4) document.getElementById('permupg' + i).style['background-color'] = '#ffcc00';
		}
		else if(player[permupgcosttypeinternal[permupgcosttype[i]]].gte(permupgcost[i]))
		{
			document.getElementById('permupg' + i).style['background-color'] = '#666666';
		}
		else
		{
			document.getElementById('permupg' + i).style['background-color'] = 'black';
		}
		
		
		if(getdisablepermupg(i))
		{
			document.getElementById('permupg' + i).style['border-color'] = 'white';
			document.getElementById('permupg' + i).style['background-color'] = 'black';
			document.getElementById('permupg' + i).style['color'] = 'black';
		}
		else
		{
			document.getElementById('permupg' + i).style['border-color'] = 'white';
			document.getElementById('permupg' + i).style['color'] = 'white';
		}
	}
}

function dis_permupgui()
{
	let ui = '';
	ui = ui + '<table>';
	for(let i = 0;i < permupgnum;i++)
	{
		ui = ui + '<td><button id=\"permupg' + i + '\" class=\"permupg\" onclick="buypermupg(' + i + ');" onmouseenter=\"mouseenterpermupg = ' + i + ';\"';
		
		ui = ui + '>' + (i + 1);
		ui = ui + '</button></td>';
		if(i % 10 == 9)
		{
			ui = ui + '<tr>';
		}
		
	}
	ui = ui + '</table>';
	document.getElementById('permupg').innerHTML = ui;
}

function getchallayerunlock()
{
	let base = N(0);
	if(player.permupg.includes(14))
	{
		base = N(3);
	}
	if(player.permupg.includes(19))
	{
		base = N(4);
	}
	if(player.permupg.includes(47))
	{
		base = N(5);
	}
	return base;
}

var chalparanum = 9;
var challayernum = 5;
var challayerhaspara = [1, 2, 1, 3, 2];

function canchangechalpara(num)
{
	if(num < challayerhaspara[0]) return true;
	else
	{
		//获取参数阶层
		let n = 0;
		let layer;
		for(let i = 0;i < getchallayerunlock();i++)
		{
			n += challayerhaspara[i];
			if(num >= n) layer = i + 1;
		}
		let first, end;
		//获取上一个阶层起始点
		n = 0;
		for(let i = 0;i < layer - 1;i++)
		{
			n += challayerhaspara[i];
		}
		first = n;
		//获取上一个阶层终点
		n = 0;
		for(let i = 0;i < layer;i++)
		{
			n += challayerhaspara[i];
		}
		end = n - 1;
		//查找任何一个
		for(let i = first;i <= end;i++)
		{
			if(player.chalpara.includes(i)) return true;
		}
		return false;
	}
}

function getchalparatext(num)
{
	if(num == 0) return '节点产能指数^0.4';
	else if(num == 1) return '位面切片失去效果';
	else if(num == 2) return '本源数据失去效果';
	else if(num == 3) return '世界信息获取量指数^0.4';
	else if(num == 4) return '节点产能指数^1.7';
	else if(num == 5) return '节点产能与世界信息获取量指数^1.3';
	else if(num == 6) return '世界信息获取量指数^1.7';
	else if(num == 7) return '算法数据的溢出起点^0.25<br>挑战开始和结束都为混沌重置<br>完成需求为1e2000宇宙信息';
	else if(num == 8) return '禁用神子生产<br>挑战开始和结束都为混沌重置<br>完成需求为1e2000宇宙信息';
	else return '暂时没有这个参数';
}

function changechalpara(num)
{
	if(!player.openchal)
	{
		if(canchangechalpara(num) && !player.chalpara.includes(num)) player.chalpara.push(num);
	}
	else
	{
		alert('挑战时无法修改参数');
	}
}

function resetchalpara(num)
{
	if(!player.openchal)
	{
		player.chalpara = [];
	}
	else
	{
		alert('挑战时无法重置参数');
	}
}

function openchal()
{
	if(!player.openchal && !player.chalpara.includes(0))
	{
		alert('您必须将阶层1参数加入参数表中！');
		return;
	}
	if(player.PL1info.gte('e7000'))
	{
		player.PL2info = player.PL2info.add(PL2infoget);
		player.PL2unlock = true;
		player.PL2tms = player.PL2tms.add(1);
		if(player.openchal && getchalparacomp().gte(player.chalcomp)
		&& !(player.chalpara.includes(7) || player.chalpara.includes(8)))
		{
			player.chalcomp = getchalparacomp();
		}
	}
	PL2reset();
	if(player.PL2tms.gte(2)) player.PL1upg = [true, true, true, true, true, true, true, true];
	if(player.PL2tms.gte(4)) player.sliceupg = [true, true, true, true], player.unlock_origin = true;
	if(player.chalpara.includes(7) || player.chalpara.includes(8))
	{
		if(player.PL2info.gte('e10000'))
		{
			player.PL3info = player.PL3info.add(PL3infoget);
			player.PL3infottl = player.PL3infottl.add(PL3infoget);
			player.PL3unlock = true;
			player.PL3tms = player.PL3tms.add(1);
		}
		if(player.PL2info.gte('e2000'))
		{
			if(player.openchal && getchalparacomp().gte(player.chalcomp))
			{
				player.chalcomp = getchalparacomp();
			}
		}
		PL3reset();
		if(player.permupg.includes(32))
		{
			player.PL2tms = N(35);
			player.PL1upg = [true, true, true, true, true, true, true, true];
			player.sliceupg = [true, true, true, true], player.unlock_origin = true;
		}
		if(player.permupg.includes(41))
		{
			player.PL2upg = [true, true, true, true];
		}
	}
	player.openchal = !player.openchal;
}

function getchalparacomp()
{
	let base = N(1);
	let qz = [N(1), N(1), N(1.5), N(-1), N(1.5)];
	let nowid = 0;
	if(player.permupg.includes(20)) qz[3] = qz[3].add(0.2);
	for(let i = 0;i < getchallayerunlock();i++)
	{
		let lbase = N(1);
		for(let j = 0;j < challayerhaspara[i];j++)
		{
			if(player.chalpara.includes(nowid)) lbase = lbase.add(1);
			nowid++;
		}
		base = base.mul(lbase.pow(qz[i]));
	}
	return base;
}

function getchalcompeffect()
{
	let e = '';
	if(player.chalcomp.gte(1.5)) e = e + '传输节点^' + notation(N(1).add(player.chalcomp.log(1.5).root(7).log(2))) + '<br>';
	if(player.chalcomp.gte(10)) e = e + '算法数据的溢出延迟×' + notation(player.chalcomp.mul(50).sub(499).root(2)) + '<br>';
	if(!player.chalcomp.gte(1.5)) e = e + '到达 1.5 复杂度纪录解锁挑战第一效果<br>';
	if(!player.chalcomp.gte(10)) e = e + '到达 10 复杂度纪录解锁挑战第二效果<br>';
	return e;
}


function build_chalui()
{
	for(let i = 0;i < chalparanum;i++)
	{
		if(player.chalpara.includes(i) && player.openchal) document.getElementById('chalpara' + i).style['background-color'] = 'green';
		else if(player.chalpara.includes(i)) document.getElementById('chalpara' + i).style['background-color'] = 'blue';
		else document.getElementById('chalpara' + i).style['background-color'] = 'darkred';
		document.getElementById('chalpara' + i).innerHTML = getchalparatext(i);
	}
	for(let i = 0;i < getchallayerunlock();i++)
	{
		document.getElementById('challayer' + i).style.display = 'block';
		document.getElementById('challayert' + i).style.display = 'block';
	}
	for(let i = getchallayerunlock();i < challayernum;i++)
	{
		document.getElementById('challayer' + i).style.display = 'none';
		document.getElementById('challayert' + i).style.display = 'none';
	}
	if(player.openchal) document.getElementById('openchal').style['background-color'] = 'red';
	else document.getElementById('openchal').style['background-color'] = 'black';
}

function dis_chalui()
{
	let ui = '';
	ui = ui + '<table>';
	let nowparaid = 0;
	for(let i = 0;i < challayernum;i++)
	{
		ui = ui + '<td style="width: 50px;"><span class="ftsz2" id="challayert' + i + '">阶层' + (i + 1) + '</td>';
		ui = ui + '<td align="center" id="challayer' + i + '"><table>';
		for(let j = 0;j < challayerhaspara[i];j++)
		{
			ui = ui + '<td><button class="chalpara" id="chalpara' + nowparaid + '" onclick="changechalpara(' + nowparaid +')"></button></td>';
			nowparaid++;
		}
		ui = ui + '</table></td><tr>';
	}
	document.getElementById('challenge_detail').innerHTML = ui;
}

function getalgoreffect()
{
	if(getexchalopen().includes(2)) return N(0);
	let power = N(1);
	if(player.permupg.includes(29)) power = power.add(player.algorrebuy[1].mul(0.02));
	if(player.colldata.gte(1e9)) power = power.add(player.colldata.div(1e9).log10().root(5).div(10).min(N(0.12).add(player.colldata.log10().root(50).div(1000))));
	if(getexchalopen().includes(5)) power = N(1);
	let freelevel = player.algordata.pow(power);
	return freelevel;
}

function getalgorscalx()
{
	let sx = N(1);
	if(player.exchal[2].gte(1)) sx = sx.mul(exchal[2].effect());
	if(player.elements >= 7) sx = sx.mul(0.8);
	sx = sx.add(1);
	return sx;
}

function getalgorcost()
{
	if(player.permupg.includes(35)) return N('e14000').mul(N('e1e4').pow(getalgorscalx().mul(0.97).pow(player.algor).sub(1)));
	else return N('e1e6').mul(N('e2e4').pow(getalgorscalx().pow(player.algor).sub(1)));
}

function getalgorbase()
{
	let base = N(2);
	if(player.permupg.includes(25)) base = base.add(1);
	if(player.permupg.includes(52)) base = base.add(player.algordata.add(1).log10().root(5).div(3));
	if(player.permupg.includes(54)) base = base.add(0.5);
	if(player.permupg.includes(56)) base = base.add(player.godnode[7].add(1).log10().add(1).log10().root(4));
	return base;
}

function buyalgor()
{
	if(player.PL1info.gte(getalgorcost()))
	{
		player.PL1info = player.PL1info.sub(getalgorcost());
		player.algor = player.algor.add(1);
	}
}

function buymaxalgor()
{
	if(!player.PL1info.gte('e14000')) return;
	let ans = N(0);
	if(player.permupg.includes(35)) ans = player.PL1info.div('e14000').log('e1e4').log(getalgorscalx().mul(0.97)).floor().add(1);
	else ans = player.PL1info.div('e1e6').log('e2e4').log(getalgorscalx()).floor().add(1);
	if(ans.gte(player.algor)) player.algor = ans;
}

function getalgorrebuyscalx()
{
	let base = N(1.05);
	return base;
}

function getalgorrebuycost(num)
{
	if(num == 0 && player.algorrebuy[0].gte(50))
	{
		return N('e1.7e7').mul(N('e4e5').pow(N(2.5).pow(N(50).add(player.algorrebuy[0].sub(50).pow(getalgorrebuyscalx()))).sub(1)));
	}
	else if(num == 1 && player.algorrebuy[1].gte(25))
	{
		return N('e1.8e7').mul(N('e1e6').pow(N(6).pow(N(25).add(player.algorrebuy[1].sub(25).pow(getalgorrebuyscalx()))).sub(1)));
	}
	else if(num == 0) return N('e1.7e7').mul(N('e4e5').pow(N(2.5).pow(player.algorrebuy[0]).sub(1)));
	else return N('e1.8e7').mul(N('e1e6').pow(N(6).pow(player.algorrebuy[1]).sub(1)));
}

function buyalgorrebuy(num)
{
	num = num - 1;
	if(player.PL1info.gte(getalgorrebuycost(num)))
	{
		player.PL1info = player.PL1info.sub(getalgorrebuycost(num));
		player.algorrebuy[num] = player.algorrebuy[num].add(1);
	}
}

function buymaxalgorrebuy()
{
	if(player.PL1info.gte('e1.7e7'))
	{
		let ans = player.PL1info.div('e1.7e7').log('e4e5').log(2.5).floor().add(1);
		if(ans.gte(50))
		{
			ans = N(50).add(ans.sub(50).root(getalgorrebuyscalx()).add(1).floor());
		}
		if(ans.gte(player.algorrebuy[0])) player.algorrebuy[0] = ans;;
	}
	if(player.PL1info.gte('e1.8e7'))
	{
		let ans = player.PL1info.div('e1.8e7').log('e1e6').log(6).floor().add(1);
		if(ans.gte(25))
		{
			ans = N(25).add(ans.sub(25).root(getalgorrebuyscalx()).add(1).floor());
		}
		if(ans.gte(player.algorrebuy[1])) player.algorrebuy[1] = ans;
	}
}

function getalgordataspillstart()
{
	let base = N(1e13);
	//mul
	if(player.permupg.includes(46)) base = base.mul(player.data.add(10).log10().add(9).log10().root(5));
	if(player.chalcomp.gte(10)) base = base.mul(player.chalcomp.mul(50).sub(499).root(2));
	//pow
	if(player.openchal && player.chalpara.includes(7)) base = base.pow(0.25);
	return base;
}

function getalgordataspillroot(gen)
{
	let start = getalgordataspillstart();
	if(player.exchal[1].gte(1)) return gen.add(10).log10().div(start.add(10).log10()).root(1.1);
	return player.algordata.add(10).log10().div(2).sub(start.log10().div(2).sub(1));
};

function getalgordatagen()
{
	let adg = N(0);
	adg = adg.add(getalgorbase().pow(player.algor.add(player.permupg.includes(57) ? player.algorrebuy[0].mul(0.25) : 0)).sub(1));
	if(player.permupg.includes(37)) adg = adg.mul(player.data.add(10).log10().add(9).log10().max(2).div(2));
	if(player.colldata.gte(10)) adg = adg.mul(player.colldata.log10().pow(2));
	return adg;
}


function getPL3infoeffect()
{
	let e = '';
	e = e + '传输节点产能^' + notation(player.PL3infottl.add(10).log10().root(2)) + '<br>';
	if(player.PL3infottl.gte(6.666)) e = e + '传输节点产能×' + notation(player.PL3infottl.pow(1000)) + '<br>';
	if(player.PL3infottl.gte(250000)) e = e + '传输节点购买倍数×' + notation(player.PL3infottl.sub(250000).add(1).root(2)) + '<br>';
	if(player.PL3infottl.gte(1e14)) e = e + '压制数据获取速度×' + notation(player.PL3infottl.log10().mul(14).sub(195)) + '<br>';
	if(!player.PL3infottl.gte(6.666)) e = e + '到达 6.666 累计混沌信息解锁混沌第二效果<br>';
	if(!player.PL3infottl.gte(250000)) e = e + '到达 250000 累计混沌信息解锁混沌第三效果<br>';
	if(!player.PL3infottl.gte(1e14)) e = e + '到达 1.000e14 累计混沌信息解锁混沌第四效果<br>';
	return e;
}

function getreactparalim()
{
	let base = [N(1), N(10), N(20), N(1000).add(player.chaosshard.pow(2).mul(200))];
	if(player.chaosshard.gte(7)) base[3] = N(8200).mul(player.chaosshard.sub(5).pow(3));
	if(player.chaosshard.gte(15)) base[3] = N(1e7).mul(N(1.5).pow(N(1.25).pow(player.chaosshard.sub(15))));
	if(player.openelements) base[3] = elementsgoal[player.elements + 1];
	return base;
}

function addacce()
{
	let lim = getreactparalim();
	player.reactpara[0] = player.reactpara[0].add(lim[0].div(20)).min(lim[0]);
}

function subacce()
{
	let lim = getreactparalim();
	player.reactpara[0] = player.reactpara[0].sub(lim[0].div(20)).max(0);
}

function getchaosmasseffect()
{
	let e = '';
	if(player.chaosmass.gte(100000)) e = e + '星辰节点产能×' + notation(player.chaosmass.sub(99999.99).mul(100).root(2)) + '<br>';
	if(player.chaosmass.gte(2e8)) e = e + '位面切片增幅指数×' + notation(player.chaosmass.div(2).log10().sub(7).mul(50).sub(49)) + '<br>';
	if(!player.chaosmass.gte(100000)) e = e + '达到 100000 混沌质量解锁混沌质量第一效果<br>';
	if(!player.chaosmass.gte(2e8)) e = e + '达到 2.000e8 混沌质量解锁混沌质量第二效果<br>';
	return e;
}

var elementsname = ['', 'H','He','Li','Be','B','C','N','O','F','Ne',
        'Na','Mg','Al','Si','P','S','Cl','Ar','K','Ca',
        'Sc','Ti','V','Cr','Mn','Fe','Co','Ni','Cu','Zn',
        'Ga','Ge','As','Se','Br','Kr','Rb','Sr','Y','Zr',
        'Nb','Mo','Tc','Ru','Rh','Pd','Ag','Cd','In','Sn',
        'Sb','Te','I','Xe','Cs','Ba','La','Ce','Pr','Nd',
        'Pm','Sm','Eu','Gd','Tb','Dy','Ho','Er','Tm','Yb',
        'Lu','Hf','Ta','W','Re','Os','Ir','Pt','Au','Hg',
        'Tl','Pb','Bi','Po','At','Rn','Fr','Ra','Ac','Th',
        'Pa','U','Np','Pu','Am','Cm','Bk','Cf','Es','Fm',
        'Md','No','Lr','Rf','Db','Sg','Bh','Hs','Mt','Ds',
        'Rg','Cn','Nh','Fl','Mc','Lv','Ts','Og'];
var elementsgoal = [N(0), N(1e6), N(2e6), N(5e6), N(6e7), N(1e8), N(1e8), N(2e11), N(1e12), N('10^^10')];

function startelements()
{
	player.openelements = !player.openelements;
	player.reactpara = [N(0), N(0), N(0), N(0)];
	if(player.openelements) page = 6, subpage = 2;
}

function getelementseffect()
{
	let e = '<br>';
	for(let i = 1;i <= 118;i++)
	{
		if(player.elements >= i)
		{
			e = e + '[' + elementsname[i] + ' ' + i + ']: ' + geteachelementseffect(i) + '<br>';
		}
	}
	return e;
}

function geteachelementseffect(x)
{
	if(x == 1) return '混沌信息增强反应速度。当前：×' + notation(player.PL3info.add(1).log(2).add(1));
	else if(x == 2) return '算法数据弱化维度折算。当前：×' + notation(N(1).div(player.algordata.add(10).log10().root(2)));
	else if(x == 3) return '数据增强反应速度。当前：×' + notation(player.data.add(10).log(10).add(10).log(10));
	else if(x == 4) return '混沌信息的公式变得更好。';
	else if(x == 5) return '已知1<=X<=8，X号传输节点^(1.9-0.1×X)。';
	else if(x == 6) return '混沌以前全局速度增幅反应速度。当前：×' + notation(getPL3globalspeed().root(1.5));
	else if(x == 7) return '算法折算弱化20%。';
	else if(x == 8) return '星辰节点三阶软上限弱化99.8%。';
	return '元素过大';
}

function getsingcap()
{
	let scale = N(2);
	let ans = N(2).pow(1024).pow(scale.pow(player.PL4tms));
	return ans;
}

function getbheffect()
{
	let e = '';
	if(player.openbh) e = e + '(加成已获得)<br>';
	else e = e + '(开启黑洞以获得加成)<br>';
	e = e + '基于黑洞和奇点，混沌以前全局速度×' + notation(player.blackhole.mul(player.sing.add(10).log10())) + '<br>';
	return e;
}

function getPL3globalspeed()
{
	let s = N(1);
	if(!player.PL3unlock) return N(1);
	else
	{
		if(player.openbh) s = s.mul(player.blackhole.mul(player.sing.add(10).log10()));
	}
	if(player.exchal[6].gte(1)) s = s.mul(exchal[6].effect());
	return s;
}

function cbh()
{
	player.openbh = !player.openbh;
	if(player.openbh && !player.blackhole.gte(1)) player.openbh = false;
	if(player.opensupp) player.openbh = false;
}

var exchal = [
	null,
	{
		name: '区域限定',
		layer: 'chaos',
		description: '跃迁锁定为1，二重跃迁、三重跃迁锁定为0。<br>',
		effectdisplay(){return '增幅一号传输节点产能。当前：^' + notation(this.effect()) + '。<br>第1次完成本挑战时，算法数据的溢出改为基于算法数据获取速度而不是总量。<br>第1次完成本挑战时，解锁奇异挑战2。';},
		effect()
		{
			if(player.exchal[1].gte(1)) return player.exchal[1].add(1).mul(2).root(4);
			else return N(1);
		},
		maxcancomp()
		{
			let max = N(100);
			return max;
		},
		goal(num)
		{
			return N(10).pow(N(2).pow(num).mul(5e10));
		},
		cancomp()
		{
			if(player.data.gte(this.goal(player.exchal[1]))) return player.data.log10().div(5e10).log(2).add(1).floor().sub(player.exchal[1]).min(this.maxcancomp().sub(player.exchal[1])); 
			else return N(0);
		},
	},
	{
		name: '计算失误',
		layer: 'chaos',
		description: '算法数据失去效果。<br>',
		effectdisplay(){return '弱化算法折算。当前：×' + notation(this.effect()) + '。<br>第1次完成本挑战时，解锁奇异挑战3。';},
		effect()
		{
			if(player.exchal[2].gte(1)) return N(1).div(player.exchal[2].root(1.6).add(1).root(3));
			else return N(1);
		},
		maxcancomp()
		{
			let max = N(100);
			return max;
		},
		goal(num)
		{
			return N(10).pow(N(9).pow(num).mul(5e10));
		},
		cancomp()
		{
			if(player.data.gte(this.goal(player.exchal[2]))) return player.data.log10().div(5e10).log(9).add(1).floor().sub(player.exchal[2]).min(this.maxcancomp().sub(player.exchal[2])); 
			else return N(0);
		}
	},
	{
		name: '位面冲击',
		layer: 'chaos',
		description: '位面切片增幅指数锁定为0.001，且传输节点产能指数^0.5。<br>',
		effectdisplay(){return '算法数据倍增本源数据获取。当前：×' + notation(this.effect()) + '。<br>第1次完成本挑战时，解锁奇异挑战4。';},
		effect()
		{
			if(player.exchal[3].gte(1)) return player.algordata.add(1).mul(player.exchal[3].add(1).mul(40)).pow(45).pow(player.exchal[3]);
			else return N(1);
		},
		maxcancomp()
		{
			let max = N(100);
			return max;
		},
		goal(num)
		{
			return N(10).pow(N(4).pow(num).mul(2000));
		},
		cancomp()
		{
			if(player.data.gte(this.goal(player.exchal[3]))) return player.data.log10().div(2000).log(4).add(1).floor().sub(player.exchal[3]).min(this.maxcancomp().sub(player.exchal[3])); 
			else return N(0);
		}
	},
	{
		name: '升级破坏',
		layer: 'chaos',
		description: '第30号之前的部分永久升级被禁用。<br>',
		effectdisplay(){return '增幅神星升级倍数。当前：×' + notation(this.effect()) + '。<br>第1次完成本挑战时，解锁奇异挑战5。';},
		effect()
		{
			if(player.exchal[4].gte(1)) return player.exchal[4].pow(3).add(10).pow(2).log10();
			else return N(1);
		},
		maxcancomp()
		{
			let max = N(100);
			return max;
		},
		goal(num)
		{
			return N(10).pow(N(10).pow(num).mul(1e15));
		},
		cancomp()
		{
			if(player.data.gte(this.goal(player.exchal[4]))) return player.data.log10().div(1e15).log(10).add(1).floor().sub(player.exchal[4]).min(this.maxcancomp().sub(player.exchal[4])); 
			else return N(0);
		}
	},
	{
		name: '压力陡增',
		layer: 'chaos',
		description: '神子产能指数^0.25，算法数据指数始终为1。<br>',
		effectdisplay(){return '增幅节点升级效果。当前：^' + notation(this.effect()) + '。<br>第1次完成本挑战时，解锁奇异挑战6。<br>第2次完成本挑战时，解锁数据压制(在混沌选项卡内)。';},
		effect()
		{
			if(player.exchal[5].gte(1)) return player.exchal[5].add(1).root(10);
			else return N(1);
		},
		maxcancomp()
		{
			let max = N(100);
			return max;
		},
		goal(num)
		{
			return N(10).pow(N(5).pow(num).mul(5e13));
		},
		cancomp()
		{
			if(player.data.gte(this.goal(player.exchal[5]))) return player.data.log10().div(5e13).log(5).add(1).floor().sub(player.exchal[5]).min(this.maxcancomp().sub(player.exchal[5])); 
			else return N(0);
		}
	},
	{
		name: '极端折算',
		layer: 'chaos',
		description: '节点所有软上限不可削弱或移除。<br>',
		effectdisplay(){return '增幅混沌以前全局速度。当前：×' + notation(this.effect()) + '。<br>第1次完成本挑战时，解锁奇异挑战7。';},
		effect()
		{
			if(player.exchal[6].gte(1)) return player.exchal[6].add(1).mul(2).pow(1.5);
			else return N(1);
		},
		maxcancomp()
		{
			let max = N(100);
			return max;
		},
		goal(num)
		{
			return N(10).pow(N(5).pow(num).mul(1e13));
		},
		cancomp()
		{
			if(player.data.gte(this.goal(player.exchal[6]))) return player.data.log10().div(1e13).log(5).add(1).floor().sub(player.exchal[6]).min(this.maxcancomp().sub(player.exchal[6])); 
			else return N(0);
		}
	},
	{
		name: '水泄不通',
		layer: 'chaos',
		description: '节点升级效果锁定为×1。<br>',
		effectdisplay(){return '增幅混沌信息获取量。当前：×' + notation(this.effect()) + '。<br>第1次完成本挑战时，解锁奇异挑战8。';},
		effect()
		{
			if(player.exchal[7].gte(1)) return player.exchal[7].add(1).pow(2).mul(3);
			else return N(1);
		},
		maxcancomp()
		{
			let max = N(100);
			return max;
		},
		goal(num)
		{
			return N(10).pow(N(4).pow(num).mul(1e11));
		},
		cancomp()
		{
			if(player.data.gte(this.goal(player.exchal[7]))) return player.data.log10().div(1e11).log(4).add(1).floor().sub(player.exchal[7]).min(this.maxcancomp().sub(player.exchal[7])); 
			else return N(0);
		}
	},
	{
		name: '混沌终章',
		layer: 'chaos',
		description: '同时开启奇异挑战1~7。<br>',
		effectdisplay(){return '数据增幅折叠数据获取量。当前：×' + notation(this.effect()) + '。<br>第16次完成本挑战时，解锁<span style="color: white;">虚空</span>重置。';},
		effect()
		{
			if(player.exchal[8].gte(1)) return player.data.add(1e10).log10().log10().root(1.5).pow(player.exchal[8].mul(2).root(2));
			else return N(1);
		},
		maxcancomp()
		{
			let max = N(100);
			return max;
		},
		goal(num)
		{
			return N(10).pow(N(2).pow(num).mul(10000));
		},
		cancomp()
		{
			if(player.data.gte(this.goal(player.exchal[8]))) return player.data.log10().div(10000).log(2).add(1).floor().sub(player.exchal[8]).min(this.maxcancomp().sub(player.exchal[8])); 
			else return N(0);
		}
	},
];

function getexchalunlock(i)
{
	if(i == 1) return player.permupg.includes(58);
	else if(i >= 2 && i <= 8) return player.exchal[i - 1].gte(1);
}

function getexchalopen()
{
	let open = [];
	if(player.openexchal != 0) open.push(player.openexchal);
	if(player.opensupp) open.push(1), open.push(2), open.push(3), open.push(4);
	if(player.openexchal == 8)
	{
		for(let i = 1;i <= 7;i++) open.push(i);
	}
	let uni = [...new Set(open)];
	return uni;
}

var nowclickexchal = 0;

function build_exchalui()
{
	let exchaltext = '';
	if(nowclickexchal != 0)
	{
		exchaltext += '奇异挑战' + nowclickexchal + ': ' + exchal[nowclickexchal].name + '(' + player.exchal[nowclickexchal] + '/' + exchal[nowclickexchal].maxcancomp() + ')';
		if(getexchalopen().includes(nowclickexchal)) exchaltext += '[+' + exchal[nowclickexchal].cancomp() + ']';
		exchaltext += '<br><span style="color: green">内容：' + exchal[nowclickexchal].description + '</span><br>';
		exchaltext += '<span style="color: gold">目标：' + notation(exchal[nowclickexchal].goal(player.exchal[nowclickexchal])) + '数据</span><br>';
		exchaltext += '<span style="color: ' + (player.exchal[nowclickexchal] >= 1 ? 'green' : 'grey') + '">奖励：<br>' + exchal[nowclickexchal].effectdisplay() + '</span><br>';
	}
	document.getElementById('exchaltext').innerHTML = exchaltext;
	for(let i = 1;i < exchal.length;i++) document.getElementById('exchal' + i).style['box-shadow'] = '';
	let o = getexchalopen();
	for(let i = 0;i < o.length;i++)  document.getElementById('exchal' + o[i]).style['box-shadow'] = '0px 0px 10px white';
	for(let i = 1;i < exchal.length;i++)
	{
		document.getElementById('exchalcompinfo' + i).innerHTML = player.exchal[i] + '/' + exchal[i].maxcancomp();
		if(getexchalunlock(i)) document.getElementById('exchalcompinfo' + i).style.display = 'block';
		else document.getElementById('exchalcompinfo' + i).style.display = 'none';
	}
	for(let i = 1;i < exchal.length;i++)
	{
		if(getexchalunlock(i)) document.getElementById('exchal' + i).style.display = 'block';
		else document.getElementById('exchal' + i).style.display = 'none';
	}
	if(player.openexchal != 0) document.getElementById('closeexchal').style['opacity'] = '1';
	else document.getElementById('closeexchal').style['opacity'] = '0.3';
}

function dis_exchalui()
{
	let ui = '<table align="center">';
	for(let i = 1;i < exchal.length;i++)
	{
		let bgc, bdc;
		if(exchal[i].layer == 'chaos') bgc = '#770', bdc = '#990';
		ui += '<td><button id="exchal' + i + '"class="exchal" onclick="if(nowclickexchal != ' + i + ') {nowclickexchal = ' + i + ';} else {openexchal(' + i + ')}"style="background-color: ' + bgc + '; border-color: ' + bdc + '">Ex' + i + '</button>';
		ui += '<p align="center"><span class="ftsz2" id="exchalcompinfo' + i + '"></span></p></td>';
		if(i >= 2 && exchal[i].layer != exchal[i - 1].layer)
		{
			ui += '<tr>';
		}
	}
	ui += '</table><br><span style="font-size: 20px; color: white;" id="exchaltext"></span>';
	document.getElementById('exchal_detail').innerHTML = ui;
}

function openexchal(i)
{
	if(player.openexchal != 0)
	{
		closeexchal();
	}
	switch(exchal[i].layer)
	{
		case 'chaos':
			if(player.PL2info.gte('e10000'))
			{
				player.PL3info = player.PL3info.add(PL3infoget);
				player.PL3infottl = player.PL3infottl.add(PL3infoget);
				player.PL3unlock = true;
				player.PL3tms = player.PL3tms.add(1);
			}
			PL3reset();
			if(player.permupg.includes(32))
			{
				player.PL2tms = N(35);
				player.PL1upg = [true, true, true, true, true, true, true, true];
				player.sliceupg = [true, true, true, true], player.unlock_origin = true;
			}
			if(player.permupg.includes(41))
			{
				player.PL2upg = [true, true, true, true];
			}
			break;
	}
	player.openexchal = i;
}

function closeexchal()
{
	if(player.openexchal != 0)
	{
		player.exchal[player.openexchal] = player.exchal[player.openexchal].add(exchal[player.openexchal].cancomp());
		switch(exchal[player.openexchal].layer)
		{
			case 'chaos':
				if(player.PL2info.gte('e10000'))
				{
					player.PL3info = player.PL3info.add(PL3infoget);
					player.PL3infottl = player.PL3infottl.add(PL3infoget);
					player.PL3unlock = true;
					player.PL3tms = player.PL3tms.add(1);
				}
				PL3reset();
				if(player.permupg.includes(32))
				{
					player.PL2tms = N(35);
					player.PL1upg = [true, true, true, true, true, true, true, true];
					player.sliceupg = [true, true, true, true], player.unlock_origin = true;
				}
				if(player.permupg.includes(41))
				{
					player.PL2upg = [true, true, true, true];
				}
				break;
		}
		player.openexchal = 0;
	}
}

function getcolleffect()
{
	let e = '';
	if(player.colldata.gte(10)) e += '算法数据获取速度×' + notation(player.colldata.log10().pow(2)) + '<br>';
	if(player.colldata.gte(1e6)) e += '(非连续)压制数据获取速度×' + notation(N(2).pow(player.colldata.div(2e5).log(5).floor()))
	+ '，在' + notation(N(2e5).mul(N(5).pow(player.colldata.div(2e5).log(5).floor().add(1)))) + '使效果×2。<br>';
	if(player.colldata.gte(1e9)) e += '算法数据加成指数+' + notation(player.colldata.div(1e9).log10().root(5).div(10).min(N(0.12).add(player.colldata.log10().root(50).div(1000)))) + '<br>';
	if(player.colldata.gte(1e18)) e += '传输节点产能^' + notation(player.colldata.div(1e18).root(1.5).iteratedlog(10, 0.75).add(0.75)) + '<br>';
	if(player.colldata.gte(1e54)) e += '基于折叠数据和星辰，传输节点和星辰节点产能^' + notation(player.colldata.mul(player.star.add(1).root(1000)).div(1e54).add(9).log10()) + '<br>';
	
	if(player.suppdata.gte(1e20)) e += '<span style="color: red">压制数据超过 1.000e20 后触发软上限。</span><br>';
	if(!player.colldata.gte(10)) e += '到达 10.00 折叠数据解锁折叠第一效果<br>';
	else if(!player.colldata.gte(1e6)) e += '到达 1.000e6 折叠数据解锁折叠第二效果<br>';
	else if(!player.colldata.gte(1e9)) e += '到达 1.000e9 折叠数据解锁折叠第三效果<br>';
	else if(!player.colldata.gte(1e18)) e += '到达 1.000e18 折叠数据解锁折叠第四效果<br>';
	else if(!player.colldata.gte(1e54)) e += '到达 1.000e54 折叠数据解锁折叠第五效果<br>';
	
	if(!player.colldata.gte(1e20)) e += '<span style="color: red">到达 1.000e20 压制数据后触发软上限</span><br>';
	return e;
}

function getcollget()
{
	let get = N(0);
	get = player.data.add(10).log10().root(2);
	if(player.colldata.gte(1e6)) get = get.mul(N(2).pow(player.colldata.div(2e5).log(5).floor()));
	if(player.PL3info.gte(1e14)) get = get.mul(player.PL3infottl.log10().mul(14).sub(195));
	if(get.gte(1e20)) get = N(1e20).mul(get.div(1e20).pow(0.8));
	return get.sub(player.suppdata).max(0);
}

function opensupp()
{
	if(player.opensupp && getcollget().gte(0))
	{
		player.suppdata = player.suppdata.add(getcollget());
	}
	if(player.PL2info.gte('e10000'))
	{
		player.PL3info = player.PL3info.add(PL3infoget);
		player.PL3infottl = player.PL3infottl.add(PL3infoget);
		player.PL3unlock = true;
		player.PL3tms = player.PL3tms.add(1);
	}
	PL3reset();
	if(player.permupg.includes(32))
	{
		player.PL2tms = N(35);
		player.PL1upg = [true, true, true, true, true, true, true, true];
		player.sliceupg = [true, true, true, true], player.unlock_origin = true;
	}
	if(player.permupg.includes(41))
	{
		player.PL2upg = [true, true, true, true];
	}
	player.opensupp = !player.opensupp;
}

function automation()
{
	if(player.PL1upg[0])
	{
		for(let i = 0;i < 8;i++)
		{
			if(player.autobuyjd[i]) buymaxjd(i + 1);
		}
	}
	if(player.PL1upg[4])
	{
		if(player.autoboost) buymaxboost();
	}
	if(player.sliceupg[0])
	{
		if(player.autoboost2) buymaxboost2();
	}
	if(player.PL2upg[1])
	{
		if(player.autoboost3) buymaxboost3();
	}
	
	if(player.slice.gte(1e64) || player.PL2tms.gte(1))
	{
		player.sliceupg_rep[0] = player.slice.log(sliceupgcost[0]).floor();
		player.sliceupg_rep[1] = player.slice.log(sliceupgcost[1]).floor();
		player.sliceupg_rep[2] = player.slice.log(sliceupgcost[2]).floor();
		player.sliceupg_rep[3] = player.slice.log(sliceupgcost[3]).floor();
		for(let i = 0;i <= 3;i++) if(player.sliceupg_rep[i].gte(200)) player.sliceupg_rep[i] = N(200);
	}
	
	if(player.PL2tms.gte(4))
	{
		let base = [N(1), N(10), N(100), N(1e4), N(1e6)];
		let basex = [N(1.15), N(1.35), N(8), N(20), N(30)];
		player.origin_upg[0] = player.origin_upg[0].max(player.origin_data.add(1).div(base[0]).log(basex[0]).floor().add(1));
		for(let i = 1;i < 5;i++) player.origin_upg[i] = player.origin_upg[i].max(player.origin_data.div(base[i]).log(basex[i]).floor().add(1));
		let cap = [N(100), N(100), N(30), N(30)];
		for(let i = 0;i < 4;i++) player.origin_upg[i] = player.origin_upg[i].min(cap[i]);
	}
	
	if(player.permupg.includes(27))
	{
		buymaxgn();
		buymaxsn();
	}
	
	if(player.permupg.includes(34))
	{
		for(let i = 0;i < getfreepermupg();i++)
		{
			if(!player.permupg.includes(i) && !getdisablepermupg(i)) player.permupg.push(i);
		}
	}
	
	if(player.permupg.includes(36))
	{
		buymaxdim();
		buymaxalgor();
	}
	
	if(player.permupg.includes(38)) buymaxalgorrebuy();
	
	if(player.PL2upg[0])
	{
		player.PL1info = player.PL1info.add(PL1infoget);
	}
	if(player.PL2upg[2])
	{
		updatePLinfoget();
		player.PL2info = player.PL2info.add(PL2infoget.div(player.permupg.includes(18) ? 100 : 10000));
	}
	
	if(player.permupg.includes(39) && player.autochaos && PL3infoget.gte(player.autochaosgoal)) buyPL3();
}

var last_update = Date.now();

function produce()
{
	if(getexchalopen().includes(1)) player.boost = N(1), player.boost2 = N(0), player.boost3 = N(0);
	for(let i = 0;i < player.permupg.length;i++)
	{
		if(getdisablepermupg(player.permupg[i])) player.permupg[i] = undefined;
	}
	if(player.opensupp)
	{
		player.openbh = false;
	}
	
	let tickmult = (Date.now() - last_update) / 100;
	last_update = Date.now();
	
	updatePLinfoget();
	
	let jdprice = getjdprice();
	let jdx = getjdx();
	let jdunlock = [N(1), N(2), N(3), N(4), N(5), N(6), N(7), N(8)];
	
	let PL3globalspeed = getPL3globalspeed();
	
	for(let i = 7;i >= 1;i--)
	{
		if(player.boost.gte(jdunlock[i]))
		{
			player.jdnum[i - 1] = player.jdnum[i - 1].add(player.jdnum[i].mul(jdx[i]).div(10).mul(PL3globalspeed).mul(tickmult));
		}
	}
	if(player.boost.gte(jdunlock[0]))
	{
		player.data = player.data.add(player.jdnum[0].mul(jdx[0]).div(10).mul(PL3globalspeed).mul(tickmult));
	}
	if(player.PL2unlock)
	{
		let snx = getsnx();
		for(let i = 7;i >= 1;i--)
		{
			player.star_node[i - 1] = player.star_node[i - 1].add(player.star_node[i].mul(snx[i]).div(10).mul(PL3globalspeed).mul(tickmult));
		}
		player.star = player.star.add(player.star_node[0].mul(snx[0]).div(10).mul(PL3globalspeed).mul(tickmult));
	}
	if(player.PL2upg[2])
	{
		let gnx = getgnx();
		for(let i = 7;i >= 1;i--)
		{
			player.godnode[i - 1] = player.godnode[i - 1].add(player.godnode[i].mul(gnx[i]).div(10).mul(PL3globalspeed).mul(tickmult));
		}
		player.godstar = player.godstar.add(player.godnode[0].mul(gnx[0]).div(10).mul(PL3globalspeed).mul(tickmult));
	}
	
	if(player.PL1upg[7])
	{
		let slice_gen = N(0.05);
		if(!player.slice.gte(1e7)) slice_gen = slice_gen.mul(player.slice.div(600).root(1.25).max(1));
		else slice_gen = slice_gen.mul(player.slice.min('ee6').div(1e7).pow(0.8).mul(1e7).div(600).root(1.25).max(1));
		
		//mul
		if(player.boost.gte(67)) slice_gen = slice_gen.mul(player.PL1info.add(10).log(2).root(1.5));
		if(player.boost2.gte(25)) slice_gen = slice_gen.mul(5000);
		slice_gen = slice_gen.mul(N(1.5).pow(player.sliceupg_rep[0]));
		if(player.origin_data.gte(100) && !(player.openchal && player.chalpara.includes(2))) slice_gen = slice_gen.mul(player.origin_data.sub(100).max(1).pow(1.15).div(100).max(1));
		if(player.star.gte(1e50)) slice_gen = slice_gen.mul(player.permupg.includes(6) ? player.star.add(1).root(4.5) : player.star.add(10).log10().pow(1.75));
		if(player.godstar.gte(1e140)) slice_gen = slice_gen.mul(player.godstar.div(1e120).root(4).div(100).sub(999).min(N(1e50).add(player.permupg.includes(50) ? player.godstar.log(1.0001).pow(1000) : 0)));
		//pow
		
		if(slice_gen.gte(5e8) && !player.PL2tms.gte(15)) slice_gen = N(5e8).mul(slice_gen.div(5e8).pow(0.75));
		if(slice_gen.gte(1e130)) slice_gen = N(1e130).mul(N(10).pow(slice_gen.div(1e130).log10().pow(N(1).div(N(2).mul(player.entropy[3].gte(1.062) ? N(1).sub(player.entropy[3].mul(0.16)).max(0.2) : 1)))));
		//beforesoftcap
		if(player.permupg.includes(49)) slice_gen = slice_gen.pow(1.5);
		
		player.slice = player.slice.add(slice_gen.mul(PL3globalspeed).mul(tickmult));
	}
	
	if(player.unlock_origin)
	{
		let odg = N(0);
		odg = odg.add(player.origin_upg[0].mul(0.1));
		odg = odg.add(player.origin_upg[1].mul(3));
		odg = odg.mul(N(1.5).pow(player.origin_upg[2]));
		odg = odg.mul(N(2.5).pow(player.origin_upg[3]));
		odg = odg.mul(N(5).pow(player.origin_upg[4]));
		if(player.boost.gte(120)) odg = odg.mul(5);
		if(player.boost2.gte(34)) odg = odg.mul(N(1).add(player.slice.log(2).div(30)));
		if(player.origin_data.gte(5e12) && !(player.openchal && player.chalpara.includes(2))) odg = odg.mul(player.origin_data.div(1.25e12).log(4).max(1));
		if(player.entropy[3].gte(1)) odg = odg.mul(N(1000).pow(player.entropy[3].pow(1.25)));
		if(player.godstar.gte(1e13)) odg = odg.mul(player.godstar.div(1e9).sub(9999).root(1.25).max(1).min('e1800'));
		if(player.permupg.includes(7)) odg = odg.mul(player.PL1info.pow(25).add(1.05).log(1.05).pow(1.15));
		if(player.exchal[3].gte(1)) odg = odg.mul(exchal[3].effect());
		player.origin_data = player.origin_data.add(odg.div(10).mul(PL3globalspeed).mul(tickmult));
	}
	
	if(player.permupg.includes(24))
	{
		let adg = getalgordatagen();
		if((player.exchal[1].gte(1) && adg.gte(getalgordataspillstart())) || (!player.exchal[1].gte(1) && player.algordata.gte(getalgordataspillstart()))) adg = adg.root(getalgordataspillroot(adg));
		player.algordata = player.algordata.add(adg.mul(PL3globalspeed).mul(tickmult));
	}
	
	if(player.permupg.includes(43))
	{
		let lim = getreactparalim();
		player.reactpara[1] = player.reactpara[1].add(player.reactpara[0].sub(lim[0].div(2)).div(10)).min(lim[1]).max(0);
		player.reactpara[2] = player.reactpara[2].add(player.reactpara[1].sub(lim[1].div(2)).div(10)).max(0);
		let reactspeed = N(1);
		if(player.elements >= 1) reactspeed = reactspeed.mul(player.PL3info.add(1).log(2).add(1));
		if(player.elements >= 3) reactspeed = reactspeed.mul(player.data.add(10).log(10).add(10).log(10));
		
		if(player.elements >= 6) reactspeed = reactspeed.mul(getPL3globalspeed().root(1.5));
		player.reactpara[3] = player.reactpara[3].add(player.reactpara[2].pow(player.reactpara[2].gte(1) ? 3 : 1).div(10).mul(reactspeed));
		if(player.reactpara[2].gte(lim[2]))
		{
			player.reactpara = [N(0), N(0), N(0), N(0)];
		}
		if(player.reactpara[3].gte(lim[3]))
		{
			if(player.permupg.includes(48) && player.openelements)
			{
				player.reactpara = [N(0), N(0), N(0), N(0)];
				page = 6;
				subpage = 3;
				player.elements++;
				player.openelements = false;
			}
			else
			{
				player.reactpara = [N(0), N(0), N(0), N(0)];
				player.chaosshard = player.chaosshard.add(1);
			}
		}
		
		player.chaosmass = player.chaosmass.add(N(3).pow(player.chaosshard).sub(1).mul(tickmult));
	}
	
	if(player.permupg.includes(55))
	{
		if(!player.openbh)
		{
			if(!player.permupg.includes(59))
			{
				player.blackhole = player.blackhole.add(player.data.add(10).log10().add(10).log10().div(10));
				if(player.blackhole.gte(player.data.add(10).log10().add(10).log10()))
				{
					player.blackhole = player.data.add(10).log10().add(10).log10().mul(player.blackhole.div(player.data.add(10).log10().add(10).log10()).pow(0.99));
				}
			}
			else
			{
				player.blackhole = player.data.add(10).log10().add(10).log10().mul(10).max(player.blackhole);
			}
		}
		else
		{
			player.sing = player.sing.add(player.blackhole.div(10));
			if(!player.permupg.includes(59)) player.blackhole = player.blackhole.pow(0.99).mul(0.975).sub(0.1);
			if(!player.blackhole.gte(1)) player.openbh = false;
		}
	}
	
	if(player.exchal[5].gte(2))
	{
		let cdg = player.suppdata.pow(2);
		if(player.exchal[8].gte(1)) cdg = cdg.mul(exchal[8].effect());
		player.colldata = player.colldata.add(cdg.div(10).mul(tickmult));
	}
	
	getentropy();
	
	automation();
}

function update_ach()
{
	if(!player.ach.includes(0) && player.boost.gte(1)){othershine = true; player.ach.push(0);}
	if(!player.ach.includes(1) && player.boost.gte(8)){othershine = true; player.ach.push(1);}
	if(!player.ach.includes(2) && player.buyjd[7].gte(1)){othershine = true; player.ach.push(2);}
	if(!player.ach.includes(3) && player.boost2.gte(1)){othershine = true; player.ach.push(3);}
	if(!player.ach.includes(4) && player.data.gte(1e50)){othershine = true; player.ach.push(4);}
	if(!player.ach.includes(5) && player.boost.gte(10)){othershine = true; player.ach.push(5);}
	if(!player.ach.includes(6) && player.boost2.gte(2)){othershine = true; player.ach.push(6);}
	if(!player.ach.includes(7) && page == 3){othershine = true; player.ach.push(7);}
	if(!player.ach.includes(8) && player.data.gte(1e75)){othershine = true; player.ach.push(8);}
	if(!player.ach.includes(9) && player.data.gte(1e80)){othershine = true; player.ach.push(9);}
	if(!player.ach.includes(10) && player.PL1info.gte(1)){othershine = true; player.ach.push(10);}
	if(!player.ach.includes(11) && player.boost.gte(50)){othershine = true; player.ach.push(11);}
	if(!player.ach.includes(12) && player.PL1upg[7]){othershine = true; player.ach.push(12);}
	if(!player.ach.includes(13) && player.data.gte('1.797e308')){othershine = true; player.ach.push(13);}
	if(!player.ach.includes(14) && player.PL1info.gte('1.797e308')){othershine = true; player.ach.push(14);}
	if(!player.ach.includes(15) && player.unlock_origin){othershine = true; player.ach.push(15);}
	if(!player.ach.includes(16) && player.origin_data.gte(1e40)){othershine = true; player.ach.push(16);}
	if(!player.ach.includes(17) && player.PL1info.gte('e1000')){othershine = true; player.ach.push(17);}
	if(!player.ach.includes(18) && page == 4){othershine = true; player.ach.push(18);}
	if(!player.ach.includes(19) && player.PL1info.gte('e7000')){othershine = true; player.ach.push(19);}
	if(!player.ach.includes(20) && player.PL2unlock){othershine = true; player.ach.push(20);}
	if(!player.ach.includes(21) && player.PL2info.gte('1.797e308')){othershine = true; player.ach.push(21);}
	if(!player.ach.includes(22) && player.boost3.gte(1)){othershine = true; player.ach.push(22);}
	if(!player.ach.includes(23) && player.openentropy){othershine = true; player.ach.push(23);}
	if(!player.ach.includes(24) && player.PL2upg[2]){othershine = true; player.ach.push(24);}
	if(!player.ach.includes(25) && player.PL2upg[3]){othershine = true; player.ach.push(25);}
	if(!player.ach.includes(26) && getbuyjdeffect().gte(1e7)){othershine = true; player.ach.push(26);}
	if(!player.ach.includes(27) && player.chalcomp.gte(1)){othershine = true; player.ach.push(27);}
	if(!player.ach.includes(28) && player.algorrebuy[0].gte(1)){othershine = true; player.ach.push(28);}
	if(!player.ach.includes(29) && player.PL2info.gte('e10000')){othershine = true; player.ach.push(29);}
	if(!player.ach.includes(30) && player.PL3unlock){othershine = true; player.ach.push(30);}
	if(!player.ach.includes(31) && player.PL3info.gte('1.797e308')){othershine = true; player.ach.push(31);}
}

var othershine = false;

function hidenode()
{
	player.hidenode = !player.hidenode;
}

function timeshow(time)
{
	let s = '';
	if(time >= 1e20)
	{
		return '很长时间';
	}
	if(time >= 3153600000) s = s + Math.floor(time / 3153600000) + '世纪';
	time -= Math.floor(time / 3153600000) * 3153600000;
	if(time >= 31536000) s = s + Math.floor(time / 31536000) + '年';
	time -= Math.floor(time / 31536000) * 31536000;
	if(time >= 86400) s = s + Math.floor(time / 86400) + '天';
	time -= Math.floor(time / 86400) * 86400;
	if(time >= 3600) s = s + Math.floor(time / 3600) + '小时';
	time -= Math.floor(time / 3600) * 3600;
	if(time >= 60) s = s + Math.floor(time / 60) + '分钟';
	time -= Math.floor(time / 60) * 60;
	s = s + Math.floor(time) + '秒';
	return s;
}

function getdatashow()
{
	let planck = 3.3e-102;
	if(player.data.gte('ee1000')) return '如果你每秒写1个数字，你需要写' + timeshow(player.data.log10().log10()) + '才能写出你的数据的数量级数量。';
	else if(player.data.gte(1e300)) return '如果你每秒写1个数字，你需要写' + timeshow(player.data.log10()) + '才能写出你的数据。';
	else if(player.data.gte(1e81 / planck)) return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data.div(1e81 / planck)) + '个可观测宇宙。';
	else if(player.data.gte(1e48 / planck)) return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data.div(1e48 / planck)) + '立方光年。';
	else if(player.data.gte(3e27 / planck)) return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data.div(3e27 / planck)) + '个太阳。';
	else if(player.data.gte(3e24 / planck)) return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data.div(3e24 / planck)) + '个木星。';
	else if(player.data.gte(4e19 / planck)) return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data.div(4e19 / planck)) + '个月球。';
	else if(player.data.gte(1e18 / planck)) return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data.div(1e18 / planck)) + '个塞德娜。';
	else if(player.data.gte(1e-30 / planck)) return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data.div(1e-30 / planck)) + '个氢原子。';
	else if(player.data.gte(2e-64 / planck)) return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data.div(2e-64 / planck)) + '个顶夸克。';
	else if(player.data.gte(5e-46 / planck)) return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data.div(5e-46 / planck)) + '个质子。';
	else if(player.data.gte(1e-54 / planck)) return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data.div(1e-54 / planck)) + '个电子。';
	else if(player.data.gte(2e-64 / planck)) return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data.div(2e-64 / planck)) + '个顶夸克。';
	else if(player.data.gte(1e-72 / planck)) return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data.div(1e-72 / planck)) + '个电中微子。';
	else return '如果每个数据占据1个普朗克体积，你的数据占据了' + notation(player.data) + '个普朗克体积。';
}

function GUI()
{
	update_ach();
	
	let page_has_spage = [3, 3, 4, 3, 4, 5, 0, 0, 0, 0, 3];
	let max_page_has_spage = 5;
	
	for(let i = 1;i <= 11;i++)
	{
		if(page == i) document.getElementById('page' + i).style.display = 'block';
		else document.getElementById('page' + i).style.display = 'none';
	}
	
	if(othershine) document.getElementById('pagebt11').style.animation = 'flash-red 1s infinite';
	else document.getElementById('pagebt11').style.animation = 'flash-red 1s 0';
	if(page == 11) othershine = false;
	
	for(let i = 1;i <= max_page_has_spage;i++)
	{
		if(page_has_spage[page - 1] >= i)
		{
			if(subpage == i) document.getElementById('spage' + i + '_' + page).style.display = 'block';
			else document.getElementById('spage' + i + '_' + page).style.display = 'none';
		}	
	}
	
	if(player.PL1unlock) document.getElementById('PL1pbt').style.display = 'inline-block';
	else document.getElementById('PL1pbt').style.display = 'none';
	if(player.PL2unlock) document.getElementById('PL2pbt').style.display = 'inline-block';
	else document.getElementById('PL2pbt').style.display = 'none';
	if(player.PL3unlock) document.getElementById('PL3pbt').style.display = 'inline-block';
	else document.getElementById('PL3pbt').style.display = 'none';
	document.getElementById('PL4pbt').style.display = 'none';
	document.getElementById('PL5pbt').style.display = 'none';
	document.getElementById('PL6pbt').style.display = 'none';
	document.getElementById('PL7pbt').style.display = 'none';
	if(player.sliceupg[3]) document.getElementById('PL2bt').style.display = 'block';
	else document.getElementById('PL2bt').style.display = 'none';
	if(player.permupg.includes(29)) document.getElementById('PL3bt').style.display = 'block';
	else document.getElementById('PL3bt').style.display = 'none';
	
	if(player.PL1upg[7]) document.getElementById('spagebt2_4').style.display = 'inline-block';
	else document.getElementById('spagebt2_4').style.display = 'none';
	
	if(player.PL2unlock) document.getElementById('spagebt2_1').style.display = 'inline-block';
	else document.getElementById('spagebt2_1').style.display = 'none';
	
	if(player.PL2tms.gte(25)) document.getElementById('spagebt4_3').style.display = 'inline-block';
	else document.getElementById('spagebt4_3').style.display = 'none';
	
	if(player.PL2tms.gte(35)) document.getElementById('spagebt2_5').style.display = 'inline-block';
	else document.getElementById('spagebt2_5').style.display = 'none';
	
	if(player.PL2upg[2]) document.getElementById('spagebt4_5').style.display = 'inline-block';
	else document.getElementById('spagebt4_5').style.display = 'none';
	
	if(player.PL2upg[3]) document.getElementById('spagebt3_1').style.display = 'inline-block';
	else document.getElementById('spagebt3_1').style.display = 'none';
	
	if(player.permupg.includes(14)) document.getElementById('spagebt2_2').style.display = 'inline-block';
	else document.getElementById('spagebt2_2').style.display = 'none';
	
	if(player.permupg.includes(43)) document.getElementById('spagebt2_6').style.display = 'inline-block';
	else document.getElementById('spagebt2_6').style.display = 'none';
	
	if(player.permupg.includes(48)) document.getElementById('spagebt3_6').style.display = 'inline-block';
	else document.getElementById('spagebt3_6').style.display = 'none';
	
	if(player.permupg.includes(55)) document.getElementById('spagebt4_6').style.display = 'inline-block';
	else document.getElementById('spagebt4_6').style.display = 'none';
	
	if(player.permupg.includes(58)) document.getElementById('spagebt3_2').style.display = 'inline-block';
	else document.getElementById('spagebt3_2').style.display = 'none';
	
	if(player.exchal[5].gte(2)) document.getElementById('spagebt5_6').style.display = 'inline-block';
	else document.getElementById('spagebt5_6').style.display = 'none';
	
	document.getElementById('PL1infoget').innerHTML = notation(PL1infoget, 0);
	document.getElementById('PL2infoget').innerHTML = notation(PL2infoget, 0);
	document.getElementById('PL3infoget').innerHTML = notation(PL3infoget, 0);
	
	document.getElementById('PL3globalspeed').innerHTML = notation(getPL3globalspeed(), 2);
	
	document.getElementById('data').innerHTML = notation(player.data, 0);
	document.getElementById('data2').innerHTML = notation(player.data, 0);
	document.getElementById('datashow').innerHTML = getdatashow();
	document.getElementById('PL1info').innerHTML = notation(player.PL1info, 0);
	document.getElementById('PL2info').innerHTML = notation(player.PL2info, 0);
	document.getElementById('PL3info').innerHTML = notation(player.PL3info, 0);
	document.getElementById('PL3infottl').innerHTML = notation(player.PL3infottl, 0);
	document.getElementById('PL3infoeffect').innerHTML = getPL3infoeffect();
	document.getElementById('PL2tms').innerHTML = notation(player.PL2tms, 0);
	document.getElementById('PL3tms').innerHTML = notation(player.PL3tms, 0);
	//document.getElementById('PL4tms').innerHTML = notation(player.PL4tms);
	
	document.getElementById('slice').innerHTML = notation(player.slice, 0);
	document.getElementById('slice_effect').innerHTML = notation(getsliceeffect());
	for(let i = 0;i < 3;i++)
	{
		sbc[i] += sbct[i];
		if(sbc[i] < 0) sbc[i] = 0, sbct[i] = ((-sbct[i]) + 1) % 3;
		else if(sbc[i] > 255) sbc[i] = 255, sbct[i] = ((-sbct[i]) - 1) % 3;
	}
	for(let xm = 1;xm < 9;xm++) document.getElementById('slicebt' + xm).style['border-color'] = 'rgb(' + sbc[0] + ',' + sbc[1] + ',' + sbc[2] + ')';
	document.getElementById('boostnum').innerHTML = notation(player.boost, 0);
	document.getElementById('boost2num').innerHTML = notation(player.boost2, 0);
	document.getElementById('boost3num').innerHTML = notation(player.boost3, 0);
	if(player.boost.gte(10)) document.getElementById('boostscaling').innerHTML = '超级折算|';
	else document.getElementById('boostscaling').innerHTML = '';
	document.getElementById('boostscalingeffect').innerHTML = notation(getboostzs1x(), 3);
	document.getElementById('unlock_origin').style.display = (player.unlock_origin ? 'block' : 'none');
	document.getElementById('uunlock_origin').style.display = (!player.unlock_origin ? 'block' : 'none');
	document.getElementById('origin_data').innerHTML = notation(player.origin_data, 0);
	document.getElementById('origin_effect').innerHTML = getorigineffect();
	
	document.getElementById('dim').innerHTML = notation(player.dimension, 0);
	document.getElementById('dimcost').innerHTML = notation(getdimcost());
	document.getElementById('star').innerHTML = notation(player.star, 0);
	document.getElementById('godstar').innerHTML = notation(player.godstar, 0);
	document.getElementById('stareffect').innerHTML = getstareffect();
	document.getElementById('godstareffect').innerHTML = getgodstareffect();
	if(player.PL2info.gte(getdimcost()))
	{
		document.getElementById('dimbt').style['background-color'] = '#666666';
	}
	else
	{
		document.getElementById('dimbt').style['background-color'] = 'black';
	}
	let PL2mlst_num = 8;
	let PL2mlst_dis = [N(1), N(2), N(4), N(7), N(10), N(15), N(25), N(35)];
	for(let i = 0;i < PL2mlst_num;i++)
	{
		if(player.PL2tms.gte(PL2mlst_dis[i]))
		{
			document.getElementById('PL2mlst' + i).style['background-color'] = 'purple';
			document.getElementById('PL2mlst' + i).style['border-color'] = 'white';
			document.getElementById('PL2mlst' + i).style['color'] = 'white';
		}
		else
		{
			document.getElementById('PL2mlst' + i).style['background-color'] = 'white';
			document.getElementById('PL2mlst' + i).style['border-color'] = 'purple';
			document.getElementById('PL2mlst' + i).style['color'] = 'black';
		}
	}
	document.getElementById('chalcompmax').innerHTML = notation(player.chalcomp, 3);
	document.getElementById('chalcompnow').innerHTML = notation(getchalparacomp());
	document.getElementById('chalcompeffect').innerHTML = getchalcompeffect();
	
	let jdx = getjdx();
	let boostcost = getboostcost();
	let boost2cost = getboost2cost();
	let boost3cost = getboost3cost();
	let jdcost = getjdprice();
	let jdunlock = [N(1), N(2), N(3), N(4), N(5), N(6), N(7), N(8)];
	document.getElementById('boosteffect').innerHTML = getboosteffect(player.boost);
	document.getElementById('boost2effect').innerHTML = getboost2effect(player.boost2);
	document.getElementById('boost3effect').innerHTML = getboost3effect(player.boost3);
	let beff = '', b2eff = '', b3eff = '';
	for(let i = 0;i < boosteffectnum;i++)
	{
		if(player.boost.gte(boosteffectlist[i])) beff = beff + getboosteffect(boosteffectlist[i].sub(1)) + '<br/>';
	}
	for(let i = 0;i < boost2effectnum;i++)
	{
		if(player.boost2.gte(boost2effectlist[i])) b2eff = b2eff + getboost2effect(boost2effectlist[i].sub(1)) + '<br/>';
	}
	for(let i = 0;i < boost3effectnum;i++)
	{
		if(player.boost3.gte(boost3effectlist[i])) b3eff = b3eff + getboost3effect(boost3effectlist[i].sub(1)) + '<br/>';
	}
	document.getElementById('boosteffectlist').innerHTML = beff;
	document.getElementById('boost2effectlist').innerHTML = b2eff;
	document.getElementById('boost3effectlist').innerHTML = b3eff;
	if(player.autoboost) document.getElementById('autoboostbts').innerHTML = '自动购买：开';
	else document.getElementById('autoboostbts').innerHTML = '自动购买：关';
	if(player.autoboost2) document.getElementById('autoboost2bts').innerHTML = '自动购买：开';
	else document.getElementById('autoboost2bts').innerHTML = '自动购买：关';
	if(player.autoboost3) document.getElementById('autoboost3bts').innerHTML = '自动购买：开';
	else document.getElementById('autoboost3bts').innerHTML = '自动购买：关';
	if(player.PL1upg[4]) document.getElementById('autoboostbt').style.display = 'block';
	else document.getElementById('autoboostbt').style.display = 'none';
	if(player.sliceupg[0]) document.getElementById('autoboost2bt').style.display = 'block';
	else document.getElementById('autoboost2bt').style.display = 'none';
	if(player.PL2upg[1]) document.getElementById('autoboost3bt').style.display = 'block';
	else document.getElementById('autoboost3bt').style.display = 'none';
	document.getElementById('buyjdeffect').innerHTML = notation(getbuyjdeffect());
	for(let i = 0;i < 8;i++)
	{
		let scs = getjdscs(i);
		let scx = getjdscx(i);
		for(let j = 0;j < 8;j++) document.getElementById('jdscs' + (j + 1)).innerHTML = notation(scs[j]);
		for(let j = 0;j < 8;j++) document.getElementById('jdscx' + (j + 1)).innerHTML = notation(scx[j]);
		let jdx = getjdx();
		let zscolor = ['#ff0000', '#aa2200', '#22aa00', '#00ff00', '#00aa22', '#0022aa', '#0000ff', '#2200aa'];
		let zstext = ['一阶软上限', '二阶软上限', '三阶软上限', '四阶软上限', '五阶软上限', '六阶软上限', '七阶软上限', '八阶软上限'];
		document.getElementById('jdzs' + (i + 1)).innerHTML = '';
		document.getElementById('jdzs' + (i + 1)).style['color'] = '#ffffff';
		let now_x = getbuyjdeffect().pow(player.buyjd[i]);
		for(let j = 0;j < 4;j++)
		{
			if(now_x.gte(scs[j]))
			{
				document.getElementById('jdzs' + (i + 1)).innerHTML = zstext[j];
				document.getElementById('jdzs' + (i + 1)).style['color'] = zscolor[j];
				now_x = scs[j].mul(now_x.div(scs[j]).pow(scx[j]));
			}
		}
		let jd_x = getjdx();
		for(let j = 4;j < 8;j++)
		{
			let jd_xi = jd_x[i];
			if(jd_xi.gte(N(10).pow(scs[j])))
			{
				document.getElementById('jdzs' + (i + 1)).innerHTML = zstext[j];
				document.getElementById('jdzs' + (i + 1)).style['color'] = zscolor[j];
				jd_xi = (N(10).pow(scs[j])).mul(N(10).pow(jd_xi.log10().div(scs[j]).pow(scx[j])));
			}
		}
		if(player.boost.gte(jdunlock[i]))
		{
			document.getElementById('unlockjd' + (i + 1)).style.display = 'block';
		}
		else
		{
			document.getElementById('unlockjd' + (i + 1)).style.display = 'none';
		}
		document.getElementById('jdnum' + (i + 1)).innerHTML = notation(player.jdnum[i], 1);
		document.getElementById('jdbuy' + (i + 1)).innerHTML = notation(player.buyjd[i].add(player.permupg.includes(24) ? getalgoreffect() : 0), 0);
		document.getElementById('jdx' + (i + 1)).innerHTML = notation(jdx[i], 2);
		document.getElementById('jdcost' + (i + 1)).innerHTML = notation(jdcost[i], 0);
		if(player.data.gte(jdcost[i])) document.getElementById('jdbuybt' + (i + 1)).style['background-color'] = '#666666';
		else document.getElementById('jdbuybt' + (i + 1)).style['background-color'] = '#000000';
		
		if(player.autobuyjd[i]) document.getElementById('autobuyjds' + (i + 1)).innerHTML = '自动购买：开';
		else document.getElementById('autobuyjds' + (i + 1)).innerHTML = '自动购买：关';
		if(player.PL1upg[0]) document.getElementById('autobuyjdbt' + (i + 1)).style.display = 'block';
		else document.getElementById('autobuyjdbt' + (i + 1)).style.display = 'none';
	}
	if(player.PL1upg[7])
	{
		for(let i = 0;i < 4;i++)
		{
			if(player.sliceupg_rep[i].gte(200)) document.getElementById('slicebt' + (i + 1)).style['background-color'] = 'green';
			else document.getElementById('slicebt' + (i + 1)).style['background-color'] = 'black';
			document.getElementById('sliceupgcost' + (i + 1)).innerHTML = notation(sliceupgcost[i].pow(player.sliceupg_rep[i].add(1)), 0);
			document.getElementById('sliceupglevel' + (i + 1)).innerHTML = notation(player.sliceupg_rep[i], 0);
		}
		for(let i = 4;i < 8;i++)
		{
			if(player.sliceupg[i - 4]) document.getElementById('slicebt' + (i + 1)).style['background-color'] = 'green';
			else document.getElementById('slicebt' + (i + 1)).style['background-color'] = 'black';
			document.getElementById('sliceupgcost' + (i + 1)).innerHTML = notation(sliceupgcost[i], 0);
		}
	}
	if(player.PL2unlock)
	{
		for(let i = 0;i < 8;i++)
		{
			let zscolor = ['#ff0000', '#aa2200', '#22aa00', '#00ff00'];
			let zstext = ['一阶软上限', '二阶软上限', '三阶软上限', '四阶软上限'];
			let snx = getsnx();
			let sncost = getsncost(i);
			let scs = getsnscs();
			document.getElementById('snbuy' + (i + 1)).innerHTML = notation(player.buysn[i], 0);
			document.getElementById('sncost' + (i + 1)).innerHTML = notation(getsncost(i), 0);
			document.getElementById('snnum' + (i + 1)).innerHTML = notation(player.star_node[i], 1);
			document.getElementById('snx' + (i + 1)).innerHTML = notation(snx[i], 2);
			if(player.star.gte(sncost))
			{
				document.getElementById('snbuybt' + (i + 1)).style['background-color'] = '#666666';
			}
			else
			{
				document.getElementById('snbuybt' + (i + 1)).style['background-color'] = '#000000';
			}
			document.getElementById('snzs' + (i + 1)).innerHTML = '';
			document.getElementById('snzs' + (i + 1)).style['color'] = 'black';
			for(let j = 0;j < 4;j++)
			{
				if(snx[i].gte(scs[j]))
				{
					document.getElementById('snzs' + (i + 1)).innerHTML = zstext[j];
					document.getElementById('snzs' + (i + 1)).style['color'] = zscolor[j];
				}
			}
		}
	}
	if(player.PL2upg[2])
	{
		for(let i = 0;i < 8;i++)
		{
			let gnx = getgnx();
			let gnc = getgnc();
			if(!player.gnunlock[i]) document.getElementById('unlockgn' + (i + 1)).style.display = 'block', document.getElementById('gnbt' + (i + 1)).style.display = 'none';
			else document.getElementById('unlockgn' + (i + 1)).style.display = 'none', document.getElementById('gnbt' + (i + 1)).style.display = 'block';
			document.getElementById('gn' + (i + 1)).innerHTML = notation(player.godnode[i], 1);
			document.getElementById('gnx' + (i + 1)).innerHTML = notation(gnx[i], 2);
			document.getElementById('gnc' + (i + 1)).innerHTML = notation(gnc[i], 0);
		}
		if(player.permupg.includes(10)) document.getElementById('buymaxgn').style.display = 'block';
		else document.getElementById('buymaxgn').style.display = 'none';
	}
	document.getElementById('boostcost').innerHTML = notation(boostcost);
	if(player.data.gte(boostcost))
	{
		document.getElementById('boostbt').style['background-color'] = '#666666';
	}
	else
	{
		document.getElementById('boostbt').style['background-color'] = '#000000';
	}
	document.getElementById('boost2cost').innerHTML = notation(boost2cost);
	if(player.boost.gte(boost2cost))
	{
		document.getElementById('boost2bt').style['background-color'] = '#666666';
	}
	else
	{
		document.getElementById('boost2bt').style['background-color'] = '#000000';
	}
	document.getElementById('boost3cost').innerHTML = notation(boost3cost);
	if(player.PL2tms.gte(25)) document.getElementById('boost3bt').style.display = 'block';
	else document.getElementById('boost3bt').style.display = 'none';
	if(player.boost2.gte(boost3cost))
	{
		document.getElementById('boost3bt').style['background-color'] = '#666666';
	}
	else
	{
		document.getElementById('boost3bt').style['background-color'] = '#000000';
	}
	for(let i = 0;i < 8;i++)
	{
		if(player.PL1upg[i]) document.getElementById('PL1ug' + (i + 1)).style['background-color'] = 'blue';
		else if(player.PL1info.gte(PL1upgcost[i])) document.getElementById('PL1ug' + (i + 1)).style['background-color'] = '#666666';
		else document.getElementById('PL1ug' + (i + 1)).style['background-color'] = '#000000';
	}
	document.getElementById('PL1ug3effect').innerHTML = notation(player.boost.add(1).pow(1.5), 2);
	for(let i = 0;i < 5;i++)
	{
		let cap = [N(100), N(100), N(30), N(30)];
		if(i != 4 && player.origin_upg[i].gte(cap[i])) document.getElementById('originupg' + (i + 1)).style['background-color'] = 'blue';
		else if(player.origin_data.gte(getoriginupgcost(i))) document.getElementById('originupg' + (i + 1)).style['background-color'] = '#666666';
		else document.getElementById('originupg' + (i + 1)).style['background-color'] = 'black';
		document.getElementById('originupgcost' + (i + 1)).innerHTML = notation(getoriginupgcost(i), 0);
		document.getElementById('originupglevel' + (i + 1)).innerHTML = notation(player.origin_upg[i], 1);
	}
	if(player.openentropy) document.getElementById('openentropy').style['background-color'] = 'red';
	else document.getElementById('openentropy').style['background-color'] = 'black';
	for(let i = 0;i < 4;i++)
	{
		document.getElementById('ent' + i).innerHTML = notation(player.entropy[i], 3);
		document.getElementById('entropyeffect' + i).innerHTML = getentropyeffect(i);
	}
	for(let i = 0;i < 4;i++)
	{
		if(player.PL2upg[i]) document.getElementById('PL2upg' + (i + 1)).style['background-color'] = 'purple';
		else if(player.PL2info.gte(PL2upgcost[i])) document.getElementById('PL2upg' + (i + 1)).style['background-color'] = '#666666';
		else document.getElementById('PL2upg' + (i + 1)).style['background-color'] = '#000000';
	}
	for(let i = 0;i < 100;i++)
	{
		if(document.getElementById('ach' + i))
		{
			if(player.ach.includes(i)) document.getElementById('ach' + i).style['background-color'] = 'green';
			else document.getElementById('ach' + i).style['background-color'] = 'darkred';
		}
	}
	player.chalcomp_temp = player.chalcomp;
	if(!player.permupg.includes(24) || !player.hidenode) document.getElementById('normal_node').style.display = 'block';
	else if(player.permupg.includes(24) && player.hidenode) document.getElementById('normal_node').style.display = 'none';
	if(player.permupg.includes(24))
	{
		document.getElementById('algor').style.display = 'block';
		document.getElementById('algornum').innerHTML = notation(player.algor, 0)
		+ (player.permupg.includes(57) ? ' + ' + notation(player.algorrebuy[0].mul(0.25)) : '');
		document.getElementById('algordata').innerHTML = notation(player.algordata, 0);
		let adg = getalgordatagen();
		if((player.exchal[1].gte(1) && adg.gte(getalgordataspillstart())) || (!player.exchal[1].gte(1) && player.algordata.gte(getalgordataspillstart())))
		{
			document.getElementById('algordataspill').style.display = 'block';
			document.getElementById('algordataspill').innerHTML = '在达到 ' + notation(getalgordataspillstart()) + ' 算法数据后，算法数据将溢出！获取速度变为' + notation(getalgordataspillroot(adg)) + '次方根';
		}
		else
		{
			document.getElementById('algordataspill').style.display = 'none';
		}
		document.getElementById('algoreffect').innerHTML = notation(getalgoreffect());
		document.getElementById('algorcost').innerHTML = notation(getalgorcost());
		if(player.PL1info.gte(getalgorcost()))
		{
			document.getElementById('algorbt').style['background-color'] = '#666666';
		}
		else
		{
			document.getElementById('algorbt').style['background-color'] = 'black';
		}
		if(player.permupg.includes(29))
		{
			document.getElementById('algorrebuy1bt').style.display = 'block';
			document.getElementById('algorrebuy2bt').style.display = 'block';
			document.getElementById('algorrebuy1cost').innerHTML = notation(getalgorrebuycost(0), 0);
			document.getElementById('algorrebuy2cost').innerHTML = notation(getalgorrebuycost(1), 0);
			document.getElementById('algorrebuy1effect').innerHTML = notation(N(1).add(player.algorrebuy[0].mul(0.05)));
			document.getElementById('algorrebuy2effect').innerHTML = notation(player.algorrebuy[1].mul(0.02));
			document.getElementById('algorrebuy1').innerHTML = notation(player.algorrebuy[0], 0)
			+ (player.permupg.includes(57) ? ' + ' + notation(player.algorrebuy[1].mul(0.5)) : '');
			document.getElementById('algorrebuy2').innerHTML = notation(player.algorrebuy[1], 0);
			if(player.PL1info.gte(getalgorrebuycost(0)))
			{
				document.getElementById('algorrebuy1bt').style['background-color'] = '#666666';
			}
			else
			{
				document.getElementById('algorrebuy1bt').style['background-color'] = 'black';
			}
			if(player.PL1info.gte(getalgorrebuycost(1)))
			{
				document.getElementById('algorrebuy2bt').style['background-color'] = '#666666';
			}
			else
			{
				document.getElementById('algorrebuy2bt').style['background-color'] = 'black';
			}
			if(player.algorrebuy[0].gte(50)) document.getElementById('algorrebuy1scal').innerHTML = '超级折算|';
			else document.getElementById('algorrebuy1scal').innerHTML = '';
			if(player.algorrebuy[1].gte(25)) document.getElementById('algorrebuy2scal').innerHTML = '超级折算|';
			else document.getElementById('algorrebuy2scal').innerHTML = '';
		}
		else
		{
			document.getElementById('algorrebuy1bt').style.display = 'none';
			document.getElementById('algorrebuy2bt').style.display = 'none';
		}
	}
	else
	{
		document.getElementById('algor').style.display = 'none';
	}
	
	if(player.permupg.includes(43))
	{
		document.getElementById('chaosshard').innerHTML = notation(player.chaosshard, 0);
		document.getElementById('chaosmass').innerHTML = notation(player.chaosmass, 0);
		document.getElementById('chaosmasseffect').innerHTML = getchaosmasseffect();
		let lim = getreactparalim();
		for(let i = 0;i < 4;i++)
		{
			document.getElementById('reactpara' + i).innerHTML = notation(player.reactpara[i]);
			document.getElementById('reactparalim' + i).innerHTML = notation(lim[i]);
			document.getElementById('reactbar' + i).style.width = 100 - (player.reactpara[i].div(lim[i]).mul(100)) + '%';
		}
		document.getElementById('reactgoal').innerHTML = '混沌碎片';
	}
	
	if(player.permupg.includes(48))
	{
		document.getElementById('startelements').innerHTML = '开始/结束压缩元素' + (player.elements + 1);
		document.getElementById('elementseffect').innerHTML = getelementseffect();
		if(player.openelements) document.getElementById('startelements').style['background-color'] = 'red';
		else document.getElementById('startelements').style['background-color'] = 'black';
		if(player.openelements) document.getElementById('reactgoal').innerHTML = '元素' + (player.elements + 1);
	}
	
	if(player.permupg.includes(39))
	{
		document.getElementById('autochaos').style.display = 'block';
		if(player.autochaos) document.getElementById('autochaosbutton').innerHTML = '更改自动混沌设置<br>当前状态：开启<br>当前目标：' + notation(player.autochaosgoal);
		else document.getElementById('autochaosbutton').innerHTML = '更改自动混沌设置<br>当前状态：关闭';
	}
	else
	{
		document.getElementById('autochaos').style.display = 'none';	
	}
	
	if(player.permupg.includes(55))
	{
		document.getElementById('PL4tms').innerHTML = notation(player.PL4tms, 0);
		document.getElementById('singnow').innerHTML = notation(player.sing, 0);
		document.getElementById('singcap').innerHTML = notation(getsingcap());
		if(player.opensupp) document.getElementById('blackhole').innerHTML = '已禁用';
		else document.getElementById('blackhole').innerHTML = notation(player.blackhole, 2);
		document.getElementById('bheffect').innerHTML = getbheffect();
		if(player.opensupp) document.getElementById('bhbutton').style['border-color'] = 'red';
		else if(player.openbh) document.getElementById('bhbutton').style['border-color'] = 'gold';
		else document.getElementById('bhbutton').style['border-color'] = 'white';
	}
	
	if(player.exchal[5].gte(2))
	{
		document.getElementById('colldata').innerHTML = notation(player.colldata, 0);
		document.getElementById('colleffect').innerHTML = getcolleffect();
		document.getElementById('suppdata').innerHTML = notation(player.suppdata, 0);
		if(player.opensupp)
		{
			document.getElementById('suppweaken').style.display = 'none';
			document.getElementById('suppget').innerHTML = '+' + notation(getcollget()) + ' 压制数据';
			document.getElementById('suppget').style.display = 'block';
			document.getElementById('opensupp').style['box-shadow'] = '0px 0px 30px silver';
		}
		else 
		{
			document.getElementById('suppweaken').style.display = 'block';
			document.getElementById('suppget').style.display = 'none';
			document.getElementById('opensupp').style['box-shadow'] = '0px 0px 10px silver';
		}
	}
}

init();

var playerTemp = player;

data_input();

let playerLen = Object.keys(player).length;

const bKeys = Object.keys(playerTemp);

bKeys.forEach(key =>
{
	if (!player.hasOwnProperty(key))
	{
	  player[key] = playerTemp[key];
	}
});

if('mag' in player.entropy) player.entropy = [N(0), N(0), N(0), N(0)];
for(let i = 1;i < exchal.length;i++)
{
	if(!player.exchal[i]) player.exchal[i] = N(0);
}

dis_permupgui();
dis_chalui();
dis_exchalui();

//滚动新闻
var news = {
	0: {text() {return '这是一条不滚动新闻';}},
	1: {text() {return notation(player.data) + '数据？弱爆了';}},
	2: {text() {return '新闻为什么不从左往右走？';}},
	3: {text() {return '原神，启动';}},
	4: {text() {return '史上平衡最差的增量游戏是什么？IMR算什么，IDR才是真神';}},
	5: {text() {return '|0````1````2````2.5``2.9``3.2``3.5``|这是一把被软上限限制的尺子';}},
	6: {text() {return '|0````1````2````2````2````2````2````|这是一把被硬上限限制的尺子';}},
	7: {text() {return '|0````1````1.8``2.3``2.6``2.8``3````|这是一把被渐进限限制的尺子';}},
	8: {text() {return '你难以想象本游戏制造了多少软上限';}},
	9: {text() {return '我被chaos大重置chaos了';}},
	10: {text() {return '本游戏使用HTML/Javascript/CSS编写';}},
	11: {text() {return '美国有硅谷，中国有洛谷';}},
	12: {text() {return '我们为我们的产品质量感到自豪……';}},
	13: {text() {return '本游戏共有七个声望层：世界、宇宙、混沌、虚空、天理、现实、超越';}},
	14: {text() {return '本游戏每个声望层都没有反物质维度的现实层级大';}},
	15: {text() {return '你没有' + notation(player.data) + '数据。';}},
	16: {text() {return '新闻机构瘫痪了';}},
	17: {text() {return '你不知道你在看的新闻都是假新闻吗？';}},
	18: {text() {return '本游戏共有' + newsl + '个滚动新闻';}},
	19: {text() {return '说好了5小时后更新，可是都好几天了！';}},
	20: {text() {return '当你看这条新闻时，你就看过这条新闻了';}},
	21: {text() {return '增量的反义词是减魖';}},
	22: {text() {return '游戏有bug怎么办？只要我们把代码删完，就没有bug了。';}},
	//{text() {return '';}},
};
let newsl = 23;
let wid = window.innerWidth;
let nownews = Math.floor(Math.random() * newsl);
let newsleft = 100;
document.getElementById('newstext').left = '100%';
document.getElementById('newstext').innerHTML = news[nownews].text();
function newsscroll()
{
	newsleft -= 0.2;
	let nowpx = newsleft / 100 * wid;
	if(nowpx < 0 - news[nownews].text().length * 16)
	{
		nownews = Math.floor(Math.random() * newsl);
		document.getElementById('newstext').innerHTML = news[nownews].text();
		newsleft = 100;
	}
	document.getElementById('newstext').style.left = newsleft + '%';
}

setInterval(produce, 100);
setInterval(GUI, 40);
setInterval(data_print, 400);
setInterval(build_permupgui, 100);
setInterval(build_chalui, 100);
setInterval(build_exchalui, 100);
setInterval(newsscroll, 40);
		</script>
	</body>
</html>
