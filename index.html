<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.25, maximum-scale=4.0, user-scalable=yes" />
        <title>数据增量重制版</title>
        <link href="style.css" rel="stylesheet" type="text/css" />
		
		<style>
		.slicetext {
		  animation: corrupted_text 0.5s cubic-bezier(0.37, 0, 0.63, 1) infinite;
		  font-size: 24px;
		}

		@keyframes corrupted_text {

		  0%,
		  100% {
			text-shadow: -7px -7px 7px #5555ff, 4px 4px 4px #ff5555;
			color: white;
		  }

		  25% {
			text-shadow: -7px 7px 7px #5555ff, 4px -4px 4px #ff5555;
			color: #eeddff;
		  }

		  50% {
			text-shadow: 7px 7px 7px #5555ff, -4px -4px 4px #ff5555;
			color: white;
		  }

		  75% {
			text-shadow: 7px -7px 7px #5555ff, -4px 4px 4px #ff5555;
			color: #ffddee;
		  }
		}
		.ftsz1 {
			margin: 4px 2px;
			font-size: 12px;
			color: #ffffff;
		}

		.ftsz2 {
			margin: 4px 2px;
			font-size: 16px;
			color: #ffffff;
		}

		.ftsz3 {
			margin: 4px 2px;
			font-size: 24px;
			color: #ffffff;
		}

		.ftsz4 {
			margin: 4px 2px;
			font-size: 32px;
			color: #ffffff;
		}

		.ftsz5 {
			margin: 4px 2px;
			font-size: 48px;
			color: #ffffff;
		}

		.ftsz6 {
			margin: 4px 2px;
			font-size: 64px;
			color: #ffffff;
		}
		
		.pagebt {
			background-color: black;
			height: 50px;
			width: 120px;
			border: 4px solid white;
			color: white;
			padding: 10px;
			text-align: center;
			font-size: 16px;
		}
		
		.spagebt {
			background-color: black;
			height: 30px;
			width: 80px;
			border: 2px solid white;
			color: white;
			padding: 5px;
			text-align: center;
			font-size: 9px;
		}
		
		.buymaxjd {
			background-color: black;
			height: 30px;
			width: 200px;
			border: 2px solid white;
			color: white;
			padding: 4px;
			text-align: center;
			font-size: 12px;
			float: center;
		}
		
		.buyjd {
			background-color: black;
			height: 30px;
			width: 200px;
			border: 2px solid white;
			color: white;
			padding: 4px;
			text-align: center;
			font-size: 12px;
			float: right;
		}
		
		.autobuybt {
			background-color: black;
			height: 30px;
			width: 100px;
			border: 2px solid white;
			color: white;
			padding: 4px;
			text-align: center;
			font-size: 12px;
			float: right;
		}
		
		.boostbt {
			background-color: black;
			height: 150px;
			width: 200px;
			border: 3px solid white;
			color: white;
			padding: 10px;
			text-align: center;
			font-size: 14px;
		}
		
		.autoboost {
			background-color: black;
			height: 30px;
			width: 200px;
			border: 2px solid white;
			color: white;
			padding: 4px;
			text-align: center;
			font-size: 12px;
		}
		
		.PL1bt {
			background-color: blue;
			height: 150px;
			width: 200px;
			border: 3px solid white;
			color: white;
			padding: 10px;
			text-align: center;
			font-size: 14px;
			float: center;
		}
		
		.slicebt {
			background-color: black;
			height: 150px;
			width: 200px;
			border: 5px solid white;
			color: white;
			padding: 10px;
			text-align: center;
			font-size: 14px;
			float: center;
		}
		</style>
	</head>

	<body style="background-color: #000000; font-family: MonospaceTypewriter, monospace ">
		<script type="text/javascript" src="break_eternity.js"></script>
		
		<p align="center" class="ftsz3"><span>你有</span><span id="data"></span><span>数据</span></p>
		
		<p align="center">
			<button class="pagebt" onclick="chpage(1)">传输节点</button>
			<button class="pagebt" onclick="chpage(2)">层级</button>
			<button class="pagebt" onclick="chpage(3)">统计</button>
			<button class="pagebt" onclick="chpage(4)" style="background-color: blue;" id="PL1pbt">世界</button>
		</p>
		
		<div id="page1">
			<table align="center">
				<td>
					<button class="autoboost" id="autoboostbt" onclick="chautoboost()"><span id="autoboostbts"></span></button>
				</td>
				<td>
					<button class="autoboost" id="autoboost2bt" onclick="chautoboost2()"><span id="autoboost2bts"></span></button>
				</td>
				<tr>
				<td>
					<button class="boostbt" id="boostbt" onclick="buyboost()">跃迁<span id="boostnum"></span>
					<br/>重置数据和传输节点，但提升跃迁。<span id="boosteffect"></span><br/>成本：<span id="boostcost"></span>数据</button>
				</td>
				<td>
					<button class="boostbt" id="boost2bt" onclick="buyboost2()">二重跃迁<span id="boost2num"></span>
					<br/>重置跃迁，但提升二重跃迁。<span id="boost2effect"></span><br/>成本：<span id="boost2cost"></span>跃迁</button>
				</td>
			</table>
			
			<p class="ftsz3">
				<button class="buymaxjd" onclick="allmaxjd()">全部最大化</button>
			</p>
			
			<p class="ftsz3" id="unlockjd1">
				<span id="jdzs1">折算</span><span>1号传输节点 # 等级 </span><span id="jdbuy1"></span><span> # </span><span id="jdnum1"></span><span> × </span><span id="jdx1"></span>
				<button class="autobuybt" onclick="chautobuyjd(1)" id="autobuyjdbt1"><span id="autobuyjds1"></span></button>
				<button class="buyjd" onclick="buyjd(1)" id="jdbuybt1">花费<span id="jdcost1"></span>数据升级</button>
			</p>
			<p class="ftsz3" id="unlockjd2">
				<span id="jdzs2">折算</span><span>2号传输节点 # 等级 </span><span id="jdbuy2"></span><span> # </span><span id="jdnum2"></span><span> × </span><span id="jdx2"></span>
				<button class="autobuybt" onclick="chautobuyjd(2)" id="autobuyjdbt2"><span id="autobuyjds2"></span></button>
				<button class="buyjd" onclick="buyjd(2)" id="jdbuybt2">花费<span id="jdcost2"></span>数据升级</button>
			</p>
			<p class="ftsz3" id="unlockjd3">
				<span id="jdzs3">折算</span><span>3号传输节点 # 等级 </span><span id="jdbuy3"></span><span> # </span><span id="jdnum3"></span><span> × </span><span id="jdx3"></span>
				<button class="autobuybt" onclick="chautobuyjd(3)" id="autobuyjdbt3"><span id="autobuyjds3"></span></button>
				<button class="buyjd" onclick="buyjd(3)" id="jdbuybt3">花费<span id="jdcost3"></span>数据升级</button>
			</p>
			<p class="ftsz3" id="unlockjd4">
				<span id="jdzs4">折算</span><span>4号传输节点 # 等级 </span><span id="jdbuy4"></span><span> # </span><span id="jdnum4"></span><span> × </span><span id="jdx4"></span>
				<button class="autobuybt" onclick="chautobuyjd(4)" id="autobuyjdbt4"><span id="autobuyjds4"></span></button>
				<button class="buyjd" onclick="buyjd(4)" id="jdbuybt4">花费<span id="jdcost4"></span>数据升级</button>
			</p>
			<p class="ftsz3" id="unlockjd5">
				<span id="jdzs5">折算</span><span>5号传输节点 # 等级 </span><span id="jdbuy5"></span><span> # </span><span id="jdnum5"></span><span> × </span><span id="jdx5"></span>
				<button class="autobuybt" onclick="chautobuyjd(5)" id="autobuyjdbt5"><span id="autobuyjds5"></span></button>
				<button class="buyjd" onclick="buyjd(5)" id="jdbuybt5">花费<span id="jdcost5"></span>数据升级</button>
			</p>
			<p class="ftsz3" id="unlockjd6">
				<span id="jdzs6">折算</span><span>6号传输节点 # 等级 </span><span id="jdbuy6"></span><span> # </span><span id="jdnum6"></span><span> × </span><span id="jdx6"></span>
				<button class="autobuybt" onclick="chautobuyjd(6)" id="autobuyjdbt6"><span id="autobuyjds6"></span></button>
				<button class="buyjd" onclick="buyjd(6)" id="jdbuybt6">花费<span id="jdcost6"></span>数据升级</button>
			</p>
			<p class="ftsz3" id="unlockjd7">
				<span id="jdzs7">折算</span><span>7号传输节点 # 等级 </span><span id="jdbuy7"></span><span> # </span><span id="jdnum7"></span><span> × </span><span id="jdx7"></span>
				<button class="autobuybt" onclick="chautobuyjd(7)" id="autobuyjdbt7"><span id="autobuyjds7"></span></button>
				<button class="buyjd" onclick="buyjd(7)" id="jdbuybt7">花费<span id="jdcost7"></span>数据升级</button>
			</p>
			<p class="ftsz3" id="unlockjd8">
				<span id="jdzs8">折算</span><span>8号传输节点 # 等级 </span><span id="jdbuy8"></span><span> # </span><span id="jdnum8"></span><span> × </span><span id="jdx8"></span>
				<button class="autobuybt" onclick="chautobuyjd(8)" id="autobuyjdbt8"><span id="autobuyjds8"></span></button>
				<button class="buyjd" onclick="buyjd(8)" id="jdbuybt8">花费<span id="jdcost8"></span>数据升级</button>
			</p>
		</div>
		<div id="page2">
			<p align="center">
				<span class="ftsz3">你拥有 </span><span class="ftsz4" id="PL1info"></span><span class="ftsz3"> 世界信息</span>
				<br/>
				<button class="PL1bt" onclick="buyPL1()">世界重置：重置之前的所有内容，但获得世界信息。<br/>+ <span id="PL1infoget"></span> 世界信息。<br/>需要e80数据</button>
			</p>
		</div>
		<div id="page3">
			<p align="center">
				<button class="spagebt" onclick="chspage(1)">节点软上限</button>
				<button class="spagebt" onclick="chspage(2)">跃迁</button>
				<button class="spagebt" onclick="chspage(3)">二重跃迁</button>
			</p>
			<div id="spage1_3" align="center">
				<p class="ftsz2">
					<span>一阶软上限：开始于购买倍数 × </span><span id="jdscs1"></span><span> 指数弱化 × <span id="jdscx1"></span><br/>
					<span>二阶软上限：开始于购买倍数 × </span><span id="jdscs2"></span><span> 指数弱化 × <span id="jdscx2"></span><br/>
					<span>三阶软上限：开始于购买倍数 × </span><span id="jdscs3"></span><span> 指数弱化 × <span id="jdscx3"></span><br/>
					<span>四阶软上限：开始于购买倍数 × </span><span id="jdscs4"></span><span> 指数弱化 × <span id="jdscx4"></span><br/>
					<span>五阶软上限：开始于倍数 × e</span><span id="jdscs5"></span><span> 双指数弱化 × <span id="jdscx5"></span><br/>
					<span>六阶软上限：开始于倍数 × e</span><span id="jdscs6"></span><span> 双指数弱化 × <span id="jdscx6"></span><br/>
					<span>七阶软上限：开始于倍数 × e</span><span id="jdscs7"></span><span> 双指数弱化 × <span id="jdscx7"></span><br/>
					<span>八阶软上限：开始于倍数 × e</span><span id="jdscs8"></span><span> 双指数弱化 × <span id="jdscx8"></span><br/>
				</p>
			</div>
			<div id="spage2_3" align="center"><span class="ftsz2" id="boosteffectlist"></span></div>
			<div id="spage3_3" align="center"><span class="ftsz2" id="boost2effectlist"></span></div>
		</div>
		<div id="page4">
			<p align="center">
				<button class="spagebt" onclick="chspage(1)">世界升级</button>
				<button class="spagebt" onclick="chspage(2)" id="spagebt2_4">位面切片</button>
				<button class="spagebt" onclick="chspage(3)">铭刻</button>
			</p>
			<div id="spage1_4" align="center">
				<table align="center">
					<td>
						<button class="PL1bt" onclick="buyPL1ug(1)" id="PL1ug1">
							升级节点不消耗资源。你可以自动升级节点。
							<br/>
							成本：1世界信息
						</button>
					</td>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(2)" id="PL1ug2">
							节点的一阶软上限弱化40%。
							<br/>
							成本：2世界信息
						</button>
					</td>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(3)" id="PL1ug3">
							跃迁增幅节点产能，当前：×<span id="PL1ug3effect"></span>
							<br/>
							成本：6世界信息
						</button>
					</td>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(4)" id="PL1ug4">
							10个及以后跃迁的折算弱化50%。
							<br/>
							成本：40世界信息
						</button>
					</td>
					<tr>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(5)" id="PL1ug5">
							跃迁不重置任何东西。解锁自动跃迁。
							<br/>
							成本：2500世界信息
						</button>
					</td>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(6)" id="PL1ug6">
							节点一阶软上限弱化50%、二至三阶软上限弱化40%。
							<br/>
							成本：10000世界信息
						</button>
					</td>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(7)" id="PL1ug7">
							节点一至二阶软上限延迟1.5次方出现。
							<br/>
							成本：30000世界信息
						</button>
					</td>
					<td>
						<button class="PL1bt" onclick="buyPL1ug(8)" id="PL1ug8">
							世界信息公式变得更好。解锁位面切片。
							<br/>
							成本：50000世界信息
						</button>
					</td>
				</table>
			</div>
			<div id="spage2_4" align="center">
				<span class="slicetext">你拥有</span><span class="slicetext" id="slice"></span><span class="slicetext">位面切片</span>
				<br/>
				<span class="slicetext">它们使传输节点产能变为</span><span class="slicetext" id="slice_effect"></span><span class="slicetext">倍</span>
				<br/>
				<span class="ftsz2">位面切片升级不消耗位面切片。世界重置不会重置位面切片。</span>
				<table>
					<td>
						<button class="slicebt" id="slicebt1" onclick="buysliceupg(1)">
							位面切片获取量×(1.5^等级)<br/>
							等级：<span id="sliceupglevel1"></span><br/>
							需要：<span class="slicetext" id="sliceupgcost1"></span>位面切片
						</button>
					</td>
					<td>
						<button class="slicebt" id="slicebt2" onclick="buysliceupg(2)">
							位面切片效果指数+(0.05×等级)<br/>
							等级：<span id="sliceupglevel2"></span><br/>
							需要：<span class="slicetext" id="sliceupgcost2"></span>位面切片
						</button>
					</td>
					<td>
						<button class="slicebt" id="slicebt3" onclick="buysliceupg(3)">
							二重跃迁成本-(等级)<br/>
							等级：<span id="sliceupglevel3"></span><br/>
							需要：<span class="slicetext" id="sliceupgcost3"></span>位面切片
						</button>
					</td>
					<td>
						<button class="slicebt" id="slicebt4" onclick="buysliceupg(4)">
							传输节点产能^(1+0.005×等级)<br/>
							等级：<span id="sliceupglevel4"></span><br/>
							需要：<span class="slicetext" id="sliceupgcost4"></span>位面切片
						</button>
					</td>
					<tr>
					<td>
						<button class="slicebt" id="slicebt5" onclick="buysliceupg(5)">解锁自动二重跃迁，二重跃迁不重置任何东西<br/>需要：<span class="slicetext" id="sliceupgcost5"></span>位面切片</button>
					</td>
					<td>
						<button class="slicebt" id="slicebt6" onclick="buysliceupg(6)">世界信息公式变得更好<br/>需要：<span class="slicetext" id="sliceupgcost6"></span>位面切片</button>
					</td>
					<td>
						<button class="slicebt" id="slicebt7" onclick="buysliceupg(7)">节点一至三重软上限延迟1.5次方出现<br/>需要：<span class="slicetext" id="sliceupgcost7"></span>位面切片</button>
					</td>
					<td>
						<button class="slicebt" id="slicebt8" onclick="buysliceupg(8)">解锁宇宙重置<br/>需要：<span class="slicetext" id="sliceupgcost8"></span>位面切片</button>
					</td>
				</table>
			</div>
			<div id="spage3_4" align="center">
				
			</div>
		</div>
		
		<script>
			var page = 1;
			var subpage = 1;
			var sbc = [255, 255, 255];
			var sbct = [-3, -2, -1];
			
			function cnw(type)
			{
				cnw_now = type;
			}
			
			var nowpage = "page101";
			var subpage = "sp1";
			var get_PL1info = new Decimal(0);
			var player;
			
			function N(num)
			{
				return new Decimal(num);
			}
			
			function init()
			{
				player =
				{
					data: N(10),
					buyjd: [N(0), N(0), N(0), N(0), N(0), N(0), N(0), N(0)],
					jdnum: [N(0), N(0), N(0), N(0), N(0), N(0), N(0), N(0)],
					boost: N(0),
					boost2: N(0),
					PL1info: N(0),
					PL1unlock: false,
					PL1upg: [false, false, false, false, false, false, false, false],
					autobuyjd: [false, false, false, false, false, false, false, false],
					autoboost: false,
					autoboost2: false,
					slice: N(0),
					sliceupg_rep: [N(0), N(0), N(0), N(0)],
					sliceupg: [false, false, false, false],
					ins: [N(0), N(0), N(0), N(0)],
					insupg: [N(0), N(0), N(0), N(0), N(0), N(0)],
				};
			}
			
			var PL1upgcost = [N(1), N(2), N(6), N(40), N(2500), N(10000), N(30000), N(50000)];
			var sliceupgcost = [N(5), N(6), N(7), N(8), N(300), N(15000), N(1e10), N(1e300)];
			
			function chpage(p)
			{
				page = p;
				subpage = 1;
			}
			
			function chspage(p)
			{
				subpage = p;
			}
			
			function hard_reset()
			{
				init();
				data_print();
			}
			
			function notation(number)
			{
				var string = "";
				if (number.sign == -1) {
					string = string + "-";
					number.sign = 1;
				}
				let power1 = Decimal.floor(Decimal.log10(number));
				let base1 = number.div(Decimal.pow(10, power1));
				let power2 = Decimal.floor(Decimal.log10(power1));
				let base2 = power1.div(Decimal.pow(10, power2));
				let power3 = Decimal.floor(Decimal.log10(power2));
				let base3 = power2.div(Decimal.pow(10, power3));
				if (number == 0) return "0.000";
				if (power1 < -3) return base1.mul(10).toFixed(3) + "e" + power1;
				if (power1 < -2) return number.toFixed(6);
				if (power1 < -1) return number.toFixed(5);
				if (power1 < 0) return number.toFixed(4);
				if (power1 < 1) return number.toFixed(3);
				if (power1 < 2) return number.toFixed(2);
				if (power1 < 3) return number.toFixed(1);
				if (power1 < 6) return number.toFixed(0);
				if (power1 < 100000000) return base1.toFixed(3) + "e" + power1;
				if (power2 < 100000000) return "e" + base2.toFixed(3) + "e" + power2;
				if (power3 < 100000000) return "ee" + base3.toFixed(3) + "e" + power3;
				return number.mag.toFixed(0) + "f" + number.layer.toFixed(0);
			}
			
			function transformToDecimal(object)
			{
				for (i in object) {
					if (typeof (object[i]) == "string" && !isNaN(new Decimal(object[i]).mag)) object[i] = new Decimal(object[i]);
					if (typeof (object[i]) == "object" && !isNaN(new Decimal(object[i]).mag)) transformToDecimal(object[i]);
					if (new Decimal(object[i]).gte("F1e308")) object[i] = new Decimal(1);
				}
			}
			
			function data_print()
			{
				localStorage.QWERTYUIOP2 = btoa(JSON.stringify(player));
			}
			
			function data_input()
			{
				if (!localStorage.QWERTYUIOP2) return;
				player = JSON.parse(atob(localStorage.QWERTYUIOP2));
				transformToDecimal(player);
			}
			
			function getjdscs(i)
			{
				let base = [N(1024), N(1e10), N(1e50), N('e400'), N(1500), N(60000), N(1e6), N(1e10)];
				if(player.boost.gte(55)) base[2] = base[2].pow(1.5);
				if(player.PL1upg[6]) for(let j = 0;j < 2;j++) base[j] = base[j].pow(1.5);
				if(player.sliceupg[2]) for(let j = 0;j < 3;j++) base[j] = base[j].pow(1.5);
				return base;
			}
			
			function getjdscx(i)
			{
				let base = [N(1), N(4), N(99), N(999), N(1), N(39), N(999), N(999999)];
				if(player.boost.gte(15)) base[0] = base[0].mul(0.75);
				if(player.boost.gte(20)) base[0] = base[0].mul(0.4);
				if(player.boost.gte(21)) base[1] = base[1].mul(N(1).div(player.boost.add(1).root(15)));
				if(player.boost2.gte(2)) base[0] = base[0].mul(N(1).div(player.boost.add(1).root(5)));
				if(player.PL1upg[1]) base[0] = base[0].mul(0.6);
				if(player.PL1upg[5]) base[0] = base[0].mul(0.5);
				if(player.PL1upg[5]) base[1] = base[1].mul(0.6);
				if(player.PL1upg[5]) base[2] = base[2].mul(0.6);
				for(let i = 0;i < 8;i++) base[i] = N(1).div(base[i].add(1));
				return base;
			}
			
			function getjdprice()
			{
				let base = [N(10), N(1000), N(1e5), N(1e7), N(1e9), N(1e11), N(1e13), N(1e15)];
				let basex = [N(10), N(100), N(1000), N(1e4), N(1e5), N(1e6), N(1e7), N(1e8)];
				let jdprice = base;
				for(let i = 0;i < 8;i++) jdprice[i] = jdprice[i].mul(basex[i].pow(player.buyjd[i]));
				return jdprice;
			}
			
			function getjdx()
			{
				let base = [N(1), N(1), N(1), N(1), N(1), N(1), N(1), N(1)];
				for(let i = 0;i < 8;i++)
				{
					let scs = getjdscs(i);
					let scx = getjdscx(i);
					base[i] = base[i].mul(N(2).pow(player.buyjd[i]));
					for(let j = 0;j < 4;j++)
					{
						if(base[i].gte(scs[j]))
						{
							base[i] = scs[j].mul(base[i].div(scs[j]).pow(scx[j]));
						}
					}
					//mult
					if(player.boost2.gte(1)) base[i] = base[i].mul(3);
					if(player.boost2.gte(3)) base[i] = base[i].mul(player.boost2.add(1).mul(1.25).pow(3.5));
					if(player.boost2.gte(12)) base[i] = base[i].mul(player.PL1info.add(1).mul(0.5).pow(0.25));
					if(player.boost.gte(9) && !player.boost.gte(52)) base[i] = base[i].mul(player.boost);
					if(player.boost.gte(52)) base[i] = base[i].mul(player.boost.pow(2));
					if(player.PL1upg[2]) base[i] = base[i].mul(player.boost.add(1).pow(1.5));
					if(player.PL1upg[7]) base[i] = base[i].mul(getsliceeffect());
					//pow
					if(player.boost.gte(65)) base[i] = base[i].pow(N(1).add(player.boost.root(10).div(15)));
					if(player.PL1upg[7]) base[i] = base[i].pow(N(1).add(player.sliceupg_rep[0].mul(0.005)));
					for(let j = 4;j < 8;j++)
					{
						if(base[i].gte(N(10).pow(scs[j])))
						{
							base[i] = (N(10).pow(scs[j])).mul(N(10).pow(base[i].log10().div(scs[j]).pow(scx[j])));
						}
					}
				}
				return base;
			}
			
			function buyjd(num)
			{
				num = num - 1;
				let costlist = getjdprice();
				let cost = costlist[num];
				if(player.data.gte(cost))
				{
					if(!player.PL1upg[0]) player.data = player.data.sub(cost);
					player.buyjd[num] = player.buyjd[num].add(1);
					player.jdnum[num] = player.jdnum[num].add(10);
				}
			}
			
			function buymaxjd(num)
			{
				num = num - 1;
				let base = [N(10), N(1000), N(1e5), N(1e7), N(1e9), N(1e11), N(1e13), N(1e15)];
				let basex = [N(10), N(100), N(1000), N(1e4), N(1e5), N(1e6), N(1e7), N(1e8)];
				let cost = getjdprice();
				if(player.data.gte(cost[num]))
				{
					let ans = player.data.div(base[num]).log(basex[num]).floor().add(1);
					if(!player.PL1upg[0]) player.data = player.data.sub(cost[num]);
					player.jdnum[num] = player.jdnum[num].add(ans.sub(player.buyjd[num]).mul(10));
					player.buyjd[num] = ans;
				}
			}
			
			function chautobuyjd(num)
			{
				num = num - 1;
				player.autobuyjd[num] = !player.autobuyjd[num];
			}
			
			function allmaxjd()
			{
				for(let i = 0;i < 8;i++) buymaxjd(i + 1);
			}
			
			function getboostzs1x()
			{
				let base = N(1);
				if(player.boost.gte(16)) base = base.mul(0.5);
				if(player.boost2.gte(5)) base = base.mul(0.5);
				if(player.boost2.gte(11)) base = base.mul(0.9);
				if(player.PL1upg[3]) base = base.mul(0.5);
				base = base.add(1);
				return base;
			}
			
			function getboostcost()
			{
				let base = N(10).pow(player.boost);
				if(player.boost.gte(10))
				{
					let zsx = getboostzs1x();
					base = N(10).pow(10).mul(N(10).pow(N(zsx).pow(player.boost.sub(10))));
				}
				return base;
			}
			
			function getboost2cost()
			{
				let base = player.boost2.mul(4).add(16);
				if(player.PL1upg[7]) base = base.sub(player.sliceupg_rep[2]);
				return base;
			}
			
			var boosteffectlist = [N(1), N(2), N(3), N(4), N(5), N(6), N(7), N(8)
			, N(9), N(15), N(16), N(20), N(21), N(52), N(55), N(65), N(67)];
			var boosteffectnum = 17;
			
			function getboosteffect(b)
			{
				if(!b.gte(1))
				{
					return '在1跃迁，解锁1号传输节点。';
				}
				else if(!b.gte(2))
				{
					return '在2跃迁，解锁2号传输节点。';
				}
				else if(!b.gte(3))
				{
					return '在3跃迁，解锁3号传输节点。';
				}
				else if(!b.gte(4))
				{
					return '在4跃迁，解锁4号传输节点。';
				}
				else if(!b.gte(5))
				{
					return '在5跃迁，解锁5号传输节点。';
				}
				else if(!b.gte(6))
				{
					return '在6跃迁，解锁6号传输节点。';
				}
				else if(!b.gte(7))
				{
					return '在7跃迁，解锁7号传输节点。';
				}
				else if(!b.gte(8))
				{
					return '在8跃迁，解锁8号传输节点。';
				}
				else if(!b.gte(9))
				{
					return '在9跃迁，节点产能增加等同于跃迁数量的倍数。';
				}
				else if(!b.gte(15))
				{
					return '在15跃迁，传输节点的一阶软上限弱化25%。';
				}
				else if(!b.gte(16))
				{
					return '在16跃迁，使10跃迁及以上的折算弱化50%。';
				}
				else if(!b.gte(20))
				{
					return '在20跃迁，传输节点的一阶软上限弱化60%。';
				}
				else if(!b.gte(21))
				{
					return '在21跃迁，跃迁弱化传输节点的二阶软上限，当前：×' + notation(N(1).div(player.boost.add(1).root(15)));
				}
				else if(!b.gte(52))
				{
					return '在52跃迁，9跃迁的效果改为增加等同于跃迁数量的平方的倍数';
				}
				else if(!b.gte(55))
				{
					return '在55跃迁，节点三阶软上限延迟1.5次方出现。';
				}
				else if(!b.gte(65))
				{
					return '在65跃迁，跃迁提高传输节点的指数。当前：+' + notation(player.boost.root(10).div(15));
				}
				else if(!b.gte(67))
				{
					return '在67跃迁，世界信息增幅位面切片获取量。当前：×' + notation(player.PL1info.add(1).log(2).root(1.5));
				}
				else return '';
			}
			
			var boost2effectlist = [N(1), N(2), N(3), N(5), N(10), N(11), N(12)];
			var boost2effectnum = 7;
			
			function getboost2effect(b)
			{
				if(!b.gte(1))
				{
					return '在1二重跃迁，节点产能增加3倍。';
				}
				else if(!b.gte(2))
				{
					return '在2二重跃迁，跃迁弱化传输节点的一阶软上限。当前：×' + notation(N(1).div(player.boost.add(1).root(5)));
				}
				else if(!b.gte(3))
				{
					return '在3二重跃迁，二重跃迁增幅节点产能。当前：×' + notation(player.boost2.add(1).mul(1.25).pow(3.5));
				}
				else if(!b.gte(5))
				{
					return '在5二重跃迁，使10跃迁及以上的折算弱化50%。';
				}
				else if(!b.gte(10))
				{
					return '在10二重跃迁，跃迁数量加成世界信息获取量。当前：×' + notation(player.boost.add(1).mul(1.5).pow(0.75));
				}
				else if(!b.gte(11))
				{
					return '在11二重跃迁，使10跃迁及以上的折算弱化10%。';
				}
				else if(!b.gte(12))
				{
					return '在12二重跃迁，世界信息增幅节点产能。当前：×' + notation(player.PL1info.add(1).mul(0.5).pow(0.25));
				}
				else return '';
			}
			
			function boostreset()
			{
				player.data = N(10);
				for(let i = 0;i < 8;i++)
				{
					player.buyjd[i] = N(0);
					player.jdnum[i] = N(0);
				}
			}
			
			function boost2reset()
			{
				boostreset();
				player.boost = N(0);
			}
			
			function PL1reset()
			{
				boost2reset();
				player.boost2 = N(0);
			}
			
			function buyboost()
			{
				let cost = getboostcost();
				if(player.data.gte(cost))
				{
					if(!player.PL1upg[4]) boostreset();
					player.boost = player.boost.add(N(1));
				}
			}
			
			function buymaxboost()
			{
				if(!player.PL1upg[4]) return;
				let zs1x = getboostzs1x();
				let ans = N(0);
				if(!player.data.gte(1e10))
				{
					ans = player.data.log(10).floor().add(1);
				}
				else
				{
					ans = ((player.data.div(1e10)).log10().log(zs1x)).floor().add(11);
				}
				
				if(ans.gte(player.boost))
				{
					player.boost = ans;
				}
			}
			
			function chautoboost()
			{
				if(player.PL1upg[4]) player.autoboost = !player.autoboost;
			}
			
			function chautoboost2()
			{
				if(player.sliceupg[0]) player.autoboost2 = !player.autoboost2;
			}
			
			function buyboost2()
			{
				let cost = getboost2cost();
				if(player.boost.gte(cost))
				{
					if(!player.sliceupg[0]) boost2reset();
					player.boost2 = player.boost2.add(N(1));
				}
			}
			
			function buymaxboost2()
			{
				let cost_sub = N(0);
				if(player.PL1upg[7]) cost_sub = cost_sub.add(player.sliceupg_rep[2]);
				let ans = player.boost.add(cost_sub).sub(16).div(4).floor().add(1);
				if(ans.gte(player.boost2))
				{
					player.boost2 = ans;
				}
			}
			
			var PL1infoget = N(0);
			function updatePLinfoget()
			{
				if(player.data.gte(1e80))
				{
					if(player.sliceupg[1]) PL1infoget = player.data.root(8).div(1e10);
					else if(player.PL1upg[7]) PL1infoget = player.data.root(10).div(1e8);
					else PL1infoget = player.data.root(80).sub(9);
				}
				else PL1infoget = N(0);
				
				if(player.boost2.gte(10)) PL1infoget = PL1infoget.mul(player.boost.add(1).mul(1.5).pow(0.75));
				PL1infoget = PL1infoget.floor();
			}
			
			function buyPL1()
			{
				if(player.data.gte(1e80))
				{
					PL1reset();
					player.PL1info = player.PL1info.add(PL1infoget);
					player.PL1unlock = true;
				}
			}
			
			function buyPL1ug(i)
			{
				i = i - 1;
				if(player.PL1info.gte(PL1upgcost[i]) && !player.PL1upg[i])
				{
					player.PL1info = player.PL1info.sub(PL1upgcost[i]);
					player.PL1upg[i] = true;
				}
			}
			
			function getsliceeffect()
			{
				let p = N(0.5);
				if(player.PL1upg[7]) p = p.add(player.sliceupg_rep[1].mul(0.05));
				
				let effect = player.slice.pow(p).max(1);
				return effect;
			}
			
			function buysliceupg(num)
			{
				num = num - 1;
				if(num < 4)
				{
					let cost = sliceupgcost[num].pow(player.sliceupg_rep[num].add(1));
					if(player.slice.gte(cost))
					{
						player.slice = player.slice.sub(cost);
						player.sliceupg_rep[num] = player.sliceupg_rep[num].add(1);
					}
				}
				else
				{
					let cost = sliceupgcost[num];
					if(player.slice.gte(cost) && !player.sliceupg[num - 4])
					{
						player.slice = player.slice.sub(cost);
						player.sliceupg[num - 4] = true;
					}
				}
			}
			
			function automation()
			{
				if(player.PL1upg[0])
				{
					for(let i = 0;i < 8;i++)
					{
						if(player.autobuyjd[i]) buymaxjd(i + 1);
					}
				}
				if(player.PL1upg[4])
				{
					if(player.autoboost) buymaxboost();
				}
				if(player.sliceupg[0])
				{
					if(player.autoboost2) buymaxboost2();
				}
			}
			
			function produce()
			{
				updatePLinfoget();
				
				let jdprice = getjdprice();
				let jdx = getjdx();
				let jdunlock = [N(1), N(2), N(3), N(4), N(5), N(6), N(7), N(8)];
				for(let i = 7;i >= 1;i--)
				{
					if(player.boost.gte(jdunlock[i]))
					{
						player.jdnum[i - 1] = player.jdnum[i - 1].add(player.jdnum[i].mul(jdx[i]).div(10));
					}
				}
				if(player.boost.gte(jdunlock[0]))
				{
					player.data = player.data.add(player.jdnum[0].mul(jdx[0]).div(10));
				}
				
				if(player.PL1upg[7])
				{
					let slice_gen = N(0.05);
					if(!player.slice.gte(1e7)) slice_gen = slice_gen.mul(player.slice.div(600).root(1.25).max(1));
					else slice_gen = slice_gen.mul(player.slice.div(1e7).pow(0.8).mul(1e7).div(600).root(1.25).max(1));
					
					if(slice_gen.gte(5e8)) slice_gen = N(5e8).mul(slice_gen.div(5e8).pow(0.75));
					if(slice_gen.gte(1e300)) slice_gen = N(1e300).mul(slice_gen.div(1e300).pow(0.3));
					slice_gen = slice_gen.mul(N(1.5).pow(player.sliceupg_rep[0]));
					if(player.boost.gte(67)) slice_gen = slice_gen.mul(player.PL1info.add(1).log(2).root(1.5));
					player.slice = player.slice.add(slice_gen);
				}
				
				automation();
			}
			
			function GUI()
			{
				let page_has_spage = [0, 0, 3, 3];
				
				if(page == 1) document.getElementById('page1').style.display = 'block';
				else document.getElementById('page1').style.display = 'none';
				if(page == 2) document.getElementById('page2').style.display = 'block';
				else document.getElementById('page2').style.display = 'none';
				if(page == 3) document.getElementById('page3').style.display = 'block';
				else document.getElementById('page3').style.display = 'none';
				if(page == 4) document.getElementById('page4').style.display = 'block';
				else document.getElementById('page4').style.display = 'none';
				
				if(page_has_spage[page - 1] >= 1)
				{
					if(subpage == 1) document.getElementById('spage1_' + page).style.display = 'block';
					else document.getElementById('spage1_' + page).style.display = 'none';
				}
				if(page_has_spage[page - 1] >= 2)
				{
					if(subpage == 2) document.getElementById('spage2_' + page).style.display = 'block';
					else document.getElementById('spage2_' + page).style.display = 'none';
				}
				if(page_has_spage[page - 1] >= 3)
				{
					if(subpage == 3) document.getElementById('spage3_' + page).style.display = 'block';
					else document.getElementById('spage3_' + page).style.display = 'none';
				}
				if(page_has_spage[page - 1] >= 4)
				{
					if(subpage == 4) document.getElementById('spage4_' + page).style.display = 'block';
					else document.getElementById('spage4_' + page).style.display = 'none';
				}
				
				if(player.PL1unlock) document.getElementById('PL1pbt').style.display = 'inline-block';
				else document.getElementById('PL1pbt').style.display = 'none';
				
				if(player.PL1upg[7]) document.getElementById('spagebt2_4').style.display = 'inline-block';
				else document.getElementById('spagebt2_4').style.display = 'none';
				
				document.getElementById('PL1infoget').innerHTML = notation(PL1infoget);
				
				document.getElementById('data').innerHTML = notation(player.data);
				document.getElementById('PL1info').innerHTML = notation(player.PL1info);
				document.getElementById('slice').innerHTML = notation(player.slice);
				document.getElementById('slice_effect').innerHTML = notation(getsliceeffect());
				for(let i = 0;i < 3;i++)
				{
					sbc[i] += sbct[i];
					if(sbc[i] < 0) sbc[i] = 0, sbct[i] = ((-sbct[i]) + 1) % 3;
					else if(sbc[i] > 255) sbc[i] = 255, sbct[i] = ((-sbct[i]) - 1) % 3;
				}
				for(let xm = 1;xm < 9;xm++) document.getElementById('slicebt' + xm).style['border-color'] = 'rgb(' + sbc[0] + ',' + sbc[1] + ',' + sbc[2] + ')';
				document.getElementById('boostnum').innerHTML = notation(player.boost);
				document.getElementById('boost2num').innerHTML = notation(player.boost2);
				let jdx = getjdx();
				let boostcost = getboostcost();
				let boost2cost = getboost2cost();
				let jdcost = getjdprice();
				let jdunlock = [N(1), N(2), N(3), N(4), N(5), N(6), N(7), N(8)];
				document.getElementById('boosteffect').innerHTML = getboosteffect(player.boost);
				document.getElementById('boost2effect').innerHTML = getboost2effect(player.boost2);
				let beff = '', b2eff = '';
				for(let i = 0;i < boosteffectnum;i++)
				{
					if(player.boost.gte(boosteffectlist[i])) beff = beff + getboosteffect(boosteffectlist[i].sub(1)) + '<br/>';
				}
				for(let i = 0;i < boost2effectnum;i++)
				{
					if(player.boost2.gte(boost2effectlist[i])) b2eff = b2eff + getboost2effect(boost2effectlist[i].sub(1)) + '<br/>';
				}
				document.getElementById('boosteffectlist').innerHTML = beff;
				document.getElementById('boost2effectlist').innerHTML = b2eff;
				if(player.autoboost) document.getElementById('autoboostbts').innerHTML = '自动购买：开';
				else document.getElementById('autoboostbts').innerHTML = '自动购买：关';
				if(player.autoboost2) document.getElementById('autoboost2bts').innerHTML = '自动购买：开';
				else document.getElementById('autoboost2bts').innerHTML = '自动购买：关';
				if(player.PL1upg[4]) document.getElementById('autoboostbt').style.display = 'block';
				else document.getElementById('autoboostbt').style.display = 'none';
				if(player.sliceupg[0]) document.getElementById('autoboost2bt').style.display = 'block';
				else document.getElementById('autoboost2bt').style.display = 'none';
				for(let i = 0;i < 8;i++)
				{
					let scs = getjdscs(i);
					let scx = getjdscx(i);
					for(let j = 0;j < 8;j++) document.getElementById('jdscs' + (j + 1)).innerHTML = notation(scs[j]);
					for(let j = 0;j < 8;j++) document.getElementById('jdscx' + (j + 1)).innerHTML = notation(scx[j]);
					let jdx = getjdx();
					let zscolor = ['#ff0000', '#aa2200', '#22aa00', '#00ff00', '#00aa22', '#0022aa', '#0000ff', '#2200aa'];
					let zstext = ['一阶软上限', '二阶软上限', '三阶软上限', '四阶软上限', '五阶软上限', '六阶软上限', '七阶软上限', '八阶软上限'];
					document.getElementById('jdzs' + (i + 1)).innerHTML = '';
					document.getElementById('jdzs' + (i + 1)).style['color'] = '#ffffff';
					for(let j = 0;j < 4;j++)
					{
						if((N(2).pow(player.buyjd[i])).gte(scs[j]))
						{
							document.getElementById('jdzs' + (i + 1)).innerHTML = zstext[j];
							document.getElementById('jdzs' + (i + 1)).style['color'] = zscolor[j];
						}
					}
					for(let j = 4;j < 8;j++)
					{
						if((N(2).pow(player.buyjd[i])).gte(N(10).pow(scs[j])))
						{
							document.getElementById('jdzs' + (i + 1)).innerHTML = zstext[j];
							document.getElementById('jdzs' + (i + 1)).style['color'] = zscolor[j];
						}
					}
					if(player.boost.gte(jdunlock[i]))
					{
						document.getElementById('unlockjd' + (i + 1)).style.display = 'block';
					}
					else
					{
						document.getElementById('unlockjd' + (i + 1)).style.display = 'none';
					}
					document.getElementById('jdnum' + (i + 1)).innerHTML = notation(player.jdnum[i]);
					document.getElementById('jdbuy' + (i + 1)).innerHTML = notation(player.buyjd[i]);
					document.getElementById('jdx' + (i + 1)).innerHTML = notation(jdx[i]);
					document.getElementById('jdcost' + (i + 1)).innerHTML = notation(jdcost[i]);
					if(player.data.gte(jdcost[i])) document.getElementById('jdbuybt' + (i + 1)).style['background-color'] = '#666666';
					else document.getElementById('jdbuybt' + (i + 1)).style['background-color'] = '#000000';
					
					if(player.autobuyjd[i]) document.getElementById('autobuyjds' + (i + 1)).innerHTML = '自动购买：开';
					else document.getElementById('autobuyjds' + (i + 1)).innerHTML = '自动购买：关';
					if(player.PL1upg[0]) document.getElementById('autobuyjdbt' + (i + 1)).style.display = 'block';
					else document.getElementById('autobuyjdbt' + (i + 1)).style.display = 'none';
				}
				if(player.PL1upg[7])
				{
					for(let i = 0;i < 4;i++)
					{
						document.getElementById('sliceupgcost' + (i + 1)).innerHTML = notation(sliceupgcost[i].pow(player.sliceupg_rep[i].add(1)));
						document.getElementById('sliceupglevel' + (i + 1)).innerHTML = notation(player.sliceupg_rep[i]);
					}
					for(let i = 4;i < 8;i++)
					{
						if(player.sliceupg[i - 4]) document.getElementById('slicebt' + (i + 1)).style['background-color'] = 'green';
						else document.getElementById('slicebt' + (i + 1)).style['background-color'] = 'black';
						document.getElementById('sliceupgcost' + (i + 1)).innerHTML = notation(sliceupgcost[i]);
					}
				}
				document.getElementById('boostcost').innerHTML = notation(boostcost);
				if(player.data.gte(boostcost))
				{
					document.getElementById('boostbt').style['background-color'] = '#666666';
				}
				else
				{
					document.getElementById('boostbt').style['background-color'] = '#000000';
				}
				document.getElementById('boost2cost').innerHTML = notation(boost2cost);
				if(player.boost.gte(boost2cost))
				{
					document.getElementById('boost2bt').style['background-color'] = '#666666';
				}
				else
				{
					document.getElementById('boost2bt').style['background-color'] = '#000000';
				}
				for(let i = 0;i < 8;i++)
				{
					if(player.PL1upg[i]) document.getElementById('PL1ug' + (i + 1)).style['background-color'] = 'blue';
					else if(player.PL1info.gte(PL1upgcost[i])) document.getElementById('PL1ug' + (i + 1)).style['background-color'] = '#666666';
					else document.getElementById('PL1ug' + (i + 1)).style['background-color'] = '#000000';
				}
				document.getElementById('PL1ug3effect').innerHTML = notation(player.boost.add(1).pow(1.5));
			}
			
			
			init();
			
			var playerTemp = player;
			
			data_input();
			
			let playerLen = Object.keys(player).length;
			console.log(playerLen);
			
			const bKeys = Object.keys(playerTemp);
			
			bKeys.forEach(key =>
			{
				if (!player.hasOwnProperty(key))
				{
				  player[key] = playerTemp[key];
				}
			});
			
			setInterval(produce, 100);
			setInterval(GUI, 40);
			setInterval(data_print, 400);
		</script>
	</body>
</html>
